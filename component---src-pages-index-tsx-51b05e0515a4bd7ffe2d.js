"use strict";(self.webpackChunkshipwrecks=self.webpackChunkshipwrecks||[]).push([[691],{3076:function(t){function e(t,e,n,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)>=0?(o=a,i=a-1):r=a+1}return o}function n(t,e,n,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)>0?(o=a,i=a-1):r=a+1}return o}function r(t,e,n,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)<0?(o=a,r=a+1):i=a-1}return o}function i(t,e,n,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,s=t[a];(void 0!==n?n(s,e):s-e)<=0?(o=a,r=a+1):i=a-1}return o}function o(t,e,n,r,i){for(;r<=i;){var o=r+i>>>1,a=t[o],s=void 0!==n?n(a,e):a-e;if(0===s)return o;s<=0?r=o+1:i=o-1}return-1}function a(t,e,n,r,i,o){return"function"==typeof n?o(t,e,n,void 0===r?0:0|r,void 0===i?t.length-1:0|i):o(t,e,void 0,void 0===n?0:0|n,void 0===r?t.length-1:0|r)}t.exports={ge:function(t,n,r,i,o){return a(t,n,r,i,o,e)},gt:function(t,e,r,i,o){return a(t,e,r,i,o,n)},lt:function(t,e,n,i,o){return a(t,e,n,i,o,r)},le:function(t,e,n,r,o){return a(t,e,n,r,o,i)},eq:function(t,e,n,r,i){return a(t,e,n,r,i,o)}}},8188:function(t,e,n){n.r(e),n.d(e,{Head:function(){return A$},default:function(){return T$}});var r=n(7294),i=n(1883);const o=r.createContext(null);function a(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!a(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"==typeof t&&"object"==typeof e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){if(!e.hasOwnProperty(i))return!1;if(!a(t[i],e[i]))return!1}return!0}return!1}function s(t,e){if(!t.getProjection)return;const n=t.getProjection();a(n,e.getProjection())||e.setProjection(n)}function c(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function l(t,e){const n=e.viewState||e;let r=!1;if("longitude"in n&&"latitude"in n){const e=t.center;t.center=new e.constructor(n.longitude,n.latitude),r=r||e!==t.center}if("zoom"in n){const e=t.zoom;t.zoom=n.zoom,r=r||e!==t.zoom}if("bearing"in n){const e=t.bearing;t.bearing=n.bearing,r=r||e!==t.bearing}if("pitch"in n){const e=t.pitch;t.pitch=n.pitch,r=r||e!==t.pitch}return n.padding&&!t.isPaddingEqual(n.padding)&&(r=!0,t.padding=n.padding),r}const u=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function f(t){if(!t)return null;if("string"==typeof t)return t;if("toJS"in t&&(t=t.toJS()),!t.layers)return t;const e={};for(const r of t.layers)e[r.id]=r;const n=t.layers.map((t=>{let n=null;"interactive"in t&&(n=Object.assign({},t),delete n.interactive);const r=e[t.ref];if(r){n=n||Object.assign({},t),delete n.ref;for(const t of u)t in r&&(n[t]=r[t])}return n||t}));return{...t,layers:n}}const h={version:8,sources:{},layers:[]},d={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},p={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},m={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},g=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],v=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class y{constructor(t,e,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=t=>{const e=this.props[m[t.type]];e?e(t):"error"===t.type&&console.error(t.error)},this._onPointerEvent=t=>{"mousemove"!==t.type&&"mouseout"!==t.type||this._updateHover(t);const e=this.props[d[t.type]];e&&(this.props.interactiveLayerIds&&"mouseover"!==t.type&&"mouseout"!==t.type&&(t.features=this._hoveredFeatures||this._queryRenderedFeatures(t.point)),e(t),delete t.features)},this._onCameraEvent=t=>{if(!this._internalUpdate){const e=this.props[p[t.type]];e&&e(t)}t.type in this._deferredEvents&&(this._deferredEvents[t.type]=!1)},this._MapClass=t,this.props=e,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(t){const e=this.props;this.props=t;const n=this._updateSettings(t,e);n&&this._createShadowTransform(this._map);const r=this._updateSize(t),i=this._updateViewState(t,!0);this._updateStyle(t,e),this._updateStyleComponents(t,e),this._updateHandlers(t,e),(n||r||i&&!this._map.isMoving())&&this.redraw()}static reuse(t,e){const n=y.savedMaps.pop();if(!n)return null;const r=n.map,i=r.getContainer();for(e.className=i.className;i.childNodes.length>0;)e.appendChild(i.childNodes[0]);r._container=e;const o=r._resizeObserver;o&&(o.disconnect(),o.observe(e)),n.setProps({...t,styleDiffing:!1}),r.resize();const{initialViewState:a}=t;return a&&(a.bounds?r.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):n._updateViewState(a,!1)),r.isStyleLoaded()?r.fire("load"):r.once("styledata",(()=>r.fire("load"))),r._update(),n}_initialize(t){const{props:e}=this,{mapStyle:n=h}=e,r={...e,...e.initialViewState,accessToken:e.mapboxAccessToken||b()||null,container:t,style:f(n)},i=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[i.longitude||0,i.latitude||0],zoom:i.zoom||0,pitch:i.pitch||0,bearing:i.bearing||0}),e.gl){const t=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=t,e.gl)}const o=new this._MapClass(r);i.padding&&o.setPadding(i.padding),e.cursor&&(o.getCanvas().style.cursor=e.cursor),this._createShadowTransform(o);const a=o._render;o._render=t=>{this._inRender=!0,a.call(o,t),this._inRender=!1};const c=o._renderTaskQueue.run;o._renderTaskQueue.run=t=>{c.call(o._renderTaskQueue,t),this._onBeforeRepaint()},o.on("render",(()=>this._onAfterRepaint()));const l=o.fire;o.fire=this._fireEvent.bind(this,l),o.on("resize",(()=>{this._renderTransform.resize(o.transform.width,o.transform.height)})),o.on("styledata",(()=>{this._updateStyleComponents(this.props,{}),s(o.transform,this._renderTransform)})),o.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const s in d)o.on(s,this._onPointerEvent);for(const s in p)o.on(s,this._onCameraEvent);for(const s in m)o.on(s,this._onEvent);this._map=o}recycle(){const t=this.map.getContainer().querySelector("[mapboxgl-children]");null==t||t.remove(),y.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;!this._inRender&&t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_createShadowTransform(t){const e=function(t){const e=t.clone();return e.pixelsToGLUnits=t.pixelsToGLUnits,e}(t.transform);t.painter.transform=e,this._renderTransform=e}_updateSize(t){const{viewState:e}=t;if(e){const t=this._map;if(e.width!==t.transform.width||e.height!==t.transform.height)return t.resize(),!0}return!1}_updateViewState(t,e){if(this._internalUpdate)return!1;const n=this._map,r=this._renderTransform,{zoom:i,pitch:o,bearing:a}=r,s=n.isMoving();s&&(r.cameraElevationReference="sea");const u=l(r,{...c(n.transform),...t});if(s&&(r.cameraElevationReference="ground"),u&&e){const t=this._deferredEvents;t.move=!0,t.zoom||(t.zoom=i!==r.zoom),t.rotate||(t.rotate=a!==r.bearing),t.pitch||(t.pitch=o!==r.pitch)}return s||l(n.transform,t),u}_updateSettings(t,e){const n=this._map;let r=!1;for(const i of g)if(i in t&&!a(t[i],e[i])){r=!0;const e=n[`set${i[0].toUpperCase()}${i.slice(1)}`];null==e||e.call(n,t[i])}return r}_updateStyle(t,e){if(t.cursor!==e.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==e.mapStyle){const{mapStyle:e=h,styleDiffing:n=!0}=t,r={diff:n};return"localIdeographFontFamily"in t&&(r.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(f(e),r),!0}return!1}_updateStyleComponents(t,e){const n=this._map;let r=!1;return n.isStyleLoaded()&&("light"in t&&n.setLight&&!a(t.light,e.light)&&(r=!0,n.setLight(t.light)),"fog"in t&&n.setFog&&!a(t.fog,e.fog)&&(r=!0,n.setFog(t.fog)),"terrain"in t&&n.setTerrain&&!a(t.terrain,e.terrain)&&(t.terrain&&!n.getSource(t.terrain.source)||(r=!0,n.setTerrain(t.terrain)))),r}_updateHandlers(t,e){var n,r;const i=this._map;let o=!1;for(const s of v){const c=null===(n=t[s])||void 0===n||n;a(c,null===(r=e[s])||void 0===r||r)||(o=!0,c?i[s].enable(c):i[s].disable())}return o}_queryRenderedFeatures(t){const e=this._map,n=e.transform,{interactiveLayerIds:r=[]}=this.props;try{return e.transform=this._renderTransform,e.queryRenderedFeatures(t,{layers:r.filter(e.getLayer.bind(e))})}catch(i){return[]}finally{e.transform=n}}_updateHover(t){var e;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const n=t.type,r=(null===(e=this._hoveredFeatures)||void 0===e?void 0:e.length)>0,i=this._queryRenderedFeatures(t.point),o=i.length>0;!o&&r&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=i,o&&!r&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=n}else this._hoveredFeatures=null}_fireEvent(t,e,n){const r=this._map,i=r.transform,o="string"==typeof e?e:e.type;return"move"===o&&this._updateViewState(this.props,!1),o in p&&("object"==typeof e&&(e.viewState=c(i)),this._map.isMoving())?(r.transform=this._renderTransform,t.call(r,e,n),r.transform=i,r):(t.call(r,e,n),r)}_onBeforeRepaint(){const t=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&t.fire(n);this._internalUpdate=!1;const e=this._map.transform;t.transform=this._renderTransform,this._onAfterRepaint=()=>{s(this._renderTransform,e),t.transform=e}}}function b(){let t=null;if("undefined"!=typeof location){const e=/access_token=([^&\/]*)/.exec(location.search);t=e&&e[1]}try{t=t||{}.MapboxAccessToken}catch(e){}try{t=t||{}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(n){}return t}y.savedMaps=[];const w=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function x(t){if(!t)return null;const e=t.map,n={getMap:()=>e,getCenter:()=>t.transform.center,getZoom:()=>t.transform.zoom,getBearing:()=>t.transform.bearing,getPitch:()=>t.transform.pitch,getPadding:()=>t.transform.padding,getBounds:()=>t.transform.getBounds(),project:n=>{const r=e.transform;e.transform=t.transform;const i=e.project(n);return e.transform=r,i},unproject:n=>{const r=e.transform;e.transform=t.transform;const i=e.unproject(n);return e.transform=r,i},queryTerrainElevation:(n,r)=>{const i=e.transform;e.transform=t.transform;const o=e.queryTerrainElevation(n,r);return e.transform=i,o},queryRenderedFeatures:(n,r)=>{const i=e.transform;e.transform=t.transform;const o=e.queryRenderedFeatures(n,r);return e.transform=i,o}};for(const r of function(t){const e=new Set;let n=t;for(;n;){for(const r of Object.getOwnPropertyNames(n))"_"!==r[0]&&"function"==typeof t[r]&&"fire"!==r&&"setEventedParent"!==r&&e.add(r);n=Object.getPrototypeOf(n)}return Array.from(e)}(e))r in n||w.includes(r)||(n[r]=e[r].bind(e));return n}var k="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;const M=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const S=r.createContext(null);function T(t,e,n){const i=(0,r.useContext)(o),[a,s]=(0,r.useState)(null),c=(0,r.useRef)(),{current:l}=(0,r.useRef)({mapLib:null,map:null});(0,r.useEffect)((()=>{const e=t.mapLib;let r,o=!0;return Promise.resolve(e||n).then((e=>{if(!o)return;if(!e)throw new Error("Invalid mapLib");const n="Map"in e?e:e.default;if(!n.Map)throw new Error("Invalid mapLib");if(function(t,e){for(const r of M)r in e&&(t[r]=e[r]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=e;n&&t.getRTLTextPluginStatus&&"unavailable"===t.getRTLTextPluginStatus()&&t.setRTLTextPlugin(n,(t=>{t&&console.error(t)}),!0)}(n,t),n.supported&&!n.supported(t))throw new Error("Map is not supported by this browser");t.reuseMaps&&(r=y.reuse(t,c.current)),r||(r=new y(n.Map,t,c.current)),l.map=x(r),l.mapLib=n,s(r),null==i||i.onMapMount(l.map,t.id)})).catch((e=>{const{onError:n}=t;n?n({type:"error",target:null,originalEvent:null,error:e}):console.error(e)})),()=>{o=!1,r&&(null==i||i.onMapUnmount(t.id),t.reuseMaps?r.recycle():r.destroy())}}),[]),k((()=>{a&&a.setProps(t)})),(0,r.useImperativeHandle)(e,(()=>l.map),[a]);const u=(0,r.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...t.style})),[t.style]);return r.createElement("div",{id:t.id,ref:c,style:u},a&&r.createElement(S.Provider,{value:l},r.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},t.children)))}var A=n(3935);const E=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function P(t,e){if(!t||!e)return;const n=t.style;for(const r in e){const t=e[r];Number.isFinite(t)&&!E.test(r)?n[r]=`${t}px`:n[r]=t}}var _=(0,r.memo)((0,r.forwardRef)((function(t,e){const{map:n,mapLib:i}=(0,r.useContext)(S),o=(0,r.useRef)({props:t});o.current.props=t;const a=(0,r.useMemo)((()=>{let e=!1;r.Children.forEach(t.children,(t=>{t&&(e=!0)}));const n={...t,element:e?document.createElement("div"):null},s=new i.Marker(n);return s.setLngLat([t.longitude,t.latitude]),s.getElement().addEventListener("click",(t=>{var e,n;null===(n=(e=o.current.props).onClick)||void 0===n||n.call(e,{type:"click",target:s,originalEvent:t})})),s.on("dragstart",(t=>{var e,n;const r=t;r.lngLat=a.getLngLat(),null===(n=(e=o.current.props).onDragStart)||void 0===n||n.call(e,r)})),s.on("drag",(t=>{var e,n;const r=t;r.lngLat=a.getLngLat(),null===(n=(e=o.current.props).onDrag)||void 0===n||n.call(e,r)})),s.on("dragend",(t=>{var e,n;const r=t;r.lngLat=a.getLngLat(),null===(n=(e=o.current.props).onDragEnd)||void 0===n||n.call(e,r)})),s}),[]);(0,r.useEffect)((()=>(a.addTo(n.getMap()),()=>{a.remove()})),[]);const{longitude:s,latitude:c,offset:l,style:u,draggable:f=!1,popup:h=null,rotation:d=0,rotationAlignment:p="auto",pitchAlignment:m="auto"}=t;return(0,r.useEffect)((()=>{P(a.getElement(),u)}),[u]),(0,r.useImperativeHandle)(e,(()=>a),[]),a.getLngLat().lng===s&&a.getLngLat().lat===c||a.setLngLat([s,c]),l&&!function(t,e){const n=Array.isArray(t)?t[0]:t?t.x:0,r=Array.isArray(t)?t[1]:t?t.y:0,i=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0;return n===i&&r===o}(a.getOffset(),l)&&a.setOffset(l),a.isDraggable()!==f&&a.setDraggable(f),a.getRotation()!==d&&a.setRotation(d),a.getRotationAlignment()!==p&&a.setRotationAlignment(p),a.getPitchAlignment()!==m&&a.setPitchAlignment(m),a.getPopup()!==h&&a.setPopup(h),(0,A.createPortal)(t.children,a.getElement())})));function $(t){return new Set(t?t.trim().split(/\s+/):[])}(0,r.memo)((0,r.forwardRef)((function(t,e){const{map:n,mapLib:i}=(0,r.useContext)(S),o=(0,r.useMemo)((()=>document.createElement("div")),[]),s=(0,r.useRef)({props:t});s.current.props=t;const c=(0,r.useMemo)((()=>{const e={...t},n=new i.Popup(e);return n.setLngLat([t.longitude,t.latitude]),n.once("open",(t=>{var e,n;null===(n=(e=s.current.props).onOpen)||void 0===n||n.call(e,t)})),n}),[]);if((0,r.useEffect)((()=>{const t=t=>{var e,n;null===(n=(e=s.current.props).onClose)||void 0===n||n.call(e,t)};return c.on("close",t),c.setDOMContent(o).addTo(n.getMap()),()=>{c.off("close",t),c.isOpen()&&c.remove()}}),[]),(0,r.useEffect)((()=>{P(c.getElement(),t.style)}),[t.style]),(0,r.useImperativeHandle)(e,(()=>c),[]),c.isOpen()&&(c.getLngLat().lng===t.longitude&&c.getLngLat().lat===t.latitude||c.setLngLat([t.longitude,t.latitude]),t.offset&&!a(c.options.offset,t.offset)&&c.setOffset(t.offset),c.options.anchor===t.anchor&&c.options.maxWidth===t.maxWidth||(c.options.anchor=t.anchor,c.setMaxWidth(t.maxWidth)),c.options.className!==t.className)){const e=$(c.options.className),n=$(t.className);for(const t of e)n.has(t)||c.removeClassName(t);for(const t of n)e.has(t)||c.addClassName(t);c.options.className=t.className}return(0,A.createPortal)(t.children,o)})));var C=function(t,e,n,i){const o=(0,r.useContext)(S),a=(0,r.useMemo)((()=>t(o)),[]);return(0,r.useEffect)((()=>{const t=i||n||e,r="function"==typeof e&&"function"==typeof n?e:null,s="function"==typeof n?n:"function"==typeof e?e:null,{map:c}=o;return c.hasControl(a)||(c.addControl(a,null==t?void 0:t.position),r&&r(o)),()=>{s&&s(o),c.hasControl(a)&&c.removeControl(a)}}),[]),a};(0,r.memo)((function(t){const e=C((({mapLib:e})=>new e.AttributionControl(t)),{position:t.position});return(0,r.useEffect)((()=>{P(e._container,t.style)}),[t.style]),null}));(0,r.memo)((function(t){const e=C((({mapLib:e})=>new e.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)})),{position:t.position});return(0,r.useEffect)((()=>{P(e._controlContainer,t.style)}),[t.style]),null}));var L=(0,r.memo)((0,r.forwardRef)((function(t,e){const n=(0,r.useRef)({props:t}),i=C((({mapLib:e})=>{const r=new e.GeolocateControl(t),i=r._setupUI;return r._setupUI=t=>{r._container.hasChildNodes()||i(t)},r.on("geolocate",(t=>{var e,r;null===(r=(e=n.current.props).onGeolocate)||void 0===r||r.call(e,t)})),r.on("error",(t=>{var e,r;null===(r=(e=n.current.props).onError)||void 0===r||r.call(e,t)})),r.on("outofmaxbounds",(t=>{var e,r;null===(r=(e=n.current.props).onOutOfMaxBounds)||void 0===r||r.call(e,t)})),r.on("trackuserlocationstart",(t=>{var e,r;null===(r=(e=n.current.props).onTrackUserLocationStart)||void 0===r||r.call(e,t)})),r.on("trackuserlocationend",(t=>{var e,r;null===(r=(e=n.current.props).onTrackUserLocationEnd)||void 0===r||r.call(e,t)})),r}),{position:t.position});return n.current.props=t,(0,r.useImperativeHandle)(e,(()=>i),[]),(0,r.useEffect)((()=>{P(i._container,t.style)}),[t.style]),null})));(0,r.memo)((function(t){const e=C((({mapLib:e})=>new e.NavigationControl(t)),{position:t.position});return(0,r.useEffect)((()=>{P(e._container,t.style)}),[t.style]),null}));(0,r.memo)((function(t){const e=C((({mapLib:e})=>new e.ScaleControl(t)),{position:t.position}),n=(0,r.useRef)(t),i=n.current;n.current=t;const{style:o}=t;return void 0!==t.maxWidth&&t.maxWidth!==i.maxWidth&&(e.options.maxWidth=t.maxWidth),void 0!==t.unit&&t.unit!==i.unit&&e.setUnit(t.unit),(0,r.useEffect)((()=>{P(e._container,o)}),[o]),null}));const D=n.e(634).then(n.t.bind(n,6158,23)),R=r.forwardRef((function(t,e){return T(t,e,D)})),N=_,V=L;var F=R;function j(t){if("undefined"==typeof Proxy)return t;const e=new Map;return new Proxy(((...e)=>t(...e)),{get:(n,r)=>"create"===r?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}function O(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}const B=t=>Array.isArray(t);function I(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function U(t){return"string"==typeof t||Array.isArray(t)}function z(t){const e=[{},{}];return null==t||t.values.forEach(((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()})),e}function W(t,e,n,r){if("function"==typeof e){const[i,o]=z(r);e=e(void 0!==n?n:t.custom,i,o)}if("string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e){const[i,o]=z(r);e=e(void 0!==n?n:t.custom,i,o)}return e}function H(t,e,n){const r=t.getProps();return W(r,e,void 0!==n?n:r.custom,t)}const q=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Y=["initial",...q],X=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Z=new Set(X),G=t=>1e3*t,K=t=>t/1e3,Q={type:"spring",stiffness:500,damping:25,restSpeed:10},J={type:"keyframes",duration:.8},tt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},et=(t,{keyframes:e})=>e.length>2?J:Z.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===e[1]?2*Math.sqrt(550):30,restSpeed:10}:Q:tt;function nt(t,e){return t[e]||t.default||t}const rt=!1,ot=!1,at=!1,st=t=>null!==t;function ct(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(st),o=e&&"loop"!==n&&e%2==1?0:i.length-1;return o&&void 0!==r?r:i[o]}const lt=t=>t;const ut=["read","resolveKeyframes","update","preRender","render","postRender"];function ft(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=ut.reduce(((t,e)=>(t[e]=function(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function s(e){o.has(e)&&(c.schedule(e),t()),e(a)}const c={schedule:(t,i=!1,a=!1)=>{const s=a&&r?e:n;return i&&o.add(t),s.has(t)||s.add(t),t},cancel:t=>{n.delete(t),o.delete(t)},process:t=>{a=t,r?i=!0:(r=!0,[e,n]=[n,e],n.clear(),e.forEach(s),r=!1,i&&(i=!1,c.process(t)))}};return c}(o),t)),{}),{read:s,resolveKeyframes:c,update:l,preRender:u,render:f,postRender:h}=a,d=()=>{const o=ot?i.timestamp:performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1),i.timestamp=o,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(d))};return{schedule:ut.reduce(((e,o)=>{const s=a[o];return e[o]=(e,o=!1,a=!1)=>(n||(n=!0,r=!0,i.isProcessing||t(d)),s.schedule(e,o,a)),e}),{}),cancel:t=>{for(let e=0;e<ut.length;e++)a[ut[e]].cancel(t)},state:i,steps:a}}const{schedule:ht,cancel:dt,state:pt,steps:mt}=ft("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:lt,!0),gt=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vt=1e-7,yt=12;function bt(t,e,n,r){if(t===e&&n===r)return lt;const i=e=>function(t,e,n,r,i){let o,a,s=0;do{a=e+(n-e)/2,o=gt(a,r,i)-t,o>0?n=a:e=a}while(Math.abs(o)>vt&&++s<yt);return a}(e,0,1,t,n);return t=>0===t||1===t?t:gt(i(t),e,r)}const wt=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xt=t=>e=>1-t(1-e),kt=bt(.33,1.53,.69,.99),Mt=xt(kt),St=wt(Mt),Tt=t=>(t*=2)<1?.5*Mt(t):.5*(2-Math.pow(2,-10*(t-1))),At=t=>1-Math.sin(Math.acos(t)),Et=xt(At),Pt=wt(At),_t=t=>/^0[^.\s]+$/u.test(t);function $t(t){return"number"==typeof t?0===t:null===t||("none"===t||"0"===t||_t(t))}let Ct=lt,Lt=lt;const Dt=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Rt=t=>e=>"string"==typeof e&&e.startsWith(t),Nt=Rt("--"),Vt=Rt("var(--"),Ft=t=>!!Vt(t)&&jt.test(t.split("/*")[0].trim()),jt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ot=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bt(t,e,n=1){Lt(n<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);const[r,i]=function(t){const e=Ot.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${null!=n?n:r}`,i]}(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const t=o.trim();return Dt(t)?parseFloat(t):t}return Ft(i)?Bt(i,e,n+1):i}const It=(t,e,n)=>n>e?e:n<t?t:n,Ut={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},zt={...Ut,transform:t=>It(0,1,t)},Wt={...Ut,default:1},Ht=t=>({test:e=>"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),qt=Ht("deg"),Yt=Ht("%"),Xt=Ht("px"),Zt=Ht("vh"),Gt=Ht("vw"),Kt={...Yt,parse:t=>Yt.parse(t)/100,transform:t=>Yt.transform(100*t)},Qt=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Jt=t=>t===Ut||t===Xt,te=(t,e)=>parseFloat(t.split(", ")[e]),ee=(t,e)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return te(i[1],e);{const e=r.match(/^matrix\((.+)\)$/u);return e?te(e[1],t):0}},ne=new Set(["x","y","z"]),re=X.filter((t=>!ne.has(t)));const ie={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ee(4,13),y:ee(5,14)};ie.translateX=ie.x,ie.translateY=ie.y;const oe=t=>e=>e.test(t),ae=[Ut,Xt,Yt,qt,Gt,Zt,{test:t=>"auto"===t,parse:t=>t}],se=t=>ae.find(oe(t)),ce=new Set;let le=!1,ue=!1;function fe(){if(ue){const t=Array.from(ce).filter((t=>t.needsMeasurement)),e=new Set(t.map((t=>t.element))),n=new Map;e.forEach((t=>{const e=function(t){const e=[];return re.forEach((n=>{const r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e}(t);e.length&&(n.set(t,e),t.render())})),t.forEach((t=>t.measureInitialState())),e.forEach((t=>{t.render();const e=n.get(t);e&&e.forEach((([e,n])=>{var r;null===(r=t.getValue(e))||void 0===r||r.set(n)}))})),t.forEach((t=>t.measureEndState())),t.forEach((t=>{void 0!==t.suspendedScrollY&&window.scrollTo(0,t.suspendedScrollY)}))}ue=!1,le=!1,ce.forEach((t=>t.complete())),ce.clear()}function he(){ce.forEach((t=>{t.readKeyframes(),t.needsMeasurement&&(ue=!0)}))}class de{constructor(t,e,n,r,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ce.add(this),le||(le=!0,ht.read(he),ht.resolveKeyframes(fe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;for(let i=0;i<t.length;i++)if(null===t[i])if(0===i){const i=null==r?void 0:r.get(),o=t[t.length-1];if(void 0!==i)t[0]=i;else if(n&&e){const r=n.readValue(e,o);null!=r&&(t[0]=r)}void 0===t[0]&&(t[0]=o),r&&void 0===i&&r.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ce.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ce.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pe=t=>Math.round(1e5*t)/1e5,me=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const ge=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ve=(t,e)=>n=>Boolean("string"==typeof n&&ge.test(n)&&n.startsWith(t)||e&&!function(t){return null==t}(n)&&Object.prototype.hasOwnProperty.call(n,e)),ye=(t,e,n)=>r=>{if("string"!=typeof r)return r;const[i,o,a,s]=r.match(me);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},be={...Ut,transform:t=>Math.round((t=>It(0,255,t))(t))},we={test:ve("rgb","red"),parse:ye("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+be.transform(t)+", "+be.transform(e)+", "+be.transform(n)+", "+pe(zt.transform(r))+")"};const xe={test:ve("#"),parse:function(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:we.transform},ke={test:ve("hsl","hue"),parse:ye("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Yt.transform(pe(e))+", "+Yt.transform(pe(n))+", "+pe(zt.transform(r))+")"},Me={test:t=>we.test(t)||xe.test(t)||ke.test(t),parse:t=>we.test(t)?we.parse(t):ke.test(t)?ke.parse(t):xe.parse(t),transform:t=>"string"==typeof t?t:t.hasOwnProperty("red")?we.transform(t):ke.transform(t)},Se=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Te="number",Ae="color",Ee="var",Pe="var(",_e="${}",$e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ce(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace($e,(t=>(Me.test(t)?(r.color.push(o),i.push(Ae),n.push(Me.parse(t))):t.startsWith(Pe)?(r.var.push(o),i.push(Ee),n.push(t)):(r.number.push(o),i.push(Te),n.push(parseFloat(t))),++o,_e))).split(_e);return{values:n,split:a,indexes:r,types:i}}function Le(t){return Ce(t).values}function De(t){const{split:e,types:n}=Ce(t),r=e.length;return t=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],void 0!==t[o]){const e=n[o];i+=e===Te?pe(t[o]):e===Ae?Me.transform(t[o]):t[o]}return i}}const Re=t=>"number"==typeof t?0:t;const Ne={test:function(t){var e,n;return isNaN(t)&&"string"==typeof t&&((null===(e=t.match(me))||void 0===e?void 0:e.length)||0)+((null===(n=t.match(Se))||void 0===n?void 0:n.length)||0)>0},parse:Le,createTransformer:De,getAnimatableNone:function(t){const e=Le(t);return De(t)(e.map(Re))}},Ve=new Set(["brightness","contrast","saturate","opacity"]);function Fe(t){const[e,n]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;const[r]=n.match(me)||[];if(!r)return t;const i=n.replace(r,"");let o=Ve.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const je=/\b([a-z-]*)\(.*?\)/gu,Oe={...Ne,getAnimatableNone:t=>{const e=t.match(je);return e?e.map(Fe).join(" "):t}},Be={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt},Ie={rotate:qt,rotateX:qt,rotateY:qt,rotateZ:qt,scale:Wt,scaleX:Wt,scaleY:Wt,scaleZ:Wt,skew:qt,skewX:qt,skewY:qt,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:zt,originX:Kt,originY:Kt,originZ:Xt},Ue={...Ut,transform:Math.round},ze={...Be,...Ie,zIndex:Ue,size:Xt,fillOpacity:zt,strokeOpacity:zt,numOctaves:Ue},We={...ze,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Oe,WebkitFilter:Oe},He=t=>We[t];function qe(t,e){let n=He(t);return n!==Oe&&(n=Ne),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Ye=new Set(["auto","none","0"]);class Xe extends de{constructor(t,e,n,r,i){super(t,e,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let s=0;s<t.length;s++){let n=t[s];if("string"==typeof n&&(n=n.trim(),Ft(n))){const r=Bt(n,e.current);void 0!==r&&(t[s]=r),s===t.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Qt.has(n)||2!==t.length)return;const[r,i]=t,o=se(r),a=se(i);if(o!==a)if(Jt(o)&&Jt(a))for(let s=0;s<t.length;s++){const e=t[s];"string"==typeof e&&(t[s]=parseFloat(e))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)$t(t[r])&&n.push(r);n.length&&function(t,e,n){let r,i=0;for(;i<t.length&&!r;){const e=t[i];"string"==typeof e&&!Ye.has(e)&&Ce(e).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=qe(n,r)}(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ie[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];void 0!==r&&t.getValue(n,r).jump(r,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=ie[n](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(t=this.removedTransforms)||void 0===t?void 0:t.length)&&this.removedTransforms.forEach((([t,n])=>{e.getValue(t).set(n)})),this.resolveNoneKeyframes()}}function Ze(t){return"function"==typeof t}let Ge;function Ke(){Ge=void 0}const Qe={now:()=>(void 0===Ge&&Qe.set(pt.isProcessing||ot?pt.timestamp:performance.now()),Ge),set:t=>{Ge=t,queueMicrotask(Ke)}},Je=(t,e)=>"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!Ne.test(t)&&"0"!==t||t.startsWith("url(")));function tn(t,e,n,r){const i=t[0];if(null===i)return!1;if("display"===e||"visibility"===e)return!0;const o=t[t.length-1],a=Je(i,e),s=Je(o,e);return Ct(a===s,`You are trying to animate ${e} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!(!a||!s)&&(function(t){const e=t[0];if(1===t.length)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}(t)||("spring"===n||Ze(n))&&r)}class en{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qe.now(),this.options={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(he(),fe()),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Qe.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:a,onUpdate:s,isGenerator:c}=this.options;if(!c&&!tn(t,n,r,i)){if(at||!o)return null==s||s(ct(t,this.options,e)),null==a||a(),void this.resolveFinishedPromise();this.options.duration=0}const l=this.initPlayback(t,e);!1!==l&&(this._resolved={keyframes:t,finalKeyframe:e,...l},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((t=>{this.resolveFinishedPromise=t}))}}function nn(t,e){return e?t*(1e3/e):0}const rn=5;function on(t,e,n){const r=Math.max(e-rn,0);return nn(n-t(r),e-r)}const an=.001,sn=.01,cn=10,ln=.05,un=1;function fn({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;Ct(t<=G(cn),"Spring duration must be 10 seconds or less");let a=1-e;a=It(ln,un,a),t=It(sn,cn,K(t)),a<1?(i=e=>{const r=e*a,i=r*t,o=r-n,s=dn(e,a),c=Math.exp(-i);return an-o/s*c},o=e=>{const r=e*a*t,o=r*n+n,s=Math.pow(a,2)*Math.pow(e,2)*t,c=Math.exp(-r),l=dn(Math.pow(e,2),a);return(-i(e)+an>0?-1:1)*((o-s)*c)/l}):(i=e=>Math.exp(-e*t)*((e-n)*t+1)-an,o=e=>Math.exp(-e*t)*(t*t*(n-e)));const s=function(t,e,n){let r=n;for(let i=1;i<hn;i++)r-=t(r)/e(r);return r}(i,o,5/t);if(t=G(t),isNaN(s))return{stiffness:100,damping:10,duration:t};{const e=Math.pow(s,2)*r;return{stiffness:e,damping:2*a*Math.sqrt(r*e),duration:t}}}const hn=12;function dn(t,e){return t*Math.sqrt(1-e*e)}const pn=["duration","bounce"],mn=["stiffness","damping","mass"];function gn(t,e){return e.some((e=>void 0!==t[e]))}function vn({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],a={done:!1,value:i},{stiffness:s,damping:c,mass:l,duration:u,velocity:f,isResolvedFromDuration:h}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!gn(t,mn)&&gn(t,pn)){const n=fn(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}({...r,velocity:-K(r.velocity||0)}),d=f||0,p=c/(2*Math.sqrt(s*l)),m=o-i,g=K(Math.sqrt(s/l)),v=Math.abs(m)<5;let y;if(n||(n=v?.01:2),e||(e=v?.005:.5),p<1){const t=dn(g,p);y=e=>{const n=Math.exp(-p*g*e);return o-n*((d+p*g*m)/t*Math.sin(t*e)+m*Math.cos(t*e))}}else if(1===p)y=t=>o-Math.exp(-g*t)*(m+(d+g*m)*t);else{const t=g*Math.sqrt(p*p-1);y=e=>{const n=Math.exp(-p*g*e),r=Math.min(t*e,300);return o-n*((d+p*g*m)*Math.sinh(r)+t*m*Math.cosh(r))/t}}return{calculatedDuration:h&&u||null,next:t=>{const r=y(t);if(h)a.done=t>=u;else{let i=0;p<1&&(i=0===t?G(d):on(y,t,r));const s=Math.abs(i)<=n,c=Math.abs(o-r)<=e;a.done=s&&c}return a.value=a.done?o:r,a}}}function yn({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:s,max:c,restDelta:l=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},d=t=>void 0===s?c:void 0===c||Math.abs(s-t)<Math.abs(c-t)?s:c;let p=n*e;const m=f+p,g=void 0===a?m:a(m);g!==m&&(p=g-f);const v=t=>-p*Math.exp(-t/r),y=t=>g+v(t),b=t=>{const e=v(t),n=y(t);h.done=Math.abs(e)<=l,h.value=h.done?g:n};let w,x;const k=t=>{var e;(e=h.value,void 0!==s&&e<s||void 0!==c&&e>c)&&(w=t,x=vn({keyframes:[h.value,d(h.value)],velocity:on(y,t,h.value),damping:i,stiffness:o,restDelta:l,restSpeed:u}))};return k(0),{calculatedDuration:null,next:t=>{let e=!1;return x||void 0!==w||(e=!0,b(t),k(t)),void 0!==w&&t>=w?x.next(t-w):(!e&&b(t),h)}}}const bn=bt(.42,0,1,1),wn=bt(0,0,.58,1),xn=bt(.42,0,.58,1),kn={linear:lt,easeIn:bn,easeInOut:xn,easeOut:wn,circIn:At,circInOut:Pt,circOut:Et,backIn:Mt,backInOut:St,backOut:kt,anticipate:Tt},Mn=t=>{if(Array.isArray(t)){Lt(4===t.length,"Cubic bezier arrays must contain four numerical values.");const[e,n,r,i]=t;return bt(e,n,r,i)}return"string"==typeof t?(Lt(void 0!==kn[t],`Invalid easing type '${t}'`),kn[t]):t},Sn=(t,e)=>n=>e(t(n)),Tn=(...t)=>t.reduce(Sn),An=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},En=(t,e,n)=>t+(e-t)*n;function Pn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _n(t,e){return n=>n>0?e:t}const $n=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Cn=[xe,we,ke];function Ln(t){const e=(n=t,Cn.find((t=>t.test(n))));var n;if(Ct(Boolean(e),`'${t}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(e))return!1;let r=e.parse(t);return e===ke&&(r=function({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let i=0,o=0,a=0;if(e/=100){const r=n<.5?n*(1+e):n+e-n*e,s=2*n-r;i=Pn(s,r,t+1/3),o=Pn(s,r,t),a=Pn(s,r,t-1/3)}else i=o=a=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}(r)),r}const Dn=(t,e)=>{const n=Ln(t),r=Ln(e);if(!n||!r)return _n(t,e);const i={...n};return t=>(i.red=$n(n.red,r.red,t),i.green=$n(n.green,r.green,t),i.blue=$n(n.blue,r.blue,t),i.alpha=En(n.alpha,r.alpha,t),we.transform(i))},Rn=new Set(["none","hidden"]);function Nn(t,e){return n=>En(t,e,n)}function Vn(t){return"number"==typeof t?Nn:"string"==typeof t?Ft(t)?_n:Me.test(t)?Dn:On:Array.isArray(t)?Fn:"object"==typeof t?Me.test(t)?Dn:jn:_n}function Fn(t,e){const n=[...t],r=n.length,i=t.map(((t,n)=>Vn(t)(t,e[n])));return t=>{for(let e=0;e<r;e++)n[e]=i[e](t);return n}}function jn(t,e){const n={...t,...e},r={};for(const i in n)void 0!==t[i]&&void 0!==e[i]&&(r[i]=Vn(t[i])(t[i],e[i]));return t=>{for(const e in r)n[e]=r[e](t);return n}}const On=(t,e)=>{const n=Ne.createTransformer(e),r=Ce(t),i=Ce(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Rn.has(t)&&!i.values.length||Rn.has(e)&&!r.values.length?function(t,e){return Rn.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}(t,e):Tn(Fn(function(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],s=t.indexes[a][i[a]],c=null!==(n=t.values[s])&&void 0!==n?n:0;r[o]=c,i[a]++}return r}(r,i),i.values),n):(Ct(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),_n(t,e))};function Bn(t,e,n){if("number"==typeof t&&"number"==typeof e&&"number"==typeof n)return En(t,e,n);return Vn(t)(t,e)}function In(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Lt(o===e.length,"Both input and output ranges must be the same length"),1===o)return()=>e[0];if(2===o&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=function(t,e,n){const r=[],i=n||Bn,o=t.length-1;for(let a=0;a<o;a++){let n=i(t[a],t[a+1]);if(e){const t=Array.isArray(e)?e[a]||lt:e;n=Tn(t,n)}r.push(n)}return r}(e,r,i),s=a.length,c=e=>{let n=0;if(s>1)for(;n<t.length-2&&!(e<t[n+1]);n++);const r=An(t[n],t[n+1],e);return a[n](r)};return n?e=>c(It(t[0],t[o-1],e)):c}function Un(t){const e=[0];return function(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=An(0,e,r);t.push(En(n,1,i))}}(e,t.length-1),e}function zn(t,e){return t.map((()=>e||xn)).splice(0,t.length-1)}function Wn({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=(t=>Array.isArray(t)&&"number"!=typeof t[0])(r)?r.map(Mn):Mn(r),o={done:!1,value:e[0]},a=function(t,e){return t.map((t=>t*e))}(n&&n.length===e.length?n:Un(e),t),s=In(a,e,{ease:Array.isArray(i)?i:zn(e,i)});return{calculatedDuration:t,next:e=>(o.value=s(e),o.done=e>=t,o)}}const Hn=t=>{const e=({timestamp:e})=>t(e);return{start:()=>ht.update(e,!0),stop:()=>dt(e),now:()=>pt.isProcessing?pt.timestamp:Qe.now()}},qn={decay:yn,inertia:yn,tween:Wn,keyframes:Wn,spring:vn},Yn=t=>t/100;class Xn extends en{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()};const{name:e,motionValue:n,element:r,keyframes:i}=this.options,o=(null==r?void 0:r.KeyframeResolver)||de;this.resolver=new o(i,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}initPlayback(t){const{type:e="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,a=Ze(e)?e:qn[e]||Wn;let s,c;a!==Wn&&"number"!=typeof t[0]&&(s=Tn(Yn,Bn(t[0],t[1])),t=[0,100]);const l=a({...this.options,keyframes:t});"mirror"===i&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),null===l.calculatedDuration&&(l.calculatedDuration=function(t){let e=0,n=t.next(e);for(;!n.done&&e<2e4;)e+=50,n=t.next(e);return e>=2e4?1/0:e}(l));const{calculatedDuration:u}=l,f=u+r;return{generator:l,mirroredGenerator:c,mapPercentToKeyframes:s,calculatedDuration:u,resolvedDuration:f,totalDuration:f*(n+1)-r}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&t?this.state=this.pendingPlayState:this.pause()}tick(t,e=!1){const{resolved:n}=this;if(!n){const{keyframes:t}=this.options;return{done:!0,value:t[t.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:s,calculatedDuration:c,totalDuration:l,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:f,repeat:h,repeatType:d,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),e?this.currentTime=t:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>l;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=l);let y=this.currentTime,b=i;if(h){const t=Math.min(this.currentTime,l)/u;let e=Math.floor(t),n=t%1;!n&&t>=1&&(n=1),1===n&&e--,e=Math.min(e,h+1);Boolean(e%2)&&("reverse"===d?(n=1-n,p&&(n-=p/u)):"mirror"===d&&(b=o)),y=It(0,1,n)*u}const w=v?{done:!1,value:s[0]}:b.next(y);a&&(w.value=a(w.value));let{done:x}=w;v||null===c||(x=this.speed>=0?this.currentTime>=l:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return k&&void 0!==r&&(w.value=ct(s,this.options,r)),m&&m(w.value),k&&this.finish(),w}get duration(){const{resolved:t}=this;return t?K(t.calculatedDuration):0}get time(){return K(this.currentTime)}set time(t){t=G(t),this.currentTime=t,null!==this.holdTime||0===this.speed?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=K(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:t=Hn,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t((t=>this.tick(t)))),e&&e();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;this._resolved?(this.state="paused",this.holdTime=null!==(t=this.currentTime)&&void 0!==t?t:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Zn=new Set(["opacity","clipPath","filter","transform"]),Gn=t=>Array.isArray(t)&&"number"==typeof t[0],Kn=(t,e)=>{let n="";const r=Math.max(Math.round(e/10),2);for(let i=0;i<r;i++)n+=t(An(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function Qn(t){let e;return()=>(void 0===e&&(e=t()),e)}const Jn={linearEasing:void 0};function tr(t,e){const n=Qn(t);return()=>{var t;return null!==(t=Jn[e])&&void 0!==t?t:n()}}const er=tr((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0}),"linearEasing");function nr(t){return Boolean("function"==typeof t&&er()||!t||"string"==typeof t&&(t in ir||er())||Gn(t)||Array.isArray(t)&&t.every(nr))}const rr=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ir={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rr([0,.65,.55,1]),circOut:rr([.55,0,1,.45]),backIn:rr([.31,.01,.66,-.59]),backOut:rr([.33,1.53,.69,.99])};function or(t,e){return t?"function"==typeof t&&er()?Kn(t,e):Gn(t)?rr(t):Array.isArray(t)?t.map((t=>or(t,e)||ir.easeOut)):ir[t]:void 0}function ar(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s,times:c}={}){const l={[e]:n};c&&(l.offset=c);const u=or(s,i);return Array.isArray(u)&&(l.easing=u),t.animate(l,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"})}function sr(t,e){t.timeline=e,t.onfinish=null}const cr=Qn((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const lr={anticipate:Tt,backInOut:St,circInOut:Pt};class ur extends en{constructor(t){super(t);const{name:e,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new Xe(i,((t,e)=>this.onKeyframesResolved(t,e)),e,n,r),this.resolver.scheduleResolve()}initPlayback(t,e){var n;let{duration:r=300,times:i,ease:o,type:a,motionValue:s,name:c,startTime:l}=this.options;if(!(null===(n=s.owner)||void 0===n?void 0:n.current))return!1;var u;if("string"==typeof o&&er()&&o in lr&&(o=lr[o]),Ze((u=this.options).type)||"spring"===u.type||!nr(u.ease)){const{onComplete:e,onUpdate:n,motionValue:s,element:c,...l}=this.options,u=function(t,e){const n=new Xn({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(t,l);1===(t=u.keyframes).length&&(t[1]=t[0]),r=u.duration,i=u.times,o=u.ease,a="keyframes"}const f=ar(s.owner.current,c,t,{...this.options,duration:r,times:i,ease:o});return f.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(sr(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:n}=this.options;s.set(ct(t,this.options,e)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return K(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return K(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=G(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(this._resolved){const{resolved:e}=this;if(!e)return lt;const{animation:n}=e;sr(n,t)}else this.pendingTimeline=t;return lt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;"finished"===e.playState&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:r,type:i,ease:o,times:a}=t;if("idle"===e.playState||"finished"===e.playState)return;if(this.time){const{motionValue:t,onUpdate:e,onComplete:s,element:c,...l}=this.options,u=new Xn({...l,keyframes:n,duration:r,type:i,ease:o,times:a,isGenerator:!0}),f=G(this.time);t.setWithVelocity(u.sample(f-10).value,u.sample(f).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=t;return cr()&&n&&Zn.has(n)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!r&&"mirror"!==i&&0!==o&&"inertia"!==a}}const fr=Qn((()=>void 0!==window.ScrollTimeline));class hr{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){const n=this.animations.map((n=>fr()&&n.attachTimeline?n.attachTimeline(t):e(n)));return()=>{n.forEach(((t,e)=>{t&&t(),this.animations[e].stop()}))}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach((e=>e[t]()))}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const dr=(t,e,n,r={},i,o)=>a=>{const s=nt(r,t)||{},c=s.delay||r.delay||0;let{elapsed:l=0}=r;l-=G(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-l,onUpdate:t=>{e.set(t),s.onUpdate&&s.onUpdate(t)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:t,motionValue:e,element:o?void 0:i};(function({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length})(s)||(u={...u,...et(t,u)}),u.duration&&(u.duration=G(u.duration)),u.repeatDelay&&(u.repeatDelay=G(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let f=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(f=!0)),(at||rt)&&(f=!0,u.duration=0,u.delay=0),f&&!o&&void 0!==e.get()){const t=ct(u.keyframes,s);if(void 0!==t)return ht.update((()=>{u.onUpdate(t),u.onComplete()})),new hr([])}return!o&&ur.supports(u)?new ur(u):new Xn(u)},pr=t=>Boolean(t&&"object"==typeof t&&t.mix&&t.toValue),mr=t=>B(t)?t[t.length-1]||0:t;function gr(t,e){-1===t.indexOf(e)&&t.push(e)}function vr(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yr{constructor(){this.subscriptions=[]}add(t){return gr(this.subscriptions,t),()=>vr(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const br={current:void 0};class wr{constructor(t,e={}){this.version="11.9.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(t,e=!0)=>{const n=Qe.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(t),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Qe.now(),null===this.canTrackVelocity&&void 0!==t&&(this.canTrackVelocity=(t=>!isNaN(parseFloat(t)))(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new yr);const n=this.events[t].add(e);return"change"===t?()=>{n(),ht.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return br.current&&br.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Qe.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,30);return nn(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise((e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xr(t,e){return new wr(t,e)}function kr(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xr(n))}const Mr=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Sr="data-"+Mr("framerAppearId");function Tr(t){return t.props[Sr]}function Ar(t){return Z.has(t)?"transform":Zn.has(t)?Mr(t):void 0}class Er extends wr{constructor(){super(...arguments),this.values=[]}add(t){const e=Ar(t);e&&(gr(this.values,e),this.update())}update(){this.set(this.values.length?this.values.join(", "):"auto")}}const Pr=t=>Boolean(t&&t.getVelocity);function _r(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");return r||(null===(n=t.props.style)||void 0===n?void 0:n.willChange)||(r=new Er("auto"),t.addValue("willChange",r)),function(t){return Boolean(Pr(t)&&t.add)}(r)?r.add(e):void 0}function $r({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&!0!==e[n];return e[n]=!1,r}function Cr(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:a=t.getDefaultTransition(),transitionEnd:s,...c}=e;r&&(a=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const e=t.getValue(f,null!==(o=t.latestValues[f])&&void 0!==o?o:null),r=c[f];if(void 0===r||u&&$r(u,f))continue;const i={delay:n,...nt(a||{},f)};let s=!1;if(window.MotionHandoffAnimation){const e=Tr(t);if(e){const t=window.MotionHandoffAnimation(e,f,ht);null!==t&&(i.startTime=t,s=!0)}}_r(t,f),e.start(dr(f,e,r,t.shouldReduceMotion&&Z.has(f)?{type:!1}:i,t,s));const h=e.animation;h&&l.push(h)}return s&&Promise.all(l).then((()=>{ht.update((()=>{s&&function(t,e){const n=H(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o)kr(t,a,mr(o[a]))}(t,s)}))})),l}function Lr(t,e,n={}){var r;const i=H(t,e,"exit"===n.type?null===(r=t.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(Cr(t,i,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:a,staggerDirection:s}=o;return function(t,e,n=0,r=0,i=1,o){const a=[],s=(t.variantChildren.size-1)*r,c=1===i?(t=0)=>t*r:(t=0)=>s-t*r;return Array.from(t.variantChildren).sort(Dr).forEach(((t,r)=>{t.notify("AnimationStart",e),a.push(Lr(t,e,{...o,delay:n+c(r)}).then((()=>t.notify("AnimationComplete",e))))})),Promise.all(a)}(t,e,i+r,a,s,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[t,e]="beforeChildren"===c?[a,s]:[s,a];return t().then((()=>e()))}return Promise.all([a(),s(n.delay)])}function Dr(t,e){return t.sortNodePosition(e)}const Rr=Y.length;function Nr(t){if(!t)return;if(!t.isControllingVariants){const e=t.parent&&Nr(t.parent)||{};return void 0!==t.props.initial&&(e.initial=t.props.initial),e}const e={};for(let n=0;n<Rr;n++){const r=Y[n],i=t.props[r];(U(i)||!1===i)&&(e[r]=i)}return e}const Vr=[...q].reverse(),Fr=q.length;function jr(t){return e=>Promise.all(e.map((({animation:e,options:n})=>function(t,e,n={}){let r;if(t.notify("AnimationStart",e),Array.isArray(e)){const i=e.map((e=>Lr(t,e,n)));r=Promise.all(i)}else if("string"==typeof e)r=Lr(t,e,n);else{const i="function"==typeof e?H(t,e,n.custom):e;r=Promise.all(Cr(t,i,n))}return r.then((()=>{t.notify("AnimationComplete",e)}))}(t,e,n))))}function Or(t){let e=jr(t),n=Ur(),r=!0;const i=e=>(n,r)=>{var i;const o=H(t,r,"exit"===e?null===(i=t.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:t,transitionEnd:e,...r}=o;n={...n,...r,...e}}return n};function o(o){const{props:a}=t,s=Nr(t.parent)||{},c=[],l=new Set;let u={},f=1/0;for(let e=0;e<Fr;e++){const h=Vr[e],d=n[h],p=void 0!==a[h]?a[h]:s[h],m=U(p),g=h===o?d.isActive:null;!1===g&&(f=e);let v=p===s[h]&&p!==a[h]&&m;if(v&&r&&t.manuallyAnimateOnMount&&(v=!1),d.protectedKeys={...u},!d.isActive&&null===g||!p&&!d.prevProp||O(p)||"boolean"==typeof p)continue;const y=Br(d.prevProp,p);let b=y||h===o&&d.isActive&&!v&&m||e>f&&m,w=!1;const x=Array.isArray(p)?p:[p];let k=x.reduce(i(h),{});!1===g&&(k={});const{prevResolvedValues:M={}}=d,S={...M,...k},T=e=>{b=!0,l.has(e)&&(w=!0,l.delete(e)),d.needsAnimating[e]=!0;const n=t.getValue(e);n&&(n.liveStyle=!1)};for(const t in S){const e=k[t],n=M[t];if(u.hasOwnProperty(t))continue;let r=!1;r=B(e)&&B(n)?!I(e,n):e!==n,r?null!=e?T(t):l.add(t):void 0!==e&&l.has(t)?T(t):d.protectedKeys[t]=!0}d.prevProp=p,d.prevResolvedValues=k,d.isActive&&(u={...u,...k}),r&&t.blockInitialAnimation&&(b=!1);b&&(!(v&&y)||w)&&c.push(...x.map((t=>({animation:t,options:{type:h}}))))}if(l.size){const e={};l.forEach((n=>{const r=t.getBaseTarget(n),i=t.getValue(n);i&&(i.liveStyle=!0),e[n]=null!=r?r:null})),c.push({animation:e})}let h=Boolean(c.length);return!r||!1!==a.initial&&a.initial!==a.animate||t.manuallyAnimateOnMount||(h=!1),r=!1,h?e(c):Promise.resolve()}return{animateChanges:o,setActive:function(e,r){var i;if(n[e].isActive===r)return Promise.resolve();null===(i=t.variantChildren)||void 0===i||i.forEach((t=>{var n;return null===(n=t.animationState)||void 0===n?void 0:n.setActive(e,r)})),n[e].isActive=r;const a=o(e);for(const t in n)n[t].protectedKeys={};return a},setAnimateFunction:function(n){e=n(t)},getState:()=>n,reset:()=>{n=Ur(),r=!0}}}function Br(t,e){return"string"==typeof e?e!==t:!!Array.isArray(e)&&!I(e,t)}function Ir(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ur(){return{animate:Ir(!0),whileInView:Ir(),whileHover:Ir(),whileTap:Ir(),whileDrag:Ir(),whileFocus:Ir(),exit:Ir()}}class zr{constructor(t){this.isMounted=!1,this.node=t}update(){}}let Wr=0;const Hr={animation:{Feature:class extends zr{constructor(t){super(t),t.animationState||(t.animationState=Or(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();O(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),null===(t=this.unmountControls)||void 0===t||t.call(this)}}},exit:{Feature:class extends zr{constructor(){super(...arguments),this.id=Wr++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then((()=>e(this.id)))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}}},qr=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function Yr(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const Xr=t=>e=>qr(e)&&t(e,Yr(e));function Zr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Gr(t,e,n,r){return Zr(t,e,Xr(n),r)}const Kr=(t,e)=>Math.abs(t-e);class Qr{constructor(t,e,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=ei(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,n=function(t,e){const n=Kr(t.x,e.x),r=Kr(t.y,e.y);return Math.sqrt(n**2+r**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!n)return;const{point:r}=t,{timestamp:i}=pt;this.history.push({...r,timestamp:i});const{onStart:o,onMove:a}=this.handlers;e||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=Jr(e,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=ei("pointercancel"===t.type?this.lastMoveEventInfo:Jr(e,this.transformPagePoint),this.history);this.startEvent&&n&&n(t,o),r&&r(t,o)},!qr(t))return;this.dragSnapToOrigin=i,this.handlers=e,this.transformPagePoint=n,this.contextWindow=r||window;const o=Jr(Yr(t),this.transformPagePoint),{point:a}=o,{timestamp:s}=pt;this.history=[{...a,timestamp:s}];const{onSessionStart:c}=e;c&&c(t,ei(o,this.history)),this.removeListeners=Tn(Gr(this.contextWindow,"pointermove",this.handlePointerMove),Gr(this.contextWindow,"pointerup",this.handlePointerUp),Gr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dt(this.updatePoint)}}function Jr(t,e){return e?{point:e(t.point)}:t}function ti(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ei({point:t},e){return{point:t,delta:ti(t,ri(e)),offset:ti(t,ni(e)),velocity:ii(e,.1)}}function ni(t){return t[0]}function ri(t){return t[t.length-1]}function ii(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ri(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>G(e)));)n--;if(!r)return{x:0,y:0};const o=K(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function oi(t){let e=null;return()=>{const n=()=>{e=null};return null===e&&(e=t,n)}}const ai=oi("dragHorizontal"),si=oi("dragVertical");function ci(t){let e=!1;if("y"===t)e=si();else if("x"===t)e=ai();else{const t=ai(),n=si();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function li(){const t=ci(!0);return!t||(t(),!1)}function ui(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}const fi=.9999,hi=1.0001,di=-.01,pi=.01;function mi(t){return t.max-t.min}function gi(t,e,n,r=.5){t.origin=r,t.originPoint=En(e.min,e.max,t.origin),t.scale=mi(n)/mi(e),t.translate=En(n.min,n.max,t.origin)-t.originPoint,(t.scale>=fi&&t.scale<=hi||isNaN(t.scale))&&(t.scale=1),(t.translate>=di&&t.translate<=pi||isNaN(t.translate))&&(t.translate=0)}function vi(t,e,n,r){gi(t.x,e.x,n.x,r?r.originX:void 0),gi(t.y,e.y,n.y,r?r.originY:void 0)}function yi(t,e,n){t.min=n.min+e.min,t.max=t.min+mi(e)}function bi(t,e,n){t.min=e.min-n.min,t.max=t.min+mi(e)}function wi(t,e,n){bi(t.x,e.x,n.x),bi(t.y,e.y,n.y)}function xi(t,e,n){return{min:void 0!==e?t.min+e:void 0,max:void 0!==n?t.max+n-(t.max-t.min):void 0}}function ki(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}const Mi=.35;function Si(t,e,n){return{min:Ti(t,e),max:Ti(t,n)}}function Ti(t,e){return"number"==typeof t?t:t[e]||0}const Ai=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),Ei=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Pi(t){return[t("x"),t("y")]}function _i({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function $i(t){return void 0===t||1===t}function Ci({scale:t,scaleX:e,scaleY:n}){return!$i(t)||!$i(e)||!$i(n)}function Li(t){return Ci(t)||Di(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Di(t){return Ri(t.x)||Ri(t.y)}function Ri(t){return t&&"0%"!==t}function Ni(t,e,n){return n+e*(t-n)}function Vi(t,e,n,r,i){return void 0!==i&&(t=Ni(t,i,r)),Ni(t,n,r)+e}function Fi(t,e=0,n=1,r,i){t.min=Vi(t.min,e,n,r,i),t.max=Vi(t.max,e,n,r,i)}function ji(t,{x:e,y:n}){Fi(t.x,e.translate,e.scale,e.originPoint),Fi(t.y,n.translate,n.scale,n.originPoint)}const Oi=.999999999999,Bi=1.0000000000001;function Ii(t,e){t.min=t.min+e,t.max=t.max+e}function Ui(t,e,n,r,i=.5){Fi(t,e,n,En(t.min,t.max,i),r)}function zi(t,e){Ui(t.x,e.x,e.scaleX,e.scale,e.originX),Ui(t.y,e.y,e.scaleY,e.scale,e.originY)}function Wi(t,e){return _i(function(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(t.getBoundingClientRect(),e))}const Hi=({current:t})=>t?t.ownerDocument.defaultView:null,qi=new WeakMap;class Yi{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ei(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Qr(t,{onSessionStart:t=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Yr(t,"page").point)},onStart:(t,e)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ci(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pi((t=>{let e=this.getAxisMotionValue(t).get()||0;if(Yt.test(e)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[t];if(r){e=mi(r)*(parseFloat(e)/100)}}}this.originPoint[t]=e})),i&&ht.postRender((()=>i(t,e))),_r(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(t,e)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=e;if(r&&null===this.currentDirection)return this.currentDirection=function(t,e=10){let n=null;Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",e.point,a),this.updateAxis("y",e.point,a),this.visualElement.render(),o&&o(t,e)},onSessionEnd:(t,e)=>this.stop(t,e),resumeAnimation:()=>Pi((t=>{var e;return"paused"===this.getAnimationState(t)&&(null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Hi(this.visualElement)})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=e;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&ht.postRender((()=>i(t,e)))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!Xi(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=function(t,{min:e,max:n},r){return void 0!==e&&t<e?t=r?En(e,t,r.min):Math.max(t,e):void 0!==n&&t>n&&(t=r?En(n,t,r.max):Math.min(t,n)),t}(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,i=this.constraints;e&&ui(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!r)&&function(t,{top:e,left:n,bottom:r,right:i}){return{x:xi(t.x,n,i),y:xi(t.y,e,r)}}(r.layoutBox,e),this.elastic=function(t=Mi){return!1===t?t=0:!0===t&&(t=Mi),{x:Si(t,"left","right"),y:Si(t,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Pi((t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){const n={};return void 0!==e.min&&(n.min=e.min-t.min),void 0!==e.max&&(n.max=e.max-t.min),n}(r.layoutBox[t],this.constraints[t]))}))}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!ui(t))return!1;const n=t.current;Lt(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(t,e,n){const r=Wi(t,n),{scroll:i}=e;return i&&(Ii(r.x,i.offset.x),Ii(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(t,e){return{x:ki(t.x,e.x),y:ki(t.y,e.y)}}(r.layout.layoutBox,i);if(e){const t=e(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(o));this.hasMutatedConstraints=!!t,t&&(o=_i(t))}return o}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},c=Pi((a=>{if(!Xi(a,e,this.currentDirection))return;let c=s&&s[a]||{};o&&(c={min:0,max:0});const l=r?200:1e6,u=r?40:1e7,f={type:"inertia",velocity:n?t[a]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(a,f)}));return Promise.all(c).then(a)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return _r(this.visualElement,t),n.start(dr(t,n,0,e,this.visualElement,!1))}stopAnimation(){Pi((t=>this.getAxisMotionValue(t).stop()))}pauseAnimation(){Pi((t=>{var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.pause()}))}getAnimationState(t){var e;return null===(e=this.getAxisMotionValue(t).animation)||void 0===e?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Pi((e=>{const{drag:n}=this.getProps();if(!Xi(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(e);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[e];i.set(t[e]-En(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!ui(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Pi((t=>{const e=this.getAxisMotionValue(t);if(e&&!1!==this.constraints){const n=e.get();r[t]=function(t,e){let n=.5;const r=mi(t),i=mi(e);return i>r?n=An(e.min,e.max-r,t.min):r>i&&(n=An(t.min,t.max-i,e.min)),It(0,1,n)}({min:n,max:n},this.constraints[t])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Pi((e=>{if(!Xi(e,t,null))return;const n=this.getAxisMotionValue(e),{min:i,max:o}=this.constraints[e];n.set(En(i,o,r[e]))}))}addListeners(){if(!this.visualElement.current)return;qi.set(this.visualElement,this);const t=Gr(this.visualElement.current,"pointerdown",(t=>{const{drag:e,dragListener:n=!0}=this.getProps();e&&n&&this.start(t)})),e=()=>{const{dragConstraints:t}=this.getProps();ui(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",e);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ht.read(e);const i=Zr(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(Pi((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),t(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=Mi,dragMomentum:a=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Xi(t,e,n){return!(!0!==e&&e!==t||null!==n&&n!==t)}const Zi=t=>(e,n)=>{t&&ht.postRender((()=>t(e,n)))};var Gi=n(5893);const Ki=(0,r.createContext)(null);const Qi=(0,r.createContext)({}),Ji=(0,r.createContext)({}),to={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eo(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const no={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!Xt.test(t))return t;t=parseFloat(t)}return`${eo(t,e.target.x)}% ${eo(t,e.target.y)}%`}},ro={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ne.parse(t);if(i.length>5)return r;const o=Ne.createTransformer(t),a="number"!=typeof i[0]?1:0,s=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=s,i[1+a]/=c;const l=En(s,c,.5);return"number"==typeof i[2+a]&&(i[2+a]/=l),"number"==typeof i[3+a]&&(i[3+a]/=l),o(i)}},io={};const{schedule:oo,cancel:ao}=ft(queueMicrotask,!1);class so extends r.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;var o;o=lo,Object.assign(io,o),i&&(e.group&&e.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),to.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||t.layoutDependency!==e||void 0===e?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ht.postRender((()=>{const t=o.getStack();t&&t.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),oo.postRender((()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function co(t){const[e,n]=function(){const t=(0,r.useContext)(Ki);if(null===t)return[!0,null];const{isPresent:e,onExitComplete:n,register:i}=t,o=(0,r.useId)();(0,r.useEffect)((()=>i(o)),[]);const a=(0,r.useCallback)((()=>n&&n(o)),[o,n]);return!e&&n?[!1,a]:[!0]}(),i=(0,r.useContext)(Qi);return(0,Gi.jsx)(so,{...t,layoutGroup:i,switchLayoutGroup:(0,r.useContext)(Ji),isPresent:e,safeToRemove:n})}const lo={borderRadius:{...no,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:no,borderTopRightRadius:no,borderBottomLeftRadius:no,borderBottomRightRadius:no,boxShadow:ro},uo=["TopLeft","TopRight","BottomLeft","BottomRight"],fo=uo.length,ho=t=>"string"==typeof t?parseFloat(t):t,po=t=>"number"==typeof t||Xt.test(t);function mo(t,e){return void 0!==t[e]?t[e]:t.borderRadius}const go=yo(0,.5,Et),vo=yo(.5,.95,lt);function yo(t,e,n){return r=>r<t?0:r>e?1:n(An(t,e,r))}function bo(t,e){t.min=e.min,t.max=e.max}function wo(t,e){bo(t.x,e.x),bo(t.y,e.y)}function xo(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ko(t,e,n,r,i){return t=Ni(t-=e,1/n,r),void 0!==i&&(t=Ni(t,1/i,r)),t}function Mo(t,e,[n,r,i],o,a){!function(t,e=0,n=1,r=.5,i,o=t,a=t){Yt.test(e)&&(e=parseFloat(e),e=En(a.min,a.max,e/100)-a.min);if("number"!=typeof e)return;let s=En(o.min,o.max,r);t===o&&(s-=e),t.min=ko(t.min,e,n,s,i),t.max=ko(t.max,e,n,s,i)}(t,e[n],e[r],e[i],e.scale,o,a)}const So=["x","scaleX","originX"],To=["y","scaleY","originY"];function Ao(t,e,n,r){Mo(t.x,e,So,n?n.x:void 0,r?r.x:void 0),Mo(t.y,e,To,n?n.y:void 0,r?r.y:void 0)}function Eo(t){return 0===t.translate&&1===t.scale}function Po(t){return Eo(t.x)&&Eo(t.y)}function _o(t,e){return t.min===e.min&&t.max===e.max}function $o(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Co(t,e){return $o(t.x,e.x)&&$o(t.y,e.y)}function Lo(t){return mi(t.x)/mi(t.y)}function Do(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ro{constructor(){this.members=[]}add(t){gr(this.members,t),t.scheduleRender()}remove(t){if(vr(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const e=this.members.findIndex((e=>t===e));if(0===e)return!1;let n;for(let r=e;r>=0;r--){const t=this.members[r];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((t=>{t.instance&&t.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const No=(t,e)=>t.depth-e.depth;class Vo{constructor(){this.children=[],this.isDirty=!1}add(t){gr(this.children,t),this.isDirty=!0}remove(t){vr(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(No),this.isDirty=!1,this.children.forEach(t)}}function Fo(t){const e=Pr(t)?t.get():t;return pr(e)?e.toValue():e}const jo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Oo="undefined"!=typeof window&&void 0!==window.MotionDebug,Bo=["","X","Y","Z"],Io={visibility:"hidden"};let Uo=0;function zo(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Wo(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Tr(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(e||r))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Wo(r)}function Ho({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(t={},n=(null==e?void 0:e())){this.id=Uo++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Oo&&(jo.totalNodes=jo.resolvedTargetDeltas=jo.recalculatedProjection=0),this.nodes.forEach(Xo),this.nodes.forEach(ea),this.nodes.forEach(na),this.nodes.forEach(Zo),Oo&&window.MotionDebug.record(jo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vo)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new yr),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){const n=this.eventHandlers.get(t);n&&n.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,n=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(t,e){const n=Qe.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(dt(r),t(o-e))};return ht.read(r,!0),()=>dt(r)}(r,250),to.hasAnimatedSinceResize&&(to.hasAnimatedSinceResize=!1,this.nodes.forEach(ta))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||o)&&this.addEventListener("didUpdate",(({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||ca,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=a.getProps(),c=!this.targetLayout||!Co(this.targetLayout,r)||n,l=!e&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||l||e&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,l);const e={...nt(i,"layout"),onPlay:o,onComplete:s};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||ta(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ra),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const t=this.path[i];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:e,layout:n}=this.options;if(void 0===e&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ko);this.isUpdating||this.nodes.forEach(Qo),this.isUpdating=!1,this.nodes.forEach(Jo),this.nodes.forEach(qo),this.nodes.forEach(Yo),this.clearAllSnapshots();const t=Qe.now();pt.delta=It(0,1e3/60,t-pt.timestamp),pt.timestamp=t,pt.isProcessing=!0,mt.update.process(pt),mt.preRender.process(pt),mt.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oo.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Go),this.sharedNodes.forEach(ia)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ei(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e){const e=r(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:e,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:e}}}resetTransform(){if(!i)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,e=this.projectionDelta&&!Po(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;t&&(e||Li(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){const e=this.measurePageBox();let n=this.removeElementScroll(e);var r;return t&&(n=this.removeTransform(n)),fa((r=n).x),fa(r.y),{animationId:this.root.animationId,measuredBox:e,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var t;const{visualElement:e}=this.options;if(!e)return Ei();const n=e.measureViewportBox();if(!((null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)||this.path.some(da))){const{scroll:t}=this.root;t&&(Ii(n.x,t.offset.x),Ii(n.y,t.offset.y))}return n}removeElementScroll(t){var e;const n=Ei();if(wo(n,t),null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)return n;for(let r=0;r<this.path.length;r++){const e=this.path[r],{scroll:i,options:o}=e;e!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&wo(n,t),Ii(n.x,i.offset.x),Ii(n.y,i.offset.y))}return n}applyTransform(t,e=!1){const n=Ei();wo(n,t);for(let r=0;r<this.path.length;r++){const t=this.path[r];!e&&t.options.layoutScroll&&t.scroll&&t!==t.root&&zi(n,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),Li(t.latestValues)&&zi(n,t.latestValues)}return Li(this.latestValues)&&zi(n,this.latestValues),n}removeTransform(t){const e=Ei();wo(e,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];if(!t.instance)continue;if(!Li(t.latestValues))continue;Ci(t.latestValues)&&t.updateSnapshot();const r=Ei();wo(r,t.measurePageBox()),Ao(e,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,r)}return Li(this.latestValues)&&Ao(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=pt.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ei(),this.relativeTargetOrigin=Ei(),wi(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),wo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,c;if(this.target||(this.target=Ei(),this.targetWithTransforms=Ei()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,c=this.relativeParent.target,yi(a.x,s.x,c.x),yi(a.y,s.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):wo(this.target,this.layout.layoutBox),ji(this.target,this.targetDelta)):wo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ei(),this.relativeTargetOrigin=Ei(),wi(this.relativeTargetOrigin,this.target,t.target),wo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Oo&&jo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ci(this.parent.latestValues)&&!Di(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const e=this.getLead(),n=Boolean(this.resumingFrom)||this!==e;let r=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;wo(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(t,e,n,r=!1){const i=n.length;if(!i)return;let o,a;e.x=e.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&zi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,ji(t,a)),r&&Li(o.latestValues)&&zi(t,o.latestValues))}e.x<Bi&&e.x>Oi&&(e.x=1),e.y<Bi&&e.y>Oi&&(e.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms=Ei());const{target:c}=e;c?(this.projectionDelta&&this.prevProjectionDelta?(xo(this.prevProjectionDelta.x,this.projectionDelta.x),xo(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),vi(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&Do(this.projectionDelta.x,this.prevProjectionDelta.x)&&Do(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),Oo&&jo.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){var e;if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ai(),this.projectionDelta=Ai(),this.projectionDeltaWithTransform=Ai()}setAnimationOrigin(t,e=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o=Ai();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;const a=Ei(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,u=Boolean(s&&!l&&!0===this.options.crossfade&&!this.path.some(sa));let f;this.animationProgress=0,this.mixTargetDelta=e=>{const n=e/1e3;var c,h,d,p;oa(o.x,t.x,n),oa(o.y,t.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wi(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c=this.relativeTarget,h=this.relativeTargetOrigin,d=a,p=n,aa(c.x,h.x,d.x,p),aa(c.y,h.y,d.y,p),f&&function(t,e){return _o(t.x,e.x)&&_o(t.y,e.y)}(this.relativeTarget,f)&&(this.isProjectionDirty=!1),f||(f=Ei()),wo(f,this.relativeTarget)),s&&(this.animationValues=i,function(t,e,n,r,i,o){i?(t.opacity=En(0,void 0!==n.opacity?n.opacity:1,go(r)),t.opacityExit=En(void 0!==e.opacity?e.opacity:1,0,vo(r))):o&&(t.opacity=En(void 0!==e.opacity?e.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<fo;a++){const i=`border${uo[a]}Radius`;let o=mo(e,i),s=mo(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||po(o)===po(s)?(t[i]=Math.max(En(ho(o),ho(s),r),0),(Yt.test(s)||Yt.test(o))&&(t[i]+="%")):t[i]=s)}(e.rotate||n.rotate)&&(t.rotate=En(e.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update((()=>{to.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,n){const r=Pr(t)?t:xr(t);return r.start(dr("",r,e,n)),r.animation}(0,1e3,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:e,target:n,layout:r,latestValues:i}=t;if(e&&n&&r){if(this!==t&&this.layout&&r&&ha(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Ei();const e=mi(this.layout.layoutBox.x);n.x.min=t.target.x.min,n.x.max=n.x.min+e;const r=mi(this.layout.layoutBox.y);n.y.min=t.target.y.min,n.y.max=n.y.min+r}wo(e,n),zi(e,i),vi(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new Ro);this.sharedNodes.get(t).add(e);const n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let e=!1;const{latestValues:n}=t;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(e=!0),!e)return;const r={};n.z&&zo("z",t,r,this.animationValues);for(let i=0;i<Bo.length;i++)zo(`rotate${Bo[i]}`,t,r,this.animationValues),zo(`skew${Bo[i]}`,t,r,this.animationValues);t.render();for(const i in r)t.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);t.scheduleRender()}getProjectionStyles(t){var e,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Io;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Fo(null==t?void 0:t.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Fo(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!Li(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,a=(null==n?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),1===e.x&&1===e.y||(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:t,rotate:e,rotateX:i,rotateY:o,skewX:a,skewY:s}=n;t&&(r=`perspective(${t}px) ${r}`),e&&(r+=`rotate(${e}deg) `),i&&(r+=`rotateX(${i}deg) `),o&&(r+=`rotateY(${o}deg) `),a&&(r+=`skewX(${a}deg) `),s&&(r+=`skewY(${s}deg) `)}const s=t.x.scale*e.x,c=t.y.scale*e.y;return 1===s&&1===c||(r+=`scale(${s}, ${c})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:c}=this.projectionDelta;r.transformOrigin=`${100*s.origin}% ${100*c.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(e=a.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const l in io){if(void 0===a[l])continue;const{correct:t,applyTo:e}=io[l],n="none"===r.transform?a[l]:t(a[l],o);if(e){const t=e.length;for(let i=0;i<t;i++)r[e[i]]=n}else r[l]=n}return this.options.layoutId&&(r.pointerEvents=o===this?Fo(null==t?void 0:t.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()})),this.root.nodes.forEach(Ko),this.root.sharedNodes.clear()}}}function qo(t){t.updateLayout()}function Yo(t){var e;const n=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:r}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;"size"===i?Pi((t=>{const r=o?n.measuredBox[t]:n.layoutBox[t],i=mi(r);r.min=e[t].min,r.max=r.min+i})):ha(i,n.layoutBox,e)&&Pi((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=mi(e[r]);i.max=i.min+a,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[r].max=t.relativeTarget[r].min+a)}));const a=Ai();vi(a,e,n.layoutBox);const s=Ai();o?vi(s,t.applyTransform(r,!0),n.measuredBox):vi(s,e,n.layoutBox);const c=!Po(a);let l=!1;if(!t.resumeFrom){const r=t.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a=Ei();wi(a,n.layoutBox,i.layoutBox);const s=Ei();wi(s,e,o.layoutBox),Co(a,s)||(l=!0),r.options.layoutRoot&&(t.relativeTarget=s,t.relativeTargetOrigin=a,t.relativeParent=r)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:l})}else if(t.isLead()){const{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function Xo(t){Oo&&jo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Zo(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Go(t){t.clearSnapshot()}function Ko(t){t.clearMeasurements()}function Qo(t){t.isLayoutDirty=!1}function Jo(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ta(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ea(t){t.resolveTargetDelta()}function na(t){t.calcProjection()}function ra(t){t.resetSkewAndRotation()}function ia(t){t.removeLeadSnapshot()}function oa(t,e,n){t.translate=En(e.translate,0,n),t.scale=En(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function aa(t,e,n,r){t.min=En(e.min,n.min,r),t.max=En(e.max,n.max,r)}function sa(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const ca={duration:.45,ease:[.4,0,.1,1]},la=t=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ua=la("applewebkit/")&&!la("chrome/")?Math.round:lt;function fa(t){t.min=ua(t.min),t.max=ua(t.max)}function ha(t,e,n){return"position"===t||"preserve-aspect"===t&&!function(t,e,n){return Math.abs(t-e)<=n}(Lo(e),Lo(n),.2)}function da(t){var e;return t!==t.root&&(null===(e=t.scroll)||void 0===e?void 0:e.wasRoot)}const pa=Ho({attachResizeListener:(t,e)=>Zr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ma={current:void 0},ga=Ho({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ma.current){const t=new pa({});t.mount(window),t.setOptions({layoutScroll:!0}),ma.current=t}return ma.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),va={pan:{Feature:class extends zr{constructor(){super(...arguments),this.removePointerDownListener=lt}onPointerDown(t){this.session=new Qr(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hi(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Zi(t),onStart:Zi(e),onMove:n,onEnd:(t,e)=>{delete this.session,r&&ht.postRender((()=>r(t,e)))}}}mount(){this.removePointerDownListener=Gr(this.node.current,"pointerdown",(t=>this.onPointerDown(t)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends zr{constructor(t){super(t),this.removeGroupControls=lt,this.removeListeners=lt,this.controls=new Yi(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lt}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ga,MeasureLayout:co}};function ya(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd";return Gr(t.current,n,((n,i)=>{if("touch"===n.pointerType||li())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e);const a=o[r];a&&ht.postRender((()=>a(n,i)))}),{passive:!t.getProps()[r]})}const ba=(t,e)=>!!e&&(t===e||ba(t,e.parentElement));function wa(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Yr(n))}const xa=new WeakMap,ka=new WeakMap,Ma=t=>{const e=xa.get(t.target);e&&e(t)},Sa=t=>{t.forEach(Ma)};function Ta(t,e,n){const r=function({root:t,...e}){const n=t||document;ka.has(n)||ka.set(n,{});const r=ka.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Sa,{root:t,...e})),r[i]}(e);return xa.set(t,n),r.observe(t),()=>{xa.delete(t),r.unobserve(t)}}const Aa={some:0,all:1};const Ea={inView:{Feature:class extends zr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:i}=t,o={root:e?e.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:Aa[r]};return Ta(this.node.current,o,(t=>{const{isIntersecting:e}=t;if(this.isInView===e)return;if(this.isInView=e,i&&!e&&this.hasEnteredView)return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=e?n:r;o&&o(t)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}(t,e))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends zr{constructor(){super(...arguments),this.removeStartListeners=lt,this.removeEndListeners=lt,this.removeAccessibleListeners=lt,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=Gr(window,"pointerup",((t,e)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps(),o=i||ba(this.node.current,t.target)?n:r;o&&ht.update((()=>o(t,e)))}),{passive:!(n.onTap||n.onPointerUp)}),i=Gr(window,"pointercancel",((t,e)=>this.cancelPress(t,e)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Tn(r,i),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=Zr(this.node.current,"keydown",(t=>{if("Enter"!==t.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Zr(this.node.current,"keyup",(t=>{"Enter"===t.key&&this.checkPressEnd()&&wa("up",((t,e)=>{const{onTap:n}=this.node.getProps();n&&ht.postRender((()=>n(t,e)))}))})),wa("down",((t,e)=>{this.startPress(t,e)}))})),e=Zr(this.node.current,"blur",(()=>{this.isPressing&&wa("cancel",((t,e)=>this.cancelPress(t,e)))}));this.removeAccessibleListeners=Tn(t,e)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ht.postRender((()=>n(t,e)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!li()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ht.postRender((()=>n(t,e)))}mount(){const t=this.node.getProps(),e=Gr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Zr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Tn(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends zr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tn(Zr(this.node.current,"focus",(()=>this.onFocus())),Zr(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends zr{mount(){this.unmount=Tn(ya(this.node,!0),ya(this.node,!1))}unmount(){}}}},Pa={layout:{ProjectionNode:ga,MeasureLayout:co}},_a=(0,r.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),$a=(0,r.createContext)({}),Ca="undefined"!=typeof window,La=Ca?r.useLayoutEffect:r.useEffect,Da=(0,r.createContext)({strict:!1});let Ra=!1;function Na(t,e,n,i,o){var a;const{visualElement:s}=(0,r.useContext)($a),c=(0,r.useContext)(Da),l=(0,r.useContext)(Ki),u=(0,r.useContext)(_a).reducedMotion,f=(0,r.useRef)();i=i||c.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:u}));const h=f.current,d=(0,r.useContext)(Ji);!h||h.projection||!o||"html"!==h.type&&"svg"!==h.type||function(t,e,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:c,layoutRoot:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Fa(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(a)||s&&ui(s),visualElement:t,animationType:"string"==typeof o?o:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:l})}(f.current,n,o,d),(0,r.useInsertionEffect)((()=>{h&&h.update(n,l)}));const p=n[Sr],m=(0,r.useRef)(Boolean(p)&&!window.MotionHandoffIsComplete&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,p)));return La((()=>{h&&(h.updateFeatures(),oo.render(h.render),m.current&&h.animationState&&h.animationState.animateChanges())})),(0,r.useEffect)((()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current=!1,Ra||(Ra=!0,queueMicrotask(Va)))})),h}function Va(){window.MotionHandoffIsComplete=!0}function Fa(t){if(t)return!1!==t.options.allowProjection?t.projection:Fa(t.parent)}function ja(t,e,n){return(0,r.useCallback)((r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&("function"==typeof n?n(r):ui(n)&&(n.current=r))}),[e])}function Oa(t){return O(t.animate)||Y.some((e=>U(t[e])))}function Ba(t){return Boolean(Oa(t)||t.variants)}function Ia(t){const{initial:e,animate:n}=function(t,e){if(Oa(t)){const{initial:e,animate:n}=t;return{initial:!1===e||U(e)?e:void 0,animate:U(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,(0,r.useContext)($a));return(0,r.useMemo)((()=>({initial:e,animate:n})),[Ua(e),Ua(n)])}function Ua(t){return Array.isArray(t)?t.join(" "):t}const za={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wa={};for(const it in za)Wa[it]={isEnabled:t=>za[it].some((e=>!!t[e]))};const Ha=Symbol.for("motionComponentSymbol");function qa({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:o}){t&&function(t){for(const e in t)Wa[e]={...Wa[e],...t[e]}}(t);const a=(0,r.forwardRef)((function(t,a){let s;const c={...(0,r.useContext)(_a),...t,layoutId:Ya(t)},{isStatic:l}=c,u=Ia(t),f=i(t,l);if(!l&&Ca){!function(t,e){(0,r.useContext)(Da).strict;0}();const t=function(t){const{drag:e,layout:n}=Wa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:(null==e?void 0:e.isEnabled(t))||(null==n?void 0:n.isEnabled(t))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(c);s=t.MeasureLayout,u.visualElement=Na(o,f,c,e,t.ProjectionNode)}return(0,Gi.jsxs)($a.Provider,{value:u,children:[s&&u.visualElement?(0,Gi.jsx)(s,{visualElement:u.visualElement,...c}):null,n(o,t,ja(f,u.visualElement,a),f,l,u.visualElement)]})}));return a[Ha]=o,a}function Ya({layoutId:t}){const e=(0,r.useContext)(Qi).id;return e&&void 0!==t?e+"-"+t:t}const Xa=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Za(t){return"string"==typeof t&&!t.includes("-")&&!!(Xa.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ga(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const Ka=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qa(t,e,n,r){Ga(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Ka.has(i)?i:Mr(i),e.attrs[i])}function Ja(t,{layout:e,layoutId:n}){return Z.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!io[t]||"opacity"===t)}function ts(t,e,n){var r;const{style:i}=t,o={};for(const a in i)(Pr(i[a])||e.style&&Pr(e.style[a])||Ja(a,t)||void 0!==(null===(r=null==n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(o[a]=i[a]);return n&&i&&"string"==typeof i.willChange&&(n.applyWillChange=!1),o}function es(t,e,n){const r=ts(t,e,n);for(const i in t)if(Pr(t[i])||Pr(e[i])){r[-1!==X.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=t[i]}return r}const ns=t=>(e,n)=>{const i=(0,r.useContext)($a),o=(0,r.useContext)(Ki),a=()=>function({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,o,a,s){const c={latestValues:os(i,o,a,!s&&t,e),renderState:n()};return r&&(c.mount=t=>r(i,t,c)),c}(t,e,i,o,n);return n?a():function(t){const e=(0,r.useRef)(null);return null===e.current&&(e.current=t()),e.current}(a)};function rs(t,e){const n=Ar(e);n&&gr(t,n)}function is(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const e=W(t,r[i]);if(e){const{transitionEnd:t,transition:r,...i}=e;n(i,t)}}}function os(t,e,n,r,i){var o;const a={},s=[],c=r&&void 0===(null===(o=t.style)||void 0===o?void 0:o.willChange),l=i(t,{});for(const g in l)a[g]=Fo(l[g]);let{initial:u,animate:f}=t;const h=Oa(t),d=Ba(t);e&&d&&!h&&!1!==t.inherit&&(void 0===u&&(u=e.initial),void 0===f&&(f=e.animate));let p=!!n&&!1===n.initial;p=p||!1===u;const m=p?f:u;return m&&"boolean"!=typeof m&&!O(m)&&is(t,m,((t,e)=>{for(const n in t){let e=t[n];if(Array.isArray(e)){e=e[p?e.length-1:0]}null!==e&&(a[n]=e)}for(const n in e)a[n]=e[n]})),c&&(f&&!1!==u&&!O(f)&&is(t,f,(t=>{for(const e in t)rs(s,e)})),s.length&&(a.willChange=s.join(","))),a}const as=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ss=()=>({...as(),attrs:{}}),cs=(t,e)=>e&&"number"==typeof t?e.transform(t):t,ls={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},us=X.length;function fs(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let a=!1,s=!1;for(const c in e){const t=e[c];if(Z.has(c))a=!0;else if(Nt(c))i[c]=t;else{const e=cs(t,ze[c]);c.startsWith("origin")?(s=!0,o[c]=e):r[c]=e}}if(e.transform||(a||n?r.transform=function(t,e,n){let r="",i=!0;for(let o=0;o<us;o++){const a=X[o],s=t[a];if(void 0===s)continue;let c=!0;if(c="number"==typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!c||n){const t=cs(s,ze[a]);c||(i=!1,r+=`${ls[a]||a}(${t}) `),n&&(e[a]=t)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}(e,t.transform,n):r.transform&&(r.transform="none")),s){const{originX:t="50%",originY:e="50%",originZ:n=0}=o;r.transformOrigin=`${t} ${e} ${n}`}}function hs(t,e,n){return"string"==typeof t?t:Xt.transform(e+n*t)}const ds={offset:"stroke-dashoffset",array:"stroke-dasharray"},ps={offset:"strokeDashoffset",array:"strokeDasharray"};function ms(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:s=1,pathOffset:c=0,...l},u,f){if(fs(t,l,f),u)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:h,style:d,dimensions:p}=t;h.transform&&(p&&(d.transform=h.transform),delete h.transform),p&&(void 0!==i||void 0!==o||d.transform)&&(d.transformOrigin=function(t,e,n){return`${hs(e,t.x,t.width)} ${hs(n,t.y,t.height)}`}(p,void 0!==i?i:.5,void 0!==o?o:.5)),void 0!==e&&(h.x=e),void 0!==n&&(h.y=n),void 0!==r&&(h.scale=r),void 0!==a&&function(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?ds:ps;t[o.offset]=Xt.transform(-r);const a=Xt.transform(e),s=Xt.transform(n);t[o.array]=`${a} ${s}`}(h,a,s,c,!1)}const gs=t=>"string"==typeof t&&"svg"===t.toLowerCase(),vs={useVisualState:ns({scrapeMotionValuesFromProps:es,createRenderState:ss,onMount:(t,e,{renderState:n,latestValues:r})=>{ht.read((()=>{try{n.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}})),ht.render((()=>{ms(n,r,gs(e.tagName),t.transformTemplate),Qa(e,n)}))}})},ys={useVisualState:ns({applyWillChange:!0,scrapeMotionValuesFromProps:ts,createRenderState:as})};function bs(t,e,n){for(const r in e)Pr(e[r])||Ja(r,n)||(t[r]=e[r])}function ws(t,e){const n={};return bs(n,t.style||{},t),Object.assign(n,function({transformTemplate:t},e){return(0,r.useMemo)((()=>{const n=as();return fs(n,e,t),Object.assign({},n.vars,n.style)}),[e])}(t,e)),n}function xs(t,e){const n={},r=ws(t,e);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const ks=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ms(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ks.has(t)}let Ss=t=>!Ms(t);try{(Ts=require("@emotion/is-prop-valid").default)&&(Ss=t=>t.startsWith("on")?!Ms(t):Ts(t))}catch(E$){}var Ts;function As(t,e,n,i){const o=(0,r.useMemo)((()=>{const n=ss();return ms(n,e,gs(i),t.transformTemplate),{...n.attrs,style:{...n.style}}}),[e]);if(t.style){const e={};bs(e,t.style,t),o.style={...e,...o.style}}return o}function Es(t=!1){return(e,n,i,{latestValues:o},a)=>{const s=(Za(e)?As:xs)(n,o,a,e),c=function(t,e,n){const r={};for(const i in t)"values"===i&&"object"==typeof t.values||(Ss(i)||!0===n&&Ms(i)||!e&&!Ms(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}(n,"string"==typeof e,t),l=e!==r.Fragment?{...c,...s,ref:i}:{},{children:u}=n,f=(0,r.useMemo)((()=>Pr(u)?u.get():u),[u]);return(0,r.createElement)(e,{...l,children:f})}}function Ps(t,e){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){return qa({...Za(n)?vs:ys,preloadedFeatures:t,useRender:Es(r),createVisualElement:e,Component:n})}}const _s={current:null},$s={current:!1};const Cs=new WeakMap,Ls=[...ae,Me,Ne],Ds=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rs{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=de,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=Qe.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,ht.render(this.render,!1,!0))};const{latestValues:s,renderState:c}=o;this.latestValues=s,this.baseTarget={...s},this.initialValues=e.initial?{...s}:{},this.renderState=c,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Oa(e),this.isVariantNode=Ba(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(e,{},this);for(const f in u){const t=u[f];void 0!==s[f]&&Pr(t)&&t.set(s[f],!1)}}mount(t){this.current=t,Cs.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((t,e)=>this.bindToMotionValue(e,t))),$s.current||function(){if($s.current=!0,Ca)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_s.current=t.matches;t.addListener(e),e()}else _s.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||_s.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Cs.delete(this.current),this.projection&&this.projection.unmount(),dt(this.notifyUpdate),dt(this.render),this.valueSubscriptions.forEach((t=>t())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Z.has(t),r=e.on("change",(e=>{this.latestValues[t]=e,this.props.onUpdate&&ht.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=e.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,(()=>{r(),i(),o&&o(),e.owner&&e.stop()}))}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in Wa){const e=Wa[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ei()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<Ds.length;n++){const e=Ds[n];this.propEventSubscriptions[e]&&(this.propEventSubscriptions[e](),delete this.propEventSubscriptions[e]);const r=t["on"+e];r&&(this.propEventSubscriptions[e]=this.on(e,r))}this.prevMotionValues=function(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Pr(i))t.addValue(r,i);else if(Pr(o))t.addValue(r,xr(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const e=t.getValue(r);!0===e.liveStyle?e.jump(i):e.hasAnimated||e.set(i)}else{const e=t.getStaticValue(r);t.addValue(r,xr(void 0!==e?e:i,{owner:t}))}}for(const r in n)void 0===e[r]&&t.removeValue(r);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return void 0===n&&void 0!==e&&(n=xr(null===e?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let r=void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];var i;return null!=r&&("string"==typeof r&&(Dt(r)||_t(r))?r=parseFloat(r):(i=r,!Ls.find(oe(i))&&Ne.test(e)&&(r=qe(t,e))),this.setBaseTarget(t,Pr(r)?r.get():r)),Pr(r)?r.get():r}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let r;if("string"==typeof n||"object"==typeof n){const i=W(this.props,n,null===(e=this.presenceContext)||void 0===e?void 0:e.custom);i&&(r=i[t])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||Pr(i)?void 0!==this.initialValues[t]&&void 0===r?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new yr),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class Ns extends Rs{constructor(){super(...arguments),this.KeyframeResolver=Xe}sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}}class Vs extends Ns{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=Ga}readValueFromInstance(t,e){if(Z.has(e)){const t=He(e);return t&&t.default||0}{const r=(n=t,window.getComputedStyle(n)),i=(Nt(e)?r.getPropertyValue(e):r[e])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(t,{transformPagePoint:e}){return Wi(t,e)}build(t,e,n){fs(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return ts(t,e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pr(t)&&(this.childSubscription=t.on("change",(t=>{this.current&&(this.current.textContent=`${t}`)})))}}class Fs extends Ns{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ei}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Z.has(e)){const t=He(e);return t&&t.default||0}return e=Ka.has(e)?e:Mr(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return es(t,e,n)}build(t,e,n){ms(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,r){Qa(t,e,0,r)}mount(t){this.isSVGTag=gs(t.tagName),super.mount(t)}}const js=j(Ps({...Hr,...Ea,...va,...Pa},((t,e)=>Za(t)?new Fs(e):new Vs(e,{allowProjection:t!==r.Fragment}))));var Os=t=>r.createElement(js.div,{initial:{scale:0},exit:{scale:0},animate:{scale:t.selected?1.5*t.scale:t.scale},transition:{type:"spring",duration:.4,bounce:.6},onMouseEnter:()=>{t.setHoveredShipID(t.shipwreck.id)},onMouseLeave:()=>{t.setHoveredShipID("")}},r.createElement("p",{style:{position:"absolute",top:"0px",left:"-8px",margin:"0px",filter:t.selected?"brightness(65%)":"",cursor:"pointer",opacity:1,backgroundColor:t.hovered?"red":""}},""));function Bs(t){return null===t?"":t.id}var Is=t=>{const e=(0,r.useRef)(null),{0:n,1:i}=(0,r.useState)(1);let o=(0,r.useRef)(null);const{0:a,1:s}=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(null!==t.selectedShip){const r=parseFloat(t.selectedShip.Longitude),i=parseFloat(t.selectedShip.Latitude);var n;if(!isNaN(r)&&!isNaN(i))null===(n=e.current)||void 0===n||n.easeTo({center:[r,i]})}}),[t.selectedShip]),r.createElement(F,{ref:e,mapboxAccessToken:"",initialViewState:{longitude:-73.98,latitude:40.725,zoom:5},mapStyle:"mapbox://styles/wwwkieran/cm1ibsr0e008r01p6hlr64jd5",minZoom:4,onZoom:t=>{i(t.viewState.zoom/5)}},r.createElement(V,{ref:o,style:{scale:2,visibility:"hidden"},position:"bottom-right",onGeolocate:()=>{s(!1)},showUserHeading:!0,onError:t=>{s(!1),console.log(t)}}),t.shipwrecks.map(((i,o)=>{const a=parseFloat(i.Latitude),s=parseFloat(i.Longitude);if(!isNaN(a)&&!isNaN(s))return r.createElement(N,{key:i.id,longitude:s,element:void 0,latitude:a,onClick:n=>{((n,r)=>{var i;t.setSelectedShip(n),null===(i=e.current)||void 0===i||i.easeTo({center:[parseFloat(n.Longitude),parseFloat(n.Latitude)]})})(i)}},r.createElement(Os,{shipwreck:i,selected:i.id===Bs(t.selectedShip),hovered:i.id===t.hoveredShipID,scale:n,setHoveredShipID:t.setHoveredShipID}))})))},Us="index-module--gridItem--ce52a";function zs(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ws(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hs(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=zs,n=(e,n)=>zs(t(e),n),r=(e,n)=>t(e)-n):(e=t===zs||t===Ws?t:qs,n=t,r=t),{left:i,center:function(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function qs(){return 0}function Ys(t){return 0|t.length}function Xs(t){return!(t>0)}function Zs(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function Gs(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let a of t)null!=a&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function Ks(t,e){const n=Gs(t,e);return n?Math.sqrt(n):n}function Qs(t,e){let n,r;if(void 0===e)for(const i of t)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Js extends Map{constructor(t,e=ic){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(ec(this,t))}has(t){return super.has(ec(this,t))}set(t,e){return super.set(nc(this,t),e)}delete(t){return super.delete(rc(this,t))}}class tc extends Set{constructor(t,e=ic){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const n of t)this.add(n)}has(t){return super.has(ec(this,t))}add(t){return super.add(nc(this,t))}delete(t){return super.delete(rc(this,t))}}function ec({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nc({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rc({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ic(t){return null!==t&&"object"==typeof t?t.valueOf():t}function oc(t){return t}function ac(t,e,...n){return cc(t,oc,e,n)}function sc(t,e,...n){return cc(t,Array.from,e,n)}function cc(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new Js,s=r[o++];let c=-1;for(const e of i){const t=s(e,++c,i),n=a.get(t);n?n.push(e):a.set(t,[e])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}function lc(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function uc(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function fc(t,e){let n=0,r=0;if(void 0===e)for(let i of t)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function hc(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function dc(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=mc(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>mc(n[t],n[e])))),function(t,e){return Array.from(e,(e=>t[e]))}(t,r)}return t.sort(pc(n))}function pc(t=zs){if(t===zs)return mc;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function mc(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function gc(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=void 0===i?mc:pc(i);r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(o-c)/o)*(a-o/2<0?-1:1);gc(t,e,Math.max(n,Math.floor(e-a*c/o+l)),Math.min(r,Math.floor(e+(o-a)*c/o+l)),i)}const o=t[e];let a=n,s=r;for(vc(t,n,e),i(t[r],o)>0&&vc(t,n,r);a<s;){for(vc(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?vc(t,n,s):(++s,vc(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function vc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yc(t){return null===t?NaN:+t}function bc(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return hc(t);if(e>=1)return lc(t);var r,i=(r-1)*e,o=Math.floor(i),a=lc(gc(t,o).subarray(0,o+1));return a+(hc(t.subarray(o+1))-a)*(i-o)}}function wc(t,e,n=yc){if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function xc(t,e){return bc(t,.5,e)}function kc(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function Mc(t,e){const n=new Js;if(void 0===e)for(let o of t)null!=o&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&i>=i&&n.set(i,(n.get(i)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function Sc(t,e){return[t,e]}function Tc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ac(t,e){let n=0;if(void 0===e)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}const Ec=Math.sqrt(50),Pc=Math.sqrt(10),_c=Math.sqrt(2);function $c(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Ec?10:o>=Pc?5:o>=_c?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),c=Math.round(e*l),s/l<t&&++s,c/l>e&&--c,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),c=Math.round(e/l),s*l<t&&++s,c*l>e&&--c),c<s&&.5<=n&&n<2?$c(t,e,2*n):[s,c,l]}function Cc(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[i,o,a]=r?$c(e,t,n):$c(t,e,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)c[l]=(o-l)/-a;else for(let l=0;l<s;++l)c[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)c[l]=(i+l)/-a;else for(let l=0;l<s;++l)c[l]=(i+l)*a;return c}function Lc(t,e,n){return $c(t=+t,e=+e,n=+n)[2]}function Dc(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?Lc(e,t,n):Lc(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Rc(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Nc(t){return t}var Vc=1,Fc=2,jc=3,Oc=4,Bc=1e-6;function Ic(t){return"translate("+t+",0)"}function Uc(t){return"translate(0,"+t+")"}function zc(t){return e=>+t(e)}function Wc(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Hc(){return!this.__axis}function qc(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,l=t===Vc||t===Oc?-1:1,u=t===Oc||t===Fc?"x":"y",f=t===Vc||t===jc?Ic:Uc;function h(h){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):Nc:i,m=Math.max(o,0)+s,g=e.range(),v=+g[0]+c,y=+g[g.length-1]+c,b=(e.bandwidth?Wc:zc)(e.copy(),c),w=h.selection?h.selection():h,x=w.selectAll(".domain").data([null]),k=w.selectAll(".tick").data(d,e).order(),M=k.exit(),S=k.enter().append("g").attr("class","tick"),T=k.select("line"),A=k.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(S),T=T.merge(S.append("line").attr("stroke","currentColor").attr(u+"2",l*o)),A=A.merge(S.append("text").attr("fill","currentColor").attr(u,l*m).attr("dy",t===Vc?"0em":t===jc?"0.71em":"0.32em")),h!==w&&(x=x.transition(h),k=k.transition(h),T=T.transition(h),A=A.transition(h),M=M.transition(h).attr("opacity",Bc).attr("transform",(function(t){return isFinite(t=b(t))?f(t+c):this.getAttribute("transform")})),S.attr("opacity",Bc).attr("transform",(function(t){var e=this.parentNode.__axis;return f((e&&isFinite(e=e(t))?e:b(t))+c)}))),M.remove(),x.attr("d",t===Oc||t===Fc?a?"M"+l*a+","+v+"H"+c+"V"+y+"H"+l*a:"M"+c+","+v+"V"+y:a?"M"+v+","+l*a+"V"+c+"H"+y+"V"+l*a:"M"+v+","+c+"H"+y),k.attr("opacity",1).attr("transform",(function(t){return f(b(t)+c)})),T.attr(u+"2",l*o),A.attr(u,l*m).text(p),w.filter(Hc).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Fc?"start":t===Oc?"end":"middle"),w.each((function(){this.__axis=b}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h.offset=function(t){return arguments.length?(c=+t,h):c},h}function Yc(){}function Xc(t){return null==t?Yc:function(){return this.querySelector(t)}}function Zc(){return[]}function Gc(t){return null==t?Zc:function(){return this.querySelectorAll(t)}}function Kc(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}function Qc(t){return function(){return this.matches(t)}}function Jc(t){return function(e){return e.matches(t)}}var tl=Array.prototype.find;function el(){return this.firstElementChild}var nl=Array.prototype.filter;function rl(){return Array.from(this.children)}function il(t){return new Array(t.length)}function ol(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function al(t,e,n,r,i,o){for(var a,s=0,c=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ol(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function sl(t,e,n,r,i,o,a){var s,c,l,u=new Map,f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(c=e[s])&&(d[s]=l=a.call(c,c.__data__,s,e)+"",u.has(l)?i[s]=c:u.set(l,c));for(s=0;s<h;++s)l=a.call(t,o[s],s,o)+"",(c=u.get(l))?(r[s]=c,c.__data__=o[s],u.delete(l)):n[s]=new ol(t,o[s]);for(s=0;s<f;++s)(c=e[s])&&u.get(d[s])===c&&(i[s]=c)}function cl(t){return t.__data__}function ll(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ul(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ol.prototype={constructor:ol,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var fl="http://www.w3.org/1999/xhtml",hl={svg:"http://www.w3.org/2000/svg",xhtml:fl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dl(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),hl.hasOwnProperty(e)?{space:hl[e],local:t}:t}function pl(t){return function(){this.removeAttribute(t)}}function ml(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gl(t,e){return function(){this.setAttribute(t,e)}}function vl(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yl(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function bl(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xl(t){return function(){this.style.removeProperty(t)}}function kl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ml(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Sl(t,e){return t.style.getPropertyValue(e)||wl(t).getComputedStyle(t,null).getPropertyValue(e)}function Tl(t){return function(){delete this[t]}}function Al(t,e){return function(){this[t]=e}}function El(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Pl(t){return t.trim().split(/^|\s+/)}function _l(t){return t.classList||new $l(t)}function $l(t){this._node=t,this._names=Pl(t.getAttribute("class")||"")}function Cl(t,e){for(var n=_l(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ll(t,e){for(var n=_l(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Dl(t){return function(){Cl(this,t)}}function Rl(t){return function(){Ll(this,t)}}function Nl(t,e){return function(){(e.apply(this,arguments)?Cl:Ll)(this,t)}}function Vl(){this.textContent=""}function Fl(t){return function(){this.textContent=t}}function jl(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ol(){this.innerHTML=""}function Bl(t){return function(){this.innerHTML=t}}function Il(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ul(){this.nextSibling&&this.parentNode.appendChild(this)}function zl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wl(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===fl&&e.documentElement.namespaceURI===fl?e.createElement(t):e.createElementNS(n,t)}}function Hl(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ql(t){var e=dl(t);return(e.local?Hl:Wl)(e)}function Yl(){return null}function Xl(){var t=this.parentNode;t&&t.removeChild(this)}function Zl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gl(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Kl(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Ql(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Jl(t,e,n){var r=wl(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function tu(t,e){return function(){return Jl(this,t,e)}}function eu(t,e){return function(){return Jl(this,t,e.apply(this,arguments))}}$l.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var nu=[null];function ru(t,e){this._groups=t,this._parents=e}function iu(){return new ru([[document.documentElement]],nu)}ru.prototype=iu.prototype={constructor:ru,select:function(t){"function"!=typeof t&&(t=Xc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),l[u]=a);return new ru(r,this._parents)},selectAll:function(t){t="function"==typeof t?Kc(t):Gc(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new ru(r,i)},selectChild:function(t){return this.select(null==t?el:function(t){return function(){return tl.call(this.children,t)}}("function"==typeof t?t:Jc(t)))},selectChildren:function(t){return this.selectAll(null==t?rl:function(t){return function(){return nl.call(this.children,t)}}("function"==typeof t?t:Jc(t)))},filter:function(t){"function"!=typeof t&&(t=Qc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new ru(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,cl);var n,r=e?sl:al,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),c=new Array(a),l=new Array(a),u=0;u<a;++u){var f=i[u],h=o[u],d=h.length,p=ll(t.call(f,f&&f.__data__,u,i)),m=p.length,g=c[u]=new Array(m),v=s[u]=new Array(m);r(f,h,g,v,l[u]=new Array(d),p,e);for(var y,b,w=0,x=0;w<m;++w)if(y=g[w]){for(w>=x&&(x=w+1);!(b=v[x])&&++x<m;);y._next=b||null}}return(s=new ru(s,i))._enter=c,s._exit=l,s},enter:function(){return new ru(this._enter||this._groups.map(il),this._parents)},exit:function(){return new ru(this._exit||this._groups.map(il),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var l,u=n[c],f=r[c],h=u.length,d=s[c]=new Array(h),p=0;p<h;++p)(l=u[p]||f[p])&&(d[p]=l);for(;c<i;++c)s[c]=n[c];return new ru(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ul);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,l=i[o]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(e)}return new ru(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=dl(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ml:pl:"function"==typeof e?n.local?bl:yl:n.local?vl:gl)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?xl:"function"==typeof e?Ml:kl)(t,e,null==n?"":n)):Sl(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Tl:"function"==typeof e?El:Al)(t,e)):this.node()[t]},classed:function(t,e){var n=Pl(t+"");if(arguments.length<2){for(var r=_l(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Nl:e?Dl:Rl)(n,e))},text:function(t){return arguments.length?this.each(null==t?Vl:("function"==typeof t?jl:Fl)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ol:("function"==typeof t?Il:Bl)(t)):this.node().innerHTML},raise:function(){return this.each(Ul)},lower:function(){return this.each(zl)},append:function(t){var e="function"==typeof t?t:ql(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ql(t),r=null==e?Yl:"function"==typeof e?e:Xc(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Xl)},clone:function(t){return this.select(t?Gl:Zl)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Ql:Kl,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?eu:tu)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var ou=iu,au={value:()=>{}};function su(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new cu(r)}function cu(t){this._=t}function lu(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function uu(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=au,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}cu.prototype=su.prototype={constructor:cu,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=uu(i[n],t.name,e);else if(null==e)for(n in i)i[n]=uu(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=lu(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new cu(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var fu,hu,du=su,pu=0,mu=0,gu=0,vu=1e3,yu=0,bu=0,wu=0,xu="object"==typeof performance&&performance.now?performance:Date,ku="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Mu(){return bu||(ku(Su),bu=xu.now()+wu)}function Su(){bu=0}function Tu(){this._call=this._time=this._next=null}function Au(t,e,n){var r=new Tu;return r.restart(t,e,n),r}function Eu(){bu=(yu=xu.now())+wu,pu=mu=0;try{!function(){Mu(),++pu;for(var t,e=fu;e;)(t=bu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--pu}()}finally{pu=0,function(){var t,e,n=fu,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:fu=e);hu=t,_u(r)}(),bu=0}}function Pu(){var t=xu.now(),e=t-yu;e>vu&&(wu-=e,yu=t)}function _u(t){pu||(mu&&(mu=clearTimeout(mu)),t-bu>24?(t<1/0&&(mu=setTimeout(Eu,t-xu.now()-wu)),gu&&(gu=clearInterval(gu))):(gu||(yu=xu.now(),gu=setInterval(Pu,vu)),pu=1,ku(Eu)))}function $u(t,e,n){var r=new Tu;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Tu.prototype=Au.prototype={constructor:Tu,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Mu():+n)+(null==e?0:+e),this._next||hu===this||(hu?hu._next=this:fu=this,hu=this),this._call=t,this._time=n,_u()},stop:function(){this._call&&(this._call=null,this._time=1/0,_u())}};var Cu=du("start","end","cancel","interrupt"),Lu=[],Du=0,Ru=1,Nu=2,Vu=3,Fu=4,ju=5,Ou=6;function Bu(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=Ru,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var l,u,f,h;if(n.state!==Ru)return c();for(l in i)if((h=i[l]).name===n.name){if(h.state===Vu)return $u(a);h.state===Fu?(h.state=Ou,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<e&&(h.state=Ou,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if($u((function(){n.state===Vu&&(n.state=Fu,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=Nu,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Nu){for(n.state=Vu,r=new Array(f=n.tween.length),l=0,u=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(c),n.state=ju,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===ju&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){for(var r in n.state=Ou,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Au(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Cu,tween:Lu,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Du})}function Iu(t,e){var n=zu(t,e);if(n.state>Du)throw new Error("too late; already scheduled");return n}function Uu(t,e){var n=zu(t,e);if(n.state>Vu)throw new Error("too late; already running");return n}function zu(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Wu(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Hu,qu=180/Math.PI,Yu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xu(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*qu,skewX:Math.atan(c)*qu,scaleX:a,scaleY:s}}function Zu(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:Wu(t,i)},{i:c-2,x:Wu(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Wu(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,c),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Wu(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,c),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Wu(t,n)},{i:s-2,x:Wu(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var Gu=Zu((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Yu:Xu(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Ku=Zu((function(t){return null==t?Yu:(Hu||(Hu=document.createElementNS("http://www.w3.org/2000/svg","g")),Hu.setAttribute("transform",t),(t=Hu.transform.baseVal.consolidate())?Xu((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Yu)}),", ",")",")");function Qu(t,e){var n,r;return function(){var i=Uu(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Ju(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Uu(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function tf(t,e,n){var r=t._id;return t.each((function(){var t=Uu(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return zu(t,r).value[e]}}function ef(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nf(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rf(){}var of=.7,af=1/of,sf="\\s*([+-]?\\d+)\\s*",cf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uf=/^#([0-9a-f]{3,8})$/,ff=new RegExp(`^rgb\\(${sf},${sf},${sf}\\)$`),hf=new RegExp(`^rgb\\(${lf},${lf},${lf}\\)$`),df=new RegExp(`^rgba\\(${sf},${sf},${sf},${cf}\\)$`),pf=new RegExp(`^rgba\\(${lf},${lf},${lf},${cf}\\)$`),mf=new RegExp(`^hsl\\(${cf},${lf},${lf}\\)$`),gf=new RegExp(`^hsla\\(${cf},${lf},${lf},${cf}\\)$`),vf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yf(){return this.rgb().formatHex()}function bf(){return this.rgb().formatRgb()}function wf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=uf.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?xf(e):3===n?new Tf(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?kf(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?kf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ff.exec(t))?new Tf(e[1],e[2],e[3],1):(e=hf.exec(t))?new Tf(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=df.exec(t))?kf(e[1],e[2],e[3],e[4]):(e=pf.exec(t))?kf(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=mf.exec(t))?Cf(e[1],e[2]/100,e[3]/100,1):(e=gf.exec(t))?Cf(e[1],e[2]/100,e[3]/100,e[4]):vf.hasOwnProperty(t)?xf(vf[t]):"transparent"===t?new Tf(NaN,NaN,NaN,0):null}function xf(t){return new Tf(t>>16&255,t>>8&255,255&t,1)}function kf(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tf(t,e,n,r)}function Mf(t){return t instanceof rf||(t=wf(t)),t?new Tf((t=t.rgb()).r,t.g,t.b,t.opacity):new Tf}function Sf(t,e,n,r){return 1===arguments.length?Mf(t):new Tf(t,e,n,null==r?1:r)}function Tf(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Af(){return`#${$f(this.r)}${$f(this.g)}${$f(this.b)}`}function Ef(){const t=Pf(this.opacity);return`${1===t?"rgb(":"rgba("}${_f(this.r)}, ${_f(this.g)}, ${_f(this.b)}${1===t?")":`, ${t})`}`}function Pf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _f(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $f(t){return((t=_f(t))<16?"0":"")+t.toString(16)}function Cf(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rf(t,e,n,r)}function Lf(t){if(t instanceof Rf)return new Rf(t.h,t.s,t.l,t.opacity);if(t instanceof rf||(t=wf(t)),!t)return new Rf;if(t instanceof Rf)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Rf(a,s,c,t.opacity)}function Df(t,e,n,r){return 1===arguments.length?Lf(t):new Rf(t,e,n,null==r?1:r)}function Rf(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Nf(t){return(t=(t||0)%360)<0?t+360:t}function Vf(t){return Math.max(0,Math.min(1,t||0))}function Ff(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function jf(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}ef(rf,wf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yf,formatHex:yf,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Lf(this).formatHsl()},formatRgb:bf,toString:bf}),ef(Tf,Sf,nf(rf,{brighter(t){return t=null==t?af:Math.pow(af,t),new Tf(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?of:Math.pow(of,t),new Tf(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tf(_f(this.r),_f(this.g),_f(this.b),Pf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Af,formatHex:Af,formatHex8:function(){return`#${$f(this.r)}${$f(this.g)}${$f(this.b)}${$f(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ef,toString:Ef})),ef(Rf,Df,nf(rf,{brighter(t){return t=null==t?af:Math.pow(af,t),new Rf(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?of:Math.pow(of,t),new Rf(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tf(Ff(t>=240?t-240:t+120,i,r),Ff(t,i,r),Ff(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Rf(Nf(this.h),Vf(this.s),Vf(this.l),Pf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Pf(this.opacity);return`${1===t?"hsl(":"hsla("}${Nf(this.h)}, ${100*Vf(this.s)}%, ${100*Vf(this.l)}%${1===t?")":`, ${t})`}`}}));var Of=t=>()=>t;function Bf(t,e){return function(n){return t+n*e}}function If(t,e){var n=e-t;return n?Bf(t,n>180||n<-180?n-360*Math.round(n/360):n):Of(isNaN(t)?e:t)}function Uf(t){return 1==(t=+t)?zf:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Of(isNaN(e)?n:e)}}function zf(t,e){var n=e-t;return n?Bf(t,n):Of(isNaN(t)?e:t)}var Wf=function t(e){var n=Uf(e);function r(t,e){var r=n((t=Sf(t)).r,(e=Sf(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=zf(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Hf(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Sf(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var qf=Hf((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return jf((n-r/e)*e,a,i,o,s)}})),Yf=(Hf((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return jf((n-r/e)*e,i,o,a,s)}})),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),Xf=new RegExp(Yf.source,"g");function Zf(t,e){var n,r,i,o=Yf.lastIndex=Xf.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=Yf.exec(t))&&(r=Xf.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:Wu(n,r)})),o=Xf.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function Gf(t,e){var n;return("number"==typeof e?Wu:e instanceof wf?Wf:(n=wf(e))?(e=n,Wf):Zf)(t,e)}function Kf(t){return function(){this.removeAttribute(t)}}function Qf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jf(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function th(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function eh(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttribute(t)}}function nh(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function rh(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function ih(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function oh(t,e){return function(){Iu(this,t).delay=+e.apply(this,arguments)}}function ah(t,e){return e=+e,function(){Iu(this,t).delay=e}}function sh(t,e){return function(){Uu(this,t).duration=+e.apply(this,arguments)}}function ch(t,e){return e=+e,function(){Uu(this,t).duration=e}}var lh=ou.prototype.constructor;function uh(t){return function(){this.style.removeProperty(t)}}var fh=0;function hh(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function dh(){return++fh}var ph=ou.prototype;hh.prototype=function(t){return ou().transition(t)}.prototype={constructor:hh,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Xc(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=r[a],u=l.length,f=o[a]=new Array(u),h=0;h<u;++h)(s=l[h])&&(c=t.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),f[h]=c,Bu(f[h],e,n,h,f,zu(s,n)));return new hh(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Gc(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,l=r[s],u=l.length,f=0;f<u;++f)if(c=l[f]){for(var h,d=t.call(c,c.__data__,f,l),p=zu(c,n),m=0,g=d.length;m<g;++m)(h=d[m])&&Bu(h,e,n,m,d,p);o.push(d),a.push(c)}return new hh(o,a,e,n)},selectChild:ph.selectChild,selectChildren:ph.selectChildren,filter:function(t){"function"!=typeof t&&(t=Qc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new hh(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=e[s],u=n[s],f=l.length,h=a[s]=new Array(f),d=0;d<f;++d)(c=l[d]||u[d])&&(h[d]=c);for(;s<r;++s)a[s]=e[s];return new hh(a,this._parents,this._name,this._id)},selection:function(){return new lh(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=dh(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=zu(a,e);Bu(a,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new hh(r,this._parents,t,n)},call:ph.call,nodes:ph.nodes,node:ph.node,size:ph.size,empty:ph.empty,each:ph.each,on:function(t,e){var n=this._id;return arguments.length<2?zu(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Iu:Uu;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=dl(t),r="transform"===n?Ku:Gf;return this.attrTween(t,"function"==typeof e?(n.local?nh:eh)(n,r,tf(this,"attr."+t,e)):null==e?(n.local?Qf:Kf)(n):(n.local?th:Jf)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=dl(t);return this.tween(n,(r.local?rh:ih)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Gu:Gf;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Sl(this,t),a=(this.style.removeProperty(t),Sl(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,uh(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Sl(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=Sl(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}(t,r,tf(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var c=Uu(this,t),l=c.on,u=null==c.value[a]?o||(o=uh(e)):void 0;l===n&&i===u||(r=(n=l).copy()).on(s,i=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Sl(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(tf(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=zu(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Qu:Ju)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?oh:ah)(e,t)):zu(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?sh:ch)(e,t)):zu(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Uu(this,t).ease=e}}(e,t)):zu(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Uu(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=Uu(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:ph[Symbol.iterator]};var mh={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function gh(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}ou.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Nu&&n.state<ju,n.state=Ou,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},ou.prototype.transition=function(t){var e,n;t instanceof hh?(e=t._id,t=t._name):(e=dh(),(n=mh).time=Mu(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)(a=s[l])&&Bu(a,t,e,l,s,n||gh(a,e));return new hh(r,this._parents,t,e)};const{abs:vh,max:yh,min:bh}=Math;function wh(t){return[+t[0],+t[1]]}function xh(t){return[wh(t[0]),wh(t[1])]}["w","e"].map(kh),["n","s"].map(kh),["n","w","e","s","nw","ne","sw","se"].map(kh);function kh(t){return{type:t}}function Mh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sh(t){return(t=Mh(Math.abs(t)))?t[1]:NaN}var Th,Ah=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Eh(t){if(!(e=Ah.exec(t)))throw new Error("invalid format: "+t);var e;return new Ph({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ph(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function _h(t,e){var n=Mh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Eh.prototype=Ph.prototype,Ph.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var $h={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>_h(100*t,e),r:_h,s:function(t,e){var n=Mh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Th=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Mh(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ch(t){return t}var Lh,Dh,Rh,Nh=Array.prototype.map,Vh=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fh(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ch:(e=Nh.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(t.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ch:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Nh.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Eh(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):$h[y]||(void 0===g&&(g=12),v=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?c:"",x=$h[y],k=/[defgprs%]/.test(y);function M(t){var i,o,c,h=b,M=w;if("c"===y)M=x(t)+M,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==f&&(S=!1),h=(S?"("===f?f:l:"-"===f||"("===f?"":f)+h,M=("s"===y?Vh[8+Th/3]:"")+M+(S&&"("===f?")":""),k)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}m&&!d&&(t=r(t,1/0));var T=h.length+t.length+M.length,A=T<p?new Array(p-T+1).join(e):"";switch(m&&d&&(t=r(A+t,A.length?p-M.length:1/0),A=""),n){case"<":t=h+t+M+A;break;case"=":t=h+A+t+M;break;case"^":t=A.slice(0,T=A.length>>1)+h+t+M+A.slice(T);break;default:t=A+h+t+M}return s(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=Eh(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Sh(e)/3))),i=Math.pow(10,-r),o=Vh[8+r/3];return function(t){return n(i*t)+o}}}}Lh=Fh({thousands:",",grouping:[3],currency:["$",""]}),Dh=Lh.format,Rh=Lh.formatPrefix;var jh=1e-6,Oh=1e-12,Bh=Math.PI,Ih=Bh/2,Uh=Bh/4,zh=2*Bh,Wh=180/Bh,Hh=Bh/180,qh=Math.abs,Yh=Math.atan,Xh=Math.atan2,Zh=Math.cos,Gh=(Math.ceil,Math.exp),Kh=(Math.floor,Math.hypot,Math.log),Qh=Math.pow,Jh=Math.sin,td=Math.sign||function(t){return t>0?1:t<0?-1:0},ed=Math.sqrt,nd=Math.tan;function rd(t){return t>1?0:t<-1?Bh:Math.acos(t)}function id(t){return t>1?Ih:t<-1?-Ih:Math.asin(t)}function od(){}function ad(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:od,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function sd(t,e){return qh(t[0]-e[0])<jh&&qh(t[1]-e[1])<jh}function cd(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ld(t,e,n,r,i){var o,a,s=[],c=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(sd(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*jh}s.push(n=new cd(r,t,null,!0)),c.push(n.o=new cd(r,null,n,!1)),s.push(n=new cd(a,t,null,!1)),c.push(n.o=new cd(a,null,n,!0))}})),s.length){for(c.sort(e),ud(s),ud(c),o=0,a=c.length;o<a;++o)c[o].e=n=!n;for(var l,u,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=l.length;o<a;++o)i.point((u=l[o])[0],u[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((u=l[o])[0],u[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function ud(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function fd(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}var hd=1e9,dd=-hd;function pd(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var u=0,f=0;if(null==i||(u=a(i,s))!==(f=a(o,s))||c(i,o)<0^s>0)do{l.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==f);else l.point(o[0],o[1])}function a(r,i){return qh(r[0]-t)<jh?i>0?0:3:qh(r[0]-n)<jh?i>0?2:1:qh(r[1]-e)<jh?i>0?1:0:i>0?3:2}function s(t,e){return c(t.x,e.x)}function c(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var c,l,u,f,h,d,p,m,g,v,y,b=a,w=ad(),x={point:k,lineStart:function(){x.point=M,l&&l.push(u=[]);v=!0,g=!1,p=m=NaN},lineEnd:function(){c&&(M(f,h),d&&g&&w.rejoin(),c.push(w.result()));x.point=k,g&&b.lineEnd()},polygonStart:function(){b=w,c=[],l=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],c=1,u=s.length,f=s[0],h=f[0],d=f[1];c<u;++c)o=h,a=d,h=(f=s[c])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=y&&e,i=(c=fd(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&ld(c,s,e,o,a),a.polygonEnd());b=a,c=l=u=null}};function k(t,e){i(t,e)&&b.point(t,e)}function M(o,a){var s=i(o,a);if(l&&u.push([o,a]),v)f=o,h=a,d=s,v=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&g)b.point(o,a);else{var c=[p=Math.max(dd,Math.min(hd,p)),m=Math.max(dd,Math.min(hd,m))],w=[o=Math.max(dd,Math.min(hd,o)),a=Math.max(dd,Math.min(hd,a))];!function(t,e,n,r,i,o){var a,s=t[0],c=t[1],l=0,u=1,f=e[0]-s,h=e[1]-c;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>l&&(l=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<u&&(u=a)}if(a=r-c,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>l&&(l=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<u&&(u=a)}return l>0&&(t[0]=s+l*f,t[1]=c+l*h),u<1&&(e[0]=s+u*f,e[1]=c+u*h),!0}}}}}(c,w,t,e,n,r)?s&&(b.lineStart(),b.point(o,a),y=!1):(g||(b.lineStart(),b.point(c[0],c[1])),b.point(w[0],w[1]),s||b.lineEnd(),y=!1)}p=o,m=a,g=s}return x}}var md=t=>t;function gd(t,e){t&&yd.hasOwnProperty(t.type)&&yd[t.type](t,e)}var vd={Feature:function(t,e){gd(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)gd(n[r].geometry,e)}},yd={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){bd(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)bd(n[r],e,0)},Polygon:function(t,e){wd(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)wd(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)gd(n[r],e)}};function bd(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function wd(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)bd(t[n],e,1);e.polygonEnd()}function xd(t,e){t&&vd.hasOwnProperty(t.type)?vd[t.type](t,e):gd(t,e)}class kd{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(e=o,n=t[--i],o=e+n,r=n-(o-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}var Md,Sd,Td,Ad,Ed=new kd,Pd=new kd,_d={point:od,lineStart:od,lineEnd:od,polygonStart:function(){_d.lineStart=$d,_d.lineEnd=Dd},polygonEnd:function(){_d.lineStart=_d.lineEnd=_d.point=od,Ed.add(qh(Pd)),Pd=new kd},result:function(){var t=Ed/2;return Ed=new kd,t}};function $d(){_d.point=Cd}function Cd(t,e){_d.point=Ld,Md=Td=t,Sd=Ad=e}function Ld(t,e){Pd.add(Ad*t-Td*e),Td=t,Ad=e}function Dd(){Ld(Md,Sd)}var Rd=_d,Nd=1/0,Vd=Nd,Fd=-Nd,jd=Fd,Od={point:function(t,e){t<Nd&&(Nd=t);t>Fd&&(Fd=t);e<Vd&&(Vd=e);e>jd&&(jd=e)},lineStart:od,lineEnd:od,polygonStart:od,polygonEnd:od,result:function(){var t=[[Nd,Vd],[Fd,jd]];return Fd=jd=-(Vd=Nd=1/0),t}};var Bd,Id,Ud,zd,Wd=Od,Hd=0,qd=0,Yd=0,Xd=0,Zd=0,Gd=0,Kd=0,Qd=0,Jd=0,tp={point:ep,lineStart:np,lineEnd:op,polygonStart:function(){tp.lineStart=ap,tp.lineEnd=sp},polygonEnd:function(){tp.point=ep,tp.lineStart=np,tp.lineEnd=op},result:function(){var t=Jd?[Kd/Jd,Qd/Jd]:Gd?[Xd/Gd,Zd/Gd]:Yd?[Hd/Yd,qd/Yd]:[NaN,NaN];return Hd=qd=Yd=Xd=Zd=Gd=Kd=Qd=Jd=0,t}};function ep(t,e){Hd+=t,qd+=e,++Yd}function np(){tp.point=rp}function rp(t,e){tp.point=ip,ep(Ud=t,zd=e)}function ip(t,e){var n=t-Ud,r=e-zd,i=ed(n*n+r*r);Xd+=i*(Ud+t)/2,Zd+=i*(zd+e)/2,Gd+=i,ep(Ud=t,zd=e)}function op(){tp.point=ep}function ap(){tp.point=cp}function sp(){lp(Bd,Id)}function cp(t,e){tp.point=lp,ep(Bd=Ud=t,Id=zd=e)}function lp(t,e){var n=t-Ud,r=e-zd,i=ed(n*n+r*r);Xd+=i*(Ud+t)/2,Zd+=i*(zd+e)/2,Gd+=i,Kd+=(i=zd*t-Ud*e)*(Ud+t),Qd+=i*(zd+e),Jd+=3*i,ep(Ud=t,zd=e)}var up=tp;function fp(t){this._context=t}fp.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,zh)}},result:od};var hp,dp,pp,mp,gp,vp=new kd,yp={point:od,lineStart:function(){yp.point=bp},lineEnd:function(){hp&&wp(dp,pp),yp.point=od},polygonStart:function(){hp=!0},polygonEnd:function(){hp=null},result:function(){var t=+vp;return vp=new kd,t}};function bp(t,e){yp.point=wp,dp=mp=t,pp=gp=e}function wp(t,e){mp-=t,gp-=e,vp.add(ed(mp*mp+gp*gp)),mp=t,gp=e}var xp=yp;let kp,Mp,Sp,Tp;class Ap{constructor(t){this._append=null==t?Ep:function(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Ep;if(e!==kp){const t=10**e;kp=e,Mp=function(e){let n=1;this._+=e[0];for(const r=e.length;n<r;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return Mp}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==Sp||this._append!==Mp){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Sp=t,Mp=this._append,Tp=this._,this._=e}this._+=Tp}}result(){const t=this._;return this._="",t.length?t:null}}function Ep(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Pp(t,e){let n,r,i=3,o=4.5;function a(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),xd(t,n(r))),r.result()}return a.area=function(t){return xd(t,n(Rd)),Rd.result()},a.measure=function(t){return xd(t,n(xp)),xp.result()},a.bounds=function(t){return xd(t,n(Wd)),Wd.result()},a.centroid=function(t){return xd(t,n(up)),up.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,md):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new Ap(i)):new fp(e=t),"function"!=typeof o&&r.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);i=e}return null===e&&(r=new Ap(i)),a},a.projection(t).digits(i).context(e)}function _p(t){return[Xh(t[1],t[0]),id(t[2])]}function $p(t){var e=t[0],n=t[1],r=Zh(n);return[r*Zh(e),r*Jh(e),Jh(n)]}function Cp(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Lp(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Dp(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Rp(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Np(t){var e=ed(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Vp(t){return qh(t[0])<=Bh?t[0]:td(t[0])*((qh(t[0])+Bh)%zh-Bh)}function Fp(t,e,n,r){return function(i){var o,a,s,c=e(i),l=ad(),u=e(l),f=!1,h={point:d,lineStart:m,lineEnd:g,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=m,h.lineEnd=g,a=fd(a);var t=function(t,e){var n=Vp(e),r=e[1],i=Jh(r),o=[Jh(n),-Zh(n),0],a=0,s=0,c=new kd;1===i?r=Ih+jh:-1===i&&(r=-Ih-jh);for(var l=0,u=t.length;l<u;++l)if(h=(f=t[l]).length)for(var f,h,d=f[h-1],p=Vp(d),m=d[1]/2+Uh,g=Jh(m),v=Zh(m),y=0;y<h;++y,p=w,g=k,v=M,d=b){var b=f[y],w=Vp(b),x=b[1]/2+Uh,k=Jh(x),M=Zh(x),S=w-p,T=S>=0?1:-1,A=T*S,E=A>Bh,P=g*k;if(c.add(Xh(P*T*Jh(A),v*M+P*Zh(A))),a+=E?S+T*zh:S,E^p>=n^w>=n){var _=Lp($p(d),$p(b));Np(_);var $=Lp(o,_);Np($);var C=(E^S>=0?-1:1)*id($[2]);(r>C||r===C&&(_[0]||_[1]))&&(s+=E^S>=0?1:-1)}}return(a<-jh||a<jh&&c<-Oh)^1&s}(o,r);a.length?(f||(i.polygonStart(),f=!0),ld(a,Op,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){c.point(t,e)}function m(){h.point=p,c.lineStart()}function g(){h.point=d,c.lineEnd()}function v(t,e){s.push([t,e]),u.point(t,e)}function y(){u.lineStart(),s=[]}function b(){v(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,c=u.clean(),h=l.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&c){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),a.push(h.filter(jp))}return h}}function jp(t){return t.length>1}function Op(t,e){return((t=t.x)[0]<0?t[1]-Ih-jh:Ih-t[1])-((e=e.x)[0]<0?e[1]-Ih-jh:Ih-e[1])}var Bp=Fp((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Bh:-Bh,c=qh(o-n);qh(c-Bh)<jh?(t.point(n,r=(r+a)/2>0?Ih:-Ih),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&c>=Bh&&(qh(n-i)<jh&&(n-=i*jh),qh(o-s)<jh&&(o-=s*jh),r=function(t,e,n,r){var i,o,a=Jh(t-n);return qh(a)>jh?Yh((Jh(e)*(o=Zh(r))*Jh(n)-Jh(r)*(i=Zh(e))*Jh(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Ih,r.point(-Bh,i),r.point(0,i),r.point(Bh,i),r.point(Bh,0),r.point(Bh,-i),r.point(0,-i),r.point(-Bh,-i),r.point(-Bh,0),r.point(-Bh,i);else if(qh(t[0]-e[0])>jh){var o=t[0]<e[0]?Bh:-Bh;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Bh,-Ih]);function Ip(t,e,n,r,i,o){if(n){var a=Zh(e),s=Jh(e),c=r*n;null==i?(i=e+r*zh,o=e-c/2):(i=Up(a,i),o=Up(a,o),(r>0?i<o:i>o)&&(i+=r*zh));for(var l,u=i;r>0?u>o:u<o;u-=c)l=_p([a,-s*Zh(u),-s*Jh(u)]),t.point(l[0],l[1])}}function Up(t,e){(e=$p(e))[0]-=t,Np(e);var n=rd(-e[1]);return((-e[2]<0?-n:n)+zh-jh)%zh}function zp(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Wp(t,e){return qh(t)>Bh&&(t-=Math.round(t/zh)*zh),[t,e]}function Hp(t,e,n){return(t%=zh)?e||n?zp(Yp(t),Xp(e,n)):Yp(t):e||n?Xp(e,n):Wp}function qp(t){return function(e,n){return qh(e+=t)>Bh&&(e-=Math.round(e/zh)*zh),[e,n]}}function Yp(t){var e=qp(t);return e.invert=qp(-t),e}function Xp(t,e){var n=Zh(t),r=Jh(t),i=Zh(e),o=Jh(e);function a(t,e){var a=Zh(e),s=Zh(t)*a,c=Jh(t)*a,l=Jh(e),u=l*n+s*r;return[Xh(c*i-u*o,s*n-l*r),id(u*i+c*o)]}return a.invert=function(t,e){var a=Zh(e),s=Zh(t)*a,c=Jh(t)*a,l=Jh(e),u=l*i-c*o;return[Xh(c*i+l*o,s*n+u*r),id(u*n-s*r)]},a}function Zp(t){return{stream:Gp(t)}}function Gp(t){return function(e){var n=new Kp;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Kp(){}function Qp(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),xd(n,t.stream(Wd)),e(Wd.result()),null!=r&&t.clipExtent(r),t}function Jp(t,e,n){return Qp(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function tm(t,e,n){return Jp(t,[[0,0],e],n)}function em(t,e,n){return Qp(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function nm(t,e,n){return Qp(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}Wp.invert=Wp,Kp.prototype={constructor:Kp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var rm=16,im=Zh(30*Hh);function om(t,e){return+e?function(t,e){function n(r,i,o,a,s,c,l,u,f,h,d,p,m,g){var v=l-r,y=u-i,b=v*v+y*y;if(b>4*e&&m--){var w=a+h,x=s+d,k=c+p,M=ed(w*w+x*x+k*k),S=id(k/=M),T=qh(qh(k)-1)<jh||qh(o-f)<jh?(o+f)/2:Xh(x,w),A=t(T,S),E=A[0],P=A[1],_=E-r,$=P-i,C=y*_-v*$;(C*C/b>e||qh((v*_+y*$)/b-.5)>.3||a*h+s*d+c*p<im)&&(n(r,i,o,a,s,c,E,P,T,w/=M,x/=M,k,m,g),g.point(E,P),n(E,P,T,w,x,k,l,u,f,h,d,p,m,g))}}return function(e){var r,i,o,a,s,c,l,u,f,h,d,p,m={point:g,lineStart:v,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=w},polygonEnd:function(){e.polygonEnd(),m.lineStart=v}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){u=NaN,m.point=y,e.lineStart()}function y(r,i){var o=$p([r,i]),a=t(r,i);n(u,f,l,h,d,p,u=a[0],f=a[1],l=r,h=o[0],d=o[1],p=o[2],rm,e),e.point(u,f)}function b(){m.point=g,e.lineEnd()}function w(){v(),m.point=x,m.lineEnd=k}function x(t,e){y(r=t,e),i=u,o=f,a=h,s=d,c=p,m.point=y}function k(){n(u,f,l,h,d,p,i,o,r,a,s,c,rm,e),m.lineEnd=b,b()}return m}}(t,e):function(t){return Gp({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var am=Gp({point:function(t,e){this.stream.point(t*Hh,e*Hh)}});function sm(t,e,n,r,i,o){if(!o)return function(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}(t,e,n,r,i);var a=Zh(o),s=Jh(o),c=a*t,l=s*t,u=a/t,f=s/t,h=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return[c*(t*=r)-l*(o*=i)+e,n-l*t-c*o]}return p.invert=function(t,e){return[r*(u*t-f*e+h),i*(d-f*t-u*e)]},p}function cm(t){return lm((function(){return t}))()}function lm(t){var e,n,r,i,o,a,s,c,l,u,f=150,h=480,d=250,p=0,m=0,g=0,v=0,y=0,b=0,w=1,x=1,k=null,M=Bp,S=null,T=md,A=.5;function E(t){return c(t[0]*Hh,t[1]*Hh)}function P(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Wh,t[1]*Wh]}function _(){var t=sm(f,0,0,w,x,b).apply(null,e(p,m)),r=sm(f,h-t[0],d-t[1],w,x,b);return n=Hp(g,v,y),s=zp(e,r),c=zp(n,s),a=om(s,A),$()}function $(){return l=u=null,E}return E.stream=function(t){return l&&u===t?l:l=am(function(t){return Gp({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(M(a(T(u=t)))))},E.preclip=function(t){return arguments.length?(M=t,k=void 0,$()):M},E.postclip=function(t){return arguments.length?(T=t,S=r=i=o=null,$()):T},E.clipAngle=function(t){return arguments.length?(M=+t?function(t){var e=Zh(t),n=2*Hh,r=e>0,i=qh(e)>jh;function o(t,n){return Zh(t)*Zh(n)>e}function a(t,n,r){var i=[1,0,0],o=Lp($p(t),$p(n)),a=Cp(o,o),s=o[0],c=a-s*s;if(!c)return!r&&t;var l=e*a/c,u=-e*s/c,f=Lp(i,o),h=Rp(i,l);Dp(h,Rp(o,u));var d=f,p=Cp(h,d),m=Cp(d,d),g=p*p-m*(Cp(h,h)-1);if(!(g<0)){var v=ed(g),y=Rp(d,(-p-v)/m);if(Dp(y,h),y=_p(y),!r)return y;var b,w=t[0],x=n[0],k=t[1],M=n[1];x<w&&(b=w,w=x,x=b);var S=x-w,T=qh(S-Bh)<jh;if(!T&&M<k&&(b=k,k=M,M=b),T||S<jh?T?k+M>0^y[1]<(qh(y[0]-w)<jh?k:M):k<=y[1]&&y[1]<=M:S>Bh^(w<=y[0]&&y[0]<=x)){var A=Rp(d,(-p+v)/m);return Dp(A,h),[y,_p(A)]}}}function s(e,n){var i=r?t:Bh-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Fp(o,(function(t){var e,n,c,l,u;return{lineStart:function(){l=c=!1,u=1},point:function(f,h){var d,p=[f,h],m=o(f,h),g=r?m?0:s(f,h):m?s(f+(f<0?Bh:-Bh),h):0;if(!e&&(l=c=m)&&t.lineStart(),m!==c&&(!(d=a(e,p))||sd(e,d)||sd(p,d))&&(p[2]=1),m!==c)u=0,m?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^m){var v;g&n||!(v=a(p,e,!0))||(u=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!m||e&&sd(e,p)||t.point(p[0],p[1]),e=p,c=m,n=g},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return u|(l&&c)<<1}}}),(function(e,r,i,o){Ip(o,t,n,i,e,r)}),r?[0,-t]:[-Bh,t-Bh])}(k=t*Hh):(k=null,Bp),$()):k*Wh},E.clipExtent=function(t){return arguments.length?(T=null==t?(S=r=i=o=null,md):pd(S=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),$()):null==S?null:[[S,r],[i,o]]},E.scale=function(t){return arguments.length?(f=+t,_()):f},E.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],_()):[h,d]},E.center=function(t){return arguments.length?(p=t[0]%360*Hh,m=t[1]%360*Hh,_()):[p*Wh,m*Wh]},E.rotate=function(t){return arguments.length?(g=t[0]%360*Hh,v=t[1]%360*Hh,y=t.length>2?t[2]%360*Hh:0,_()):[g*Wh,v*Wh,y*Wh]},E.angle=function(t){return arguments.length?(b=t%360*Hh,_()):b*Wh},E.reflectX=function(t){return arguments.length?(w=t?-1:1,_()):w<0},E.reflectY=function(t){return arguments.length?(x=t?-1:1,_()):x<0},E.precision=function(t){return arguments.length?(a=om(s,A=t*t),$()):ed(A)},E.fitExtent=function(t,e){return Jp(E,t,e)},E.fitSize=function(t,e){return tm(E,t,e)},E.fitWidth=function(t,e){return em(E,t,e)},E.fitHeight=function(t,e){return nm(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&P,_()}}function um(t){var e=0,n=Bh/3,r=lm(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Hh,n=t[1]*Hh):[e*Wh,n*Wh]},i}function fm(t,e){var n=Jh(t),r=(n+Jh(e))/2;if(qh(r)<jh)return function(t){var e=Zh(t);function n(t,n){return[t*e,Jh(n)/e]}return n.invert=function(t,n){return[t/e,id(n*e)]},n}(t);var i=1+n*(2*r-n),o=ed(i)/r;function a(t,e){var n=ed(i-2*r*Jh(e))/r;return[n*Jh(t*=r),o-n*Zh(t)]}return a.invert=function(t,e){var n=o-e,a=Xh(t,qh(n))*td(n);return n*r<0&&(a-=Bh*td(t)*td(n)),[a/r,id((i-(t*t+n*n)*r*r)/(2*r))]},a}function hm(){return um(fm).scale(155.424).center([0,33.6442])}function dm(){return hm().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function pm(){var t,e,n,r,i,o,a=dm(),s=hm().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=hm().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},u.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),c.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),c.precision(t),f()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),c.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(l),r=s.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+jh,u+.12*e+jh],[o-.214*e-jh,u+.234*e-jh]]).stream(l),i=c.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+jh,u+.166*e+jh],[o-.115*e-jh,u+.234*e-jh]]).stream(l),f()},u.fitExtent=function(t,e){return Jp(u,t,e)},u.fitSize=function(t,e){return tm(u,t,e)},u.fitWidth=function(t,e){return em(u,t,e)},u.fitHeight=function(t,e){return nm(u,t,e)},u.scale(1070)}function mm(t){return function(e,n){var r=Zh(e),i=Zh(n),o=t(r*i);return o===1/0?[2,0]:[o*i*Jh(e),o*Jh(n)]}}function gm(t){return function(e,n){var r=ed(e*e+n*n),i=t(r),o=Jh(i),a=Zh(i);return[Xh(e*o,r*a),id(r&&n*o/r)]}}var vm=mm((function(t){return ed(2/(1+t))}));function ym(){return cm(vm).scale(124.75).clipAngle(179.999)}vm.invert=gm((function(t){return 2*id(t/2)}));var bm=mm((function(t){return(t=rd(t))&&t/Jh(t)}));function wm(){return cm(bm).scale(79.4188).clipAngle(179.999)}function xm(t,e){return[t,Kh(nd((Ih+e)/2))]}function km(){return Mm(xm).scale(961/zh)}function Mm(t){var e,n,r,i=cm(t),o=i.center,a=i.scale,s=i.translate,c=i.clipExtent,l=null;function u(){var o=Bh*a(),s=i(function(t){function e(e){return(e=t(e[0]*Hh,e[1]*Hh))[0]*=Wh,e[1]*=Wh,e}return t=Hp(t[0]*Hh,t[1]*Hh,t.length>2?t[2]*Hh:0),e.invert=function(e){return(e=t.invert(e[0]*Hh,e[1]*Hh))[0]*=Wh,e[1]*=Wh,e},e}(i.rotate()).invert([0,0]));return c(null==l?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===xm?[[Math.max(s[0]-o,l),e],[Math.min(s[0]+o,n),r]]:[[l,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),u()):a()},i.translate=function(t){return arguments.length?(s(t),u()):s()},i.center=function(t){return arguments.length?(o(t),u()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),u()):null==l?null:[[l,e],[n,r]]},u()}function Sm(t){return nd((Ih+t)/2)}function Tm(t,e){var n=Zh(t),r=t===e?Jh(t):Kh(n/Zh(e))/Kh(Sm(e)/Sm(t)),i=n*Qh(Sm(t),r)/r;if(!r)return xm;function o(t,e){i>0?e<-Ih+jh&&(e=-Ih+jh):e>Ih-jh&&(e=Ih-jh);var n=i/Qh(Sm(e),r);return[n*Jh(r*t),i-n*Zh(r*t)]}return o.invert=function(t,e){var n=i-e,o=td(r)*ed(t*t+n*n),a=Xh(t,qh(n))*td(n);return n*r<0&&(a-=Bh*td(t)*td(n)),[a/r,2*Yh(Qh(i/o,1/r))-Ih]},o}function Am(){return um(Tm).scale(109.5).parallels([30,30])}function Em(t,e){return[t,e]}function Pm(){return cm(Em).scale(152.63)}function _m(t,e){var n=Zh(t),r=t===e?Jh(t):(n-Zh(e))/(e-t),i=n/r+t;if(qh(r)<jh)return Em;function o(t,e){var n=i-e,o=r*t;return[n*Jh(o),i-n*Zh(o)]}return o.invert=function(t,e){var n=i-e,o=Xh(t,qh(n))*td(n);return n*r<0&&(o-=Bh*td(t)*td(n)),[o/r,i-td(r)*ed(t*t+n*n)]},o}function $m(){return um(_m).scale(131.154).center([0,13.9389])}bm.invert=gm((function(t){return t})),xm.invert=function(t,e){return[t,2*Yh(Gh(e))-Ih]},Em.invert=Em;var Cm=1.340264,Lm=-.081106,Dm=893e-6,Rm=.003796,Nm=ed(3)/2;function Vm(t,e){var n=id(Nm*Jh(e)),r=n*n,i=r*r*r;return[t*Zh(n)/(Nm*(Cm+3*Lm*r+i*(7*Dm+9*Rm*r))),n*(Cm+Lm*r+i*(Dm+Rm*r))]}function Fm(){return cm(Vm).scale(177.158)}function jm(t,e){var n=Zh(e),r=Zh(t)*n;return[n*Jh(t)/r,Jh(e)/r]}function Om(){return cm(jm).scale(144.049).clipAngle(60)}function Bm(t,e){return[Zh(e)*Jh(t),Jh(e)]}function Im(){return cm(Bm).scale(249.5).clipAngle(90+jh)}function Um(t,e){var n=Zh(e),r=1+Zh(t)*n;return[n*Jh(t)/r,Jh(e)/r]}function zm(){return cm(Um).scale(250).clipAngle(142)}function Wm(t,e){return[Kh(nd((Ih+e)/2)),-t]}function Hm(){var t=Mm(Wm),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function qm(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ym(t){return function(e,n){var r=t((e=Df(e)).h,(n=Df(n)).h),i=zf(e.s,n.s),o=zf(e.l,n.l),a=zf(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}Vm.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Cm+Lm*i+o*(Dm+Rm*i))-e)/(Cm+3*Lm*i+o*(7*Dm+9*Rm*i)))*r)*i*i,!(qh(n)<Oh));++a);return[Nm*t*(Cm+3*Lm*i+o*(7*Dm+9*Rm*i))/Zh(r),id(Jh(r)/Nm)]},jm.invert=gm(Yh),Bm.invert=gm(id),Um.invert=gm((function(t){return 2*Yh(t)})),Wm.invert=function(t,e){return[-e,2*Yh(Gh(t))-Ih]};var Xm=Ym(If);Ym(zf);const Zm=Math.PI/180,Gm=180/Math.PI,Km=.96422,Qm=1,Jm=.82521,tg=4/29,eg=6/29,ng=3*eg*eg,rg=eg*eg*eg;function ig(t){if(t instanceof ag)return new ag(t.l,t.a,t.b,t.opacity);if(t instanceof dg)return pg(t);t instanceof Tf||(t=Mf(t));var e,n,r=ug(t.r),i=ug(t.g),o=ug(t.b),a=sg((.2225045*r+.7168786*i+.0606169*o)/Qm);return r===i&&i===o?e=n=a:(e=sg((.4360747*r+.3850649*i+.1430804*o)/Km),n=sg((.0139322*r+.0971045*i+.7141733*o)/Jm)),new ag(116*a-16,500*(e-a),200*(a-n),t.opacity)}function og(t,e,n,r){return 1===arguments.length?ig(t):new ag(t,e,n,null==r?1:r)}function ag(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function sg(t){return t>rg?Math.pow(t,1/3):t/ng+tg}function cg(t){return t>eg?t*t*t:ng*(t-tg)}function lg(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ug(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function fg(t){if(t instanceof dg)return new dg(t.h,t.c,t.l,t.opacity);if(t instanceof ag||(t=ig(t)),0===t.a&&0===t.b)return new dg(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Gm;return new dg(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function hg(t,e,n,r){return 1===arguments.length?fg(t):new dg(t,e,n,null==r?1:r)}function dg(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function pg(t){if(isNaN(t.h))return new ag(t.l,0,0,t.opacity);var e=t.h*Zm;return new ag(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function mg(t){return function(e,n){var r=t((e=hg(e)).h,(n=hg(n)).h),i=zf(e.c,n.c),o=zf(e.l,n.l),a=zf(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}ef(ag,og,nf(rf,{brighter(t){return new ag(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new ag(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Tf(lg(3.1338561*(e=Km*cg(e))-1.6168667*(t=Qm*cg(t))-.4906146*(n=Jm*cg(n))),lg(-.9787684*e+1.9161415*t+.033454*n),lg(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),ef(dg,hg,nf(rf,{brighter(t){return new dg(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new dg(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return pg(this).rgb()}}));var gg=mg(If);mg(zf);function vg(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=xg(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function yg(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function bg(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=xg(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function wg(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function xg(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Of(e):("number"===i?Wu:"string"===i?(n=wf(e))?(e=n,Wf):Zf:e instanceof wf?Wf:e instanceof Date?yg:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?vg:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?bg:Wu:wg))(t,e)}function kg(t,e){void 0===e&&(e=t,t=xg);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function Mg(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}const Sg=Math.PI,Tg=2*Sg,Ag=1e-6,Eg=Tg-Ag;function Pg(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class _g{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Pg:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Pg;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,c=r-e,l=o-t,u=a-e,f=l*l+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>Ag)if(Math.abs(u*s-c*l)>Ag&&i){let h=n-o,d=r-a,p=s*s+c*c,m=h*h+d*d,g=Math.sqrt(p),v=Math.sqrt(f),y=i*Math.tan((Sg-Math.acos((p+f-m)/(2*g*v)))/2),b=y/v,w=y/g;Math.abs(b-1)>Ag&&this._append`L${t+b*l},${e+b*u}`,this._append`A${i},${i},0,0,${+(u*h>l*d)},${this._x1=t+w*s},${this._y1=e+w*c}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),c=t+a,l=e+s,u=1^o,f=o?r-i:i-r;null===this._x1?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Ag||Math.abs(this._y1-l)>Ag)&&this._append`L${c},${l}`,n&&(f<0&&(f=f%Tg+Tg),f>Eg?this._append`A${n},${n},0,1,${u},${t-a},${e-s}A${n},${n},0,1,${u},${this._x1=c},${this._y1=l}`:f>Ag&&this._append`A${n},${n},0,${+(f>=Sg)},${u},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function $g(t=3){return new _g(+t)}function Cg(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Lg(t,e){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof e?this.interpolator(e):this.range(e)}return this}_g.prototype;const Dg=Symbol("implicit");function Rg(){var t=new Js,e=[],n=[],r=Dg;function i(i){let o=t.get(i);if(void 0===o){if(r!==Dg)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Js;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Rg(e,n).unknown(r)},Cg.apply(i,arguments),i}function Ng(){var t,e,n=Rg().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,c=0,l=0,u=.5;function f(){var n=r().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,n-c+2*l),s&&(t=Math.floor(t)),h+=(d-h-t*(n-c))*u,e=t*(1-c),s&&(h=Math.round(h),e=Math.round(e));var p=Tc(n).map((function(e){return h+t*e}));return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(c=Math.min(1,l=+t),f()):c},n.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),f()):c},n.paddingOuter=function(t){return arguments.length?(l=+t,f()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return Ng(r(),[o,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},Cg.apply(f(),arguments)}function Vg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Vg(e())},t}function Fg(){return Vg(Ng.apply(null,arguments).paddingInner(1))}const jg=Hs(zs),Og=jg.right;jg.left,Hs(yc).center;var Bg=Og;function Ig(t){return+t}var Ug=[0,1];function zg(t){return t}function Wg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Hg(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Wg(i,r),o=n(a,o)):(r=Wg(r,i),o=n(o,a)),function(t){return o(r(t))}}function qg(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Wg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Bg(t,e,1,r)-1;return o[n](i[n](e))}}function Yg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xg(){var t,e,n,r,i,o,a=Ug,s=Ug,c=xg,l=zg;function u(){var t=Math.min(a.length,s.length);return l!==zg&&(l=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?qg:Hg,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,c)))(t(l(e)))}return f.invert=function(n){return l(e((o||(o=r(s,a.map(t),Wu)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Ig),u()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),c=qm,u()},f.clamp=function(t){return arguments.length?(l=!!t||zg,u()):l!==zg},f.interpolate=function(t){return arguments.length?(c=t,u()):c},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function Zg(){return Xg()(zg,zg)}function Gg(t,e,n,r){var i,o=Dc(t,e,n);switch((r=Eh(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Sh(e)/3)))-Sh(Math.abs(t)))}(o,a))||(r.precision=i),Rh(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sh(e)-Sh(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Sh(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Dh(r)}function Kg(t){var e=t.domain;return t.ticks=function(t){var n=e();return Cc(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Gg(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,c=o[a],l=o[s],u=10;for(l<c&&(i=c,c=l,l=i,i=a,a=s,s=i);u-- >0;){if((i=Lc(c,l,n))===r)return o[a]=c,o[s]=l,e(o);if(i>0)c=Math.floor(c/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function Qg(){var t=Zg();return t.copy=function(){return Yg(t,Qg())},Cg.apply(t,arguments),Kg(t)}function Jg(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Ig),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Jg(t).unknown(e)},t=arguments.length?Array.from(t,Ig):[0,1],Kg(n)}function tv(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function ev(t){return Math.log(t)}function nv(t){return Math.exp(t)}function rv(t){return-Math.log(-t)}function iv(t){return-Math.exp(-t)}function ov(t){return isFinite(t)?+("1e"+t):t<0?0:t}function av(t){return(e,n)=>-t(-e,n)}function sv(t){const e=t(ev,nv),n=e.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?ov:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=av(r),i=av(i),t(rv,iv)):t(ev,nv),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],s=e[e.length-1];const c=s<a;c&&([a,s]=[s,a]);let l,u,f=r(a),h=r(s);const d=null==t?10:+t;let p=[];if(!(o%1)&&h-f<d){if(f=Math.floor(f),h=Math.ceil(h),a>0){for(;f<=h;++f)for(l=1;l<o;++l)if(u=f<0?l/i(-f):l*i(f),!(u<a)){if(u>s)break;p.push(u)}}else for(;f<=h;++f)for(l=o-1;l>=1;--l)if(u=f>0?l/i(-f):l*i(f),!(u<a)){if(u>s)break;p.push(u)}2*p.length<d&&(p=Cc(a,s,d))}else p=Cc(f,h,Math.min(h-f,d)).map(i);return c?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=Eh(n)).precision||(n.trim=!0),n=Dh(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n(tv(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function cv(){const t=sv(Xg()).domain([1,10]);return t.copy=()=>Yg(t,cv()).base(t.base()),Cg.apply(t,arguments),t}function lv(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uv(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function fv(t){var e=1,n=t(lv(e),uv(e));return n.constant=function(n){return arguments.length?t(lv(e=+n),uv(e)):e},Kg(n)}function hv(){var t=fv(Xg());return t.copy=function(){return Yg(t,hv()).constant(t.constant())},Cg.apply(t,arguments)}function dv(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pv(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mv(t){return t<0?-t*t:t*t}function gv(t){var e=t(zg,zg),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(zg,zg):.5===n?t(pv,mv):t(dv(n),dv(1/n)):n},Kg(e)}function vv(){var t=gv(Xg());return t.copy=function(){return Yg(t,vv()).exponent(t.exponent())},Cg.apply(t,arguments),t}function yv(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=wc(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[Bg(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(zs),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return yv().domain(e).range(n).unknown(t)},Cg.apply(o,arguments)}function bv(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Bg(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return bv().domain(e).range(n).unknown(t)},Cg.apply(i,arguments)}const wv=1e3,xv=6e4,kv=36e5,Mv=864e5,Sv=6048e5,Tv=2592e6,Av=31536e6,Ev=new Date,Pv=new Date;function _v(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>_v((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(Ev.setTime(+e),Pv.setTime(+r),t(Ev),t(Pv),Math.floor(n(Ev,Pv))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const $v=_v((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));$v.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?_v((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):$v:null);$v.range;const Cv=_v((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*wv)}),((t,e)=>(e-t)/wv),(t=>t.getUTCSeconds())),Lv=(Cv.range,_v((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wv)}),((t,e)=>{t.setTime(+t+e*xv)}),((t,e)=>(e-t)/xv),(t=>t.getMinutes()))),Dv=(Lv.range,_v((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*xv)}),((t,e)=>(e-t)/xv),(t=>t.getUTCMinutes()))),Rv=(Dv.range,_v((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wv-t.getMinutes()*xv)}),((t,e)=>{t.setTime(+t+e*kv)}),((t,e)=>(e-t)/kv),(t=>t.getHours()))),Nv=(Rv.range,_v((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*kv)}),((t,e)=>(e-t)/kv),(t=>t.getUTCHours()))),Vv=(Nv.range,_v((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xv)/Mv),(t=>t.getDate()-1))),Fv=(Vv.range,_v((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Mv),(t=>t.getUTCDate()-1))),jv=(Fv.range,_v((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Mv),(t=>Math.floor(t/Mv))));jv.range;function Ov(t){return _v((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xv)/Sv))}const Bv=Ov(0),Iv=Ov(1),Uv=Ov(2),zv=Ov(3),Wv=Ov(4),Hv=Ov(5),qv=Ov(6);Bv.range,Iv.range,Uv.range,zv.range,Wv.range,Hv.range,qv.range;function Yv(t){return _v((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/Sv))}const Xv=Yv(0),Zv=Yv(1),Gv=Yv(2),Kv=Yv(3),Qv=Yv(4),Jv=Yv(5),ty=Yv(6),ey=(Xv.range,Zv.range,Gv.range,Kv.range,Qv.range,Jv.range,ty.range,_v((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),ny=(ey.range,_v((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),ry=(ny.range,_v((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));ry.every=t=>isFinite(t=Math.floor(t))&&t>0?_v((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null;ry.range;const iy=_v((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));iy.every=t=>isFinite(t=Math.floor(t))&&t>0?_v((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null;iy.range;function oy(t,e,n,r,i,o){const a=[[Cv,1,wv],[Cv,5,5e3],[Cv,15,15e3],[Cv,30,3e4],[o,1,xv],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,kv],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Mv],[r,2,1728e5],[n,1,Sv],[e,1,Tv],[e,3,7776e6],[t,1,Av]];function s(e,n,r){const i=Math.abs(n-e)/r,o=Hs((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(Dc(e/Av,n/Av,r));if(0===o)return $v.every(Math.max(Dc(e,n,r),1));const[s,c]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:s(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},s]}const[ay,sy]=oy(iy,ny,Xv,jv,Nv,Dv),[cy,ly]=oy(ry,ey,Bv,Vv,Rv,Lv);function uy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var dy,py,my,gy={"-":"",_:" ",0:"0"},vy=/^\s*\d+/,yy=/^%/,by=/[\\^$*+?|[\]().{}]/g;function wy(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function xy(t){return t.replace(by,"\\$&")}function ky(t){return new RegExp("^(?:"+t.map(xy).join("|")+")","i")}function My(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Sy(t,e,n){var r=vy.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ty(t,e,n){var r=vy.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ay(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ey(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Py(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _y(t,e,n){var r=vy.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $y(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Cy(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ly(t,e,n){var r=vy.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Dy(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ry(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ny(t,e,n){var r=vy.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Vy(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Fy(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function jy(t,e,n){var r=vy.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Oy(t,e,n){var r=vy.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function By(t,e,n){var r=vy.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Iy(t,e,n){var r=yy.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Uy(t,e,n){var r=vy.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function zy(t,e,n){var r=vy.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Wy(t,e){return wy(t.getDate(),e,2)}function Hy(t,e){return wy(t.getHours(),e,2)}function qy(t,e){return wy(t.getHours()%12||12,e,2)}function Yy(t,e){return wy(1+Vv.count(ry(t),t),e,3)}function Xy(t,e){return wy(t.getMilliseconds(),e,3)}function Zy(t,e){return Xy(t,e)+"000"}function Gy(t,e){return wy(t.getMonth()+1,e,2)}function Ky(t,e){return wy(t.getMinutes(),e,2)}function Qy(t,e){return wy(t.getSeconds(),e,2)}function Jy(t){var e=t.getDay();return 0===e?7:e}function tb(t,e){return wy(Bv.count(ry(t)-1,t),e,2)}function eb(t){var e=t.getDay();return e>=4||0===e?Wv(t):Wv.ceil(t)}function nb(t,e){return t=eb(t),wy(Wv.count(ry(t),t)+(4===ry(t).getDay()),e,2)}function rb(t){return t.getDay()}function ib(t,e){return wy(Iv.count(ry(t)-1,t),e,2)}function ob(t,e){return wy(t.getFullYear()%100,e,2)}function ab(t,e){return wy((t=eb(t)).getFullYear()%100,e,2)}function sb(t,e){return wy(t.getFullYear()%1e4,e,4)}function cb(t,e){var n=t.getDay();return wy((t=n>=4||0===n?Wv(t):Wv.ceil(t)).getFullYear()%1e4,e,4)}function lb(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+wy(e/60|0,"0",2)+wy(e%60,"0",2)}function ub(t,e){return wy(t.getUTCDate(),e,2)}function fb(t,e){return wy(t.getUTCHours(),e,2)}function hb(t,e){return wy(t.getUTCHours()%12||12,e,2)}function db(t,e){return wy(1+Fv.count(iy(t),t),e,3)}function pb(t,e){return wy(t.getUTCMilliseconds(),e,3)}function mb(t,e){return pb(t,e)+"000"}function gb(t,e){return wy(t.getUTCMonth()+1,e,2)}function vb(t,e){return wy(t.getUTCMinutes(),e,2)}function yb(t,e){return wy(t.getUTCSeconds(),e,2)}function bb(t){var e=t.getUTCDay();return 0===e?7:e}function wb(t,e){return wy(Xv.count(iy(t)-1,t),e,2)}function xb(t){var e=t.getUTCDay();return e>=4||0===e?Qv(t):Qv.ceil(t)}function kb(t,e){return t=xb(t),wy(Qv.count(iy(t),t)+(4===iy(t).getUTCDay()),e,2)}function Mb(t){return t.getUTCDay()}function Sb(t,e){return wy(Zv.count(iy(t)-1,t),e,2)}function Tb(t,e){return wy(t.getUTCFullYear()%100,e,2)}function Ab(t,e){return wy((t=xb(t)).getUTCFullYear()%100,e,2)}function Eb(t,e){return wy(t.getUTCFullYear()%1e4,e,4)}function Pb(t,e){var n=t.getUTCDay();return wy((t=n>=4||0===n?Qv(t):Qv.ceil(t)).getUTCFullYear()%1e4,e,4)}function _b(){return"+0000"}function $b(){return"%"}function Cb(t){return+t}function Lb(t){return Math.floor(+t/1e3)}function Db(t){return new Date(t)}function Rb(t){return t instanceof Date?+t:+new Date(+t)}function Nb(t,e,n,r,i,o,a,s,c,l){var u=Zg(),f=u.invert,h=u.domain,d=l(".%L"),p=l(":%S"),m=l("%I:%M"),g=l("%I %p"),v=l("%a %d"),y=l("%b %d"),b=l("%B"),w=l("%Y");function x(t){return(c(t)<t?d:s(t)<t?p:a(t)<t?m:o(t)<t?g:r(t)<t?i(t)<t?v:y:n(t)<t?b:w)(t)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?h(Array.from(t,Rb)):h().map(Db)},u.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?x:l(e)},u.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(tv(n,t)):u},u.copy=function(){return Yg(u,Nb(t,e,n,r,i,o,a,s,c,l))},u}function Vb(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Fb(){var t,e,n,r,i,o,a,s=0,c=.5,l=1,u=1,f=zg,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(u*t<u*e?r:i),f(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,f=kg(t,[n,r,i]),d):[f(0),f(.5),f(1)]}}return d.domain=function(a){return arguments.length?([s,c,l]=a,t=o(s=+s),e=o(c=+c),n=o(l=+l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,d):[s,c,l]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.range=p(xg),d.rangeRound=p(qm),d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(c),n=a(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,d}}function jb(){var t=Kg(Fb()(zg));return t.copy=function(){return Vb(t,jb())},Lg.apply(t,arguments)}function Ob(){var t=sv(Fb()).domain([.1,1,10]);return t.copy=function(){return Vb(t,Ob()).base(t.base())},Lg.apply(t,arguments)}function Bb(){var t=fv(Fb());return t.copy=function(){return Vb(t,Bb()).constant(t.constant())},Lg.apply(t,arguments)}function Ib(){var t=gv(Fb());return t.copy=function(){return Vb(t,Ib()).exponent(t.exponent())},Lg.apply(t,arguments)}function Ub(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}!function(t){dy=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,c=t.shortMonths,l=ky(i),u=My(i),f=ky(o),h=My(o),d=ky(a),p=My(a),m=ky(s),g=My(s),v=ky(c),y=My(c),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Wy,e:Wy,f:Zy,g:ab,G:cb,H:Hy,I:qy,j:Yy,L:Xy,m:Gy,M:Ky,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Cb,s:Lb,S:Qy,u:Jy,U:tb,V:nb,w:rb,W:ib,x:null,X:null,y:ob,Y:sb,Z:lb,"%":$b},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:ub,e:ub,f:mb,g:Ab,G:Pb,H:fb,I:hb,j:db,L:pb,m:gb,M:vb,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Cb,s:Lb,S:yb,u:bb,U:wb,V:kb,w:Mb,W:Sb,x:null,X:null,y:Tb,Y:Eb,Z:_b,"%":$b},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:Ry,e:Ry,f:By,g:$y,G:_y,H:Vy,I:Vy,j:Ny,L:Oy,m:Dy,M:Fy,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Ly,Q:Uy,s:zy,S:jy,u:Ty,U:Ay,V:Ey,w:Sy,W:Py,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:$y,Y:_y,Z:Cy,"%":Iy};function k(t,e){return function(n){var r,i,o,a=[],s=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(c,s)),null!=(i=gy[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(t.slice(c,s)),a.join("")}}function M(t,e){return function(n){var r,i,o=hy(1900,void 0,1);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=fy(hy(o.y,0,1))).getUTCDay(),r=i>4||0===i?Zv.ceil(r):Zv(r),r=Fv.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=uy(hy(o.y,0,1))).getDay(),r=i>4||0===i?Iv.ceil(r):Iv(r),r=Vv.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?fy(hy(o.y,0,1)).getUTCDay():uy(hy(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,fy(o)):uy(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in gy?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(e,b),w.x=k(n,w),w.X=k(r,w),w.c=k(e,w),{format:function(t){var e=k(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}(t),py=dy.format,dy.parse,my=dy.utcFormat,dy.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var zb=Ub("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Wb=Ub("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Hb=Ub("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),qb=Ub("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Yb=Ub("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Xb=Ub("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Zb=Ub("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Gb=Ub("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Kb=Ub("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Qb=Ub("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Jb=Ub("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),tw=t=>qf(t[t.length-1]),ew=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ub),nw=tw(ew),rw=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ub),iw=tw(rw),ow=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ub),aw=tw(ow),sw=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ub),cw=tw(sw),lw=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ub),uw=tw(lw),fw=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ub),hw=tw(fw),dw=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ub),pw=tw(dw),mw=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ub),gw=tw(mw),vw=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ub),yw=tw(vw),bw=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ub),ww=tw(bw),xw=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ub),kw=tw(xw),Mw=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ub),Sw=tw(Mw),Tw=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ub),Aw=tw(Tw),Ew=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ub),Pw=tw(Ew),_w=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ub),$w=tw(_w),Cw=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ub),Lw=tw(Cw),Dw=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ub),Rw=tw(Dw),Nw=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ub),Vw=tw(Nw),Fw=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ub),jw=tw(Fw),Ow=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ub),Bw=tw(Ow),Iw=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ub),Uw=tw(Iw),zw=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ub),Ww=tw(zw),Hw=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ub),qw=tw(Hw),Yw=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ub),Xw=tw(Yw),Zw=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ub),Gw=tw(Zw),Kw=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ub),Qw=tw(Kw),Jw=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ub),tx=tw(Jw);function ex(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var nx=-.14861,rx=1.78277,ix=-.29227,ox=-.90649,ax=1.97294,sx=ax*ox,cx=ax*rx,lx=rx*ix-ox*nx;function ux(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof fx)return new fx(t.h,t.s,t.l,t.opacity);t instanceof Tf||(t=Mf(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(lx*r+sx*e-cx*n)/(lx+sx-cx),o=r-i,a=(ax*(n-i)-ix*o)/ox,s=Math.sqrt(a*a+o*o)/(ax*i*(1-i)),c=s?Math.atan2(a,o)*Gm-120:NaN;return new fx(c<0?c+360:c,s,i,t.opacity)}(t):new fx(t,e,n,null==r?1:r)}function fx(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hx(t){return function e(n){function r(e,r){var i=t((e=ux(e)).h,(r=ux(r)).h),o=zf(e.s,r.s),a=zf(e.l,r.l),s=zf(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}ef(fx,ux,nf(rf,{brighter(t){return t=null==t?af:Math.pow(af,t),new fx(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?of:Math.pow(of,t),new fx(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Zm,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Tf(255*(e+n*(nx*r+rx*i)),255*(e+n*(ix*r+ox*i)),255*(e+n*(ax*r)),this.opacity)}}));hx(If);var dx=hx(zf),px=dx(ux(300,.5,0),ux(-240,.5,1)),mx=dx(ux(-100,.75,.35),ux(80,1.5,.8)),gx=dx(ux(260,.75,.35),ux(80,1.5,.8)),vx=ux();function yx(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return vx.h=360*t-100,vx.s=1.5-1.5*e,vx.l=.8-.9*e,vx+""}var bx=Sf(),wx=Math.PI/3,xx=2*Math.PI/3;function kx(t){var e;return t=(.5-t)*Math.PI,bx.r=255*(e=Math.sin(t))*e,bx.g=255*(e=Math.sin(t+wx))*e,bx.b=255*(e=Math.sin(t+xx))*e,bx+""}function Mx(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Sx(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Tx=Sx(Ub("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Ax=Sx(Ub("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ex=Sx(Ub("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Px=Sx(Ub("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function _x(t){return"string"==typeof t?new ru([[document.querySelector(t)]],[document.documentElement]):new ru([[t]],nu)}Math.abs,Math.atan2;const $x=Math.cos,Cx=(Math.max,Math.min),Lx=Math.sin,Dx=Math.sqrt,Rx=Math.PI,Nx=2*Rx;const Vx=Dx(3);var Fx={draw(t,e){const n=.59436*Dx(e+Cx(e/28,.75)),r=n/2,i=r*Vx;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},jx={draw(t,e){const n=Dx(e/Rx);t.moveTo(n,0),t.arc(0,0,n,0,Nx)}},Ox={draw(t,e){const n=Dx(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};const Bx=Dx(1/3),Ix=2*Bx;var Ux={draw(t,e){const n=Dx(e/Ix),r=n*Bx;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},zx={draw(t,e){const n=.62625*Dx(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},Wx={draw(t,e){const n=.87559*Dx(e-Cx(e/7,2));t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},Hx={draw(t,e){const n=Dx(e),r=-n/2;t.rect(r,r,n,n)}},qx={draw(t,e){const n=.4431*Dx(e);t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}};const Yx=Lx(Rx/10)/Lx(7*Rx/10),Xx=Lx(Nx/10)*Yx,Zx=-$x(Nx/10)*Yx;var Gx={draw(t,e){const n=Dx(.8908130915292852*e),r=Xx*n,i=Zx*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const e=Nx*o/5,a=$x(e),s=Lx(e);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}};const Kx=Dx(3);var Qx={draw(t,e){const n=-Dx(e/(3*Kx));t.moveTo(0,2*n),t.lineTo(-Kx*n,-n),t.lineTo(Kx*n,-n),t.closePath()}};const Jx=Dx(3);var tk={draw(t,e){const n=.6824*Dx(e),r=n/2,i=n*Jx/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};const ek=-.5,nk=Dx(3)/2,rk=1/Dx(12),ik=3*(rk/2+1);var ok={draw(t,e){const n=Dx(e/ik),r=n/2,i=n*rk,o=r,a=n*rk+n,s=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,c),t.lineTo(ek*r-nk*i,nk*r+ek*i),t.lineTo(ek*o-nk*a,nk*o+ek*a),t.lineTo(ek*s-nk*c,nk*s+ek*c),t.lineTo(ek*r+nk*i,ek*i-nk*r),t.lineTo(ek*o+nk*a,ek*a-nk*o),t.lineTo(ek*s+nk*c,ek*c-nk*s),t.closePath()}},ak={draw(t,e){const n=.6189*Dx(e-Cx(e/6,1.7));t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};const sk=[jx,Ox,Ux,Hx,Gx,Qx,ok],ck=[jx,Wx,ak,tk,Fx,qx,zx];function lk(t,e,n){this.k=t,this.x=e,this.y=n}lk.prototype={constructor:lk,scale:function(t){return 1===t?this:new lk(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new lk(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new lk(1,0,0);function uk(t){return null!=t&&!Number.isNaN(t)}function fk(t,e){return+uk(e)-+uk(t)||zs(t,e)}function hk(t,e){return+uk(e)-+uk(t)||Ws(t,e)}function dk(t){return null!=t&&""!=`${t}`}function pk(t){return isFinite(t)?t:NaN}function mk(t){return t>0&&isFinite(t)?t:NaN}function gk(t){return t<0&&isFinite(t)?t:NaN}lk.prototype;const vk=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function yk(t,e){return vk.test(t+="")?new Date(t):"function"==typeof e?e(t):e}function bk(t){if(null==t)return;return Ws(t[0],t[t.length-1])}const wk=1e3,xk=6e4,kk=36e5,Mk=864e5,Sk=7*Mk,Tk=30*Mk,Ak=365*Mk,Ek=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",wk],["5 seconds",5e3],["15 seconds",15e3],["30 seconds",3e4],["minute",xk],["5 minutes",3e5],["15 minutes",9e5],["30 minutes",18e5],["hour",kk],["3 hours",108e5],["6 hours",216e5],["12 hours",432e5],["day",Mk],["2 days",2*Mk],["week",Sk],["2 weeks",2*Sk],["month",Tk],["3 months",3*Tk],["6 months",6*Tk],["year",Ak],["2 years",2*Ak],["5 years",5*Ak],["10 years",10*Ak],["20 years",20*Ak],["50 years",50*Ak],["100 years",100*Ak]],Pk=new Map([["second",wk],["minute",xk],["hour",kk],["day",Mk],["monday",Sk],["tuesday",Sk],["wednesday",Sk],["thursday",Sk],["friday",Sk],["saturday",Sk],["sunday",Sk],["week",Sk],["month",Tk],["year",Ak]]),_k=new Map([["second",Cv],["minute",Lv],["hour",Rv],["day",Vv],["monday",Iv],["tuesday",Uv],["wednesday",zv],["thursday",Wv],["friday",Hv],["saturday",qv],["sunday",Bv],["week",Bv],["month",ey],["year",ry]]),$k=new Map([["second",Cv],["minute",Dv],["hour",Nv],["day",jv],["monday",Zv],["tuesday",Gv],["wednesday",Kv],["thursday",Qv],["friday",Jv],["saturday",ty],["sunday",Xv],["week",Xv],["month",ny],["year",iy]]),Ck=Symbol("intervalDuration"),Lk=Symbol("intervalType");for(const[it,P$]of _k)P$[Ck]=Pk.get(it),P$[Lk]="time";for(const[it,P$]of $k)P$[Ck]=Pk.get(it),P$[Lk]="utc";const Dk=[["year",iy,"utc"],["month",ny,"utc"],["day",jv,"utc",6*Tk],["hour",Nv,"utc",3*Mk],["minute",Dv,"utc",216e5],["second",Cv,"utc",18e5]],Rk=[["year",ry,"time"],["month",ey,"time"],["day",Vv,"time",6*Tk],["hour",Rv,"time",3*Mk],["minute",Lv,"time",216e5],["second",Cv,"time",18e5]],Nk=[Dk[0],Rk[0],Dk[1],Rk[1],Dk[2],Rk[2],...Dk.slice(3)];function Vk(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6}let i=$k.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function Fk(t){return Ok(Vk(t),"time")}function jk(t){return Ok(Vk(t),"utc")}function Ok([t,e],n){let r=("time"===n?_k:$k).get(t);return e>1&&(r=r.every(e),r[Ck]=Pk.get(t)*e,r[Lk]=n),r}function Bk(t,e){if(!(e>1))return;const n=t[Ck];if(!Ek.some((([,t])=>t===n)))return;if(n%Mk==0&&Mk<n&&n<Tk)return;const[r]=Ek[Hs((([,t])=>Math.log(t))).center(Ek,Math.log(n*e))];return("time"===t[Lk]?Fk:jk)(r)}function Ik(t,e,n){const r="time"===e?py:my;if(null==n)return r("year"===t?"%Y":"month"===t?"%Y-%m":"day"===t?"%Y-%m-%d":"hour"===t||"minute"===t?"%Y-%m-%dT%H:%M":"second"===t?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=function(t){return"left"===t||"right"===t?(t,e)=>`\n${t}\n${e}`:"top"===t?(t,e)=>`${e}\n${t}`:(t,e)=>`${t}\n${e}`}(n);switch(t){case"millisecond":return zk(r(".%L"),r(":%M:%S"),i);case"second":return zk(r(":%S"),r("%-I:%M"),i);case"minute":return zk(r("%-I:%M"),r("%p"),i);case"hour":return zk(r("%-I %p"),r("%b %-d"),i);case"day":return zk(r("%-d"),r("%b"),i);case"month":return zk(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function Uk(t,e,n){const r=lc(function(t,e=Sc){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}(e,((t,e)=>Math.abs(e-t))));if(r<1e3)return Ik("millisecond","utc",n);for(const[i,o,a,s]of function(t){return"time"===t?Rk:"utc"===t?Dk:Nk}(t)){if(r>s)break;if("hour"===i&&!r)break;if(e.every((t=>o.floor(t)>=t)))return Ik(i,a,n)}}function zk(t,e,n){return(r,i,o)=>{const a=t(r,i),s=e(r,i),c=i-bk(o);return i!==c&&void 0!==o[c]&&s===e(o[c],c)?a:n(a,s)}}const Wk=Object.getPrototypeOf(Uint8Array),Hk=Object.prototype.toString;function qk(t){return t instanceof Array||t instanceof Wk}function Yk(t){return t instanceof Wk&&!function(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}(t)}function Xk(t){return t?.prototype instanceof Wk&&!function(t){return t===BigInt64Array||t===BigUint64Array}(t)}const Zk=Symbol("reindex");function Gk(t,e,n){const r=typeof e;return"string"===r?tS(t)?Jk(t.getChild(e),n):Kk(t,eM(e),n):"function"===r?Kk(t,e,n):"number"===r||e instanceof Date||"boolean"===r?wM(t,lM(e),n):"function"==typeof e?.transform?Qk(e.transform(t),n):function(t,e){return null!=t&&e?_M(t,e):t}(Qk(e,n),t?.[Zk])}function Kk(t,e,n){return wM(t,Xk(n)?(t,n)=>fM(e(t,n)):e,n)}function Qk(t,e){return void 0===e?bM(t):eS(t)?Jk(t,e):t instanceof e?t:e.from(t,Xk(e)&&!Yk(t)?fM:void 0)}function Jk(t,e){return null==t?t:void 0!==e&&e!==Array||!function(t){return t&&(8===t.typeId||10===t.typeId)&&1===t.unit}(t.type)?Qk(t.toArray(),e):hM(t.toArray())}const tM=[null],eM=t=>e=>{const n=e[t];return void 0===n&&"Feature"===e.type?e.properties?.[t]:n},nM={transform:PM},rM={transform:t=>t},iM=()=>!0,oM=t=>null==t?t:`${t}`,aM=t=>null==t?t:+t,sM=t=>t?t[0]:void 0,cM=t=>t?t[1]:void 0,lM=t=>()=>t;function uM(t){return Yk(t)?t:wM(t,fM,Float64Array)}function fM(t){return null==t?NaN:Number(t)}function hM(t){return wM(t,dM)}function dM(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?yk(t):null==t||isNaN(t=Number(t))?void 0:new Date(t)}function pM(t,e){return void 0===t&&(t=e),null===t?[void 0,"none"]:qM(t)?[void 0,t]:[t,void 0]}function mM(t,e){return void 0===t&&(t=e),null===t||"number"==typeof t?[void 0,t]:[t,void 0]}function gM(t,e,n){if(null!=t)return vM(t,e,n)}function vM(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function yM(t){return tS(t)?t:bM(t)}function bM(t){if(null==t||qk(t))return t;if(eS(t))return Jk(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function wM(t,e,n=Array){return null==t?t:t instanceof n?t.map(e):n.from(t,e)}function xM(t,e=Array){return t instanceof e?t.slice():e.from(t)}function kM(t){return t?.toString===Hk}function MM(t){return kM(t)&&(void 0!==t.type||void 0!==t.domain)}function SM(t){return kM(t)&&"function"!=typeof t.transform}function TM(t){return SM(t)&&void 0===t.value&&void 0===t.channel}function AM(t,e){return void 0===t&&void 0===e?[sM,cM]:[t,e]}function EM(t){return qk(t)?t.length:t?.numRows}function PM(t){const e=EM(t),n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function _M(t,e){return qk(t)?wM(e,(e=>t[e]),t.constructor):wM(e,(e=>t.at(e)))}function $M(t){return null!==t&&"object"==typeof t?t.valueOf():t}function CM(t,e){return"string"==typeof t?t:t&&void 0!==t.label?t.label:e}function LM(t,e){const n=DM(t,e);return n&&(t=>uk(t)?n.floor(t):t)}function DM(t,e){if(null!=t){if("number"==typeof t)return function(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:t=>Math.floor(t*e)/e,offset:(t,n=1)=>(t*e+Math.floor(n))/e,range:(t,n)=>Tc(Math.ceil(t*e),n*e).map((t=>t/e))}:{floor:t=>Math.floor(t/e)*e,offset:(t,n=1)=>t+e*Math.floor(n),range:(t,n)=>Tc(Math.ceil(t/e),n/e).map((t=>t*e))}}(t);if("string"==typeof t)return("time"===e?Fk:jk)(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function RM(t,e){if((t=DM(t,e))&&"function"!=typeof t.range)throw new Error("invalid interval: missing range method");return t}function NM(t){return"function"==typeof t?.range}function VM(t){return void 0===t||SM(t)?t:{value:t}}function FM(t){return null==t?null:{transform:e=>Gk(e,t,Float64Array),label:CM(t)}}function jM(t){return t&&"function"==typeof t[Symbol.iterator]}function OM(t){for(const e of t)if(null!=e)return"object"!=typeof e||e instanceof Date}function BM(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function IM(t){for(const e of t)if(null!=e)return e instanceof Date}function UM(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&yk(e)}function zM(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function WM(t,e){let n;for(const r of t)if(null!=r){if(!e(r))return!1;n=!0}return n}const HM=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function qM(t){return"string"==typeof t&&(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||HM.has(t))}function YM(t){return"number"==typeof t&&(0<=t&&t<=1||isNaN(t))}function XM(t){return null==t||ZM(t)}function ZM(t){return/^\s*none\s*$/i.test(t)}function GM(t,e){return gM(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function KM(t="middle"){return GM(t,"frameAnchor")}function QM(t){return jM(t)?function(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,(t=>{const{name:n}=t;if(null==n)throw new Error("missing name");const r=`${n}`;if("__proto__"===r)throw new Error(`illegal name: ${r}`);if(e.has(r))throw new Error(`duplicate name: ${r}`);return e.add(r),[n,t]})))}(t):t}function JM(t){return!0===t?t="frame":!1===t?t=null:null!=t&&(t=vM(t,"clip",["frame","sphere"])),t}function tS(t){return t&&"function"==typeof t.getChild&&"function"==typeof t.toArray&&t.schema&&Array.isArray(t.schema.fields)}function eS(t){return t&&"function"==typeof t.toArray&&t.type}const nS=Symbol("position"),rS=Symbol("color"),iS=Symbol("radius"),oS=Symbol("length"),aS=Symbol("opacity"),sS=Symbol("symbol"),cS=Symbol("projection"),lS=new Map([["x",nS],["y",nS],["fx",nS],["fy",nS],["r",iS],["color",rS],["opacity",aS],["symbol",sS],["length",oS],["projection",cS]]);const uS=2/Math.sqrt(3),fS={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*uS,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},hS=new Map([["asterisk",Fx],["circle",jx],["cross",Ox],["diamond",Ux],["diamond2",zx],["hexagon",fS],["plus",Wx],["square",Hx],["square2",qx],["star",Gx],["times",ak],["triangle",Qx],["triangle2",tk],["wye",ok]]);function dS(t){return t&&"function"==typeof t.draw}function pS(t){return!!dS(t)||"string"==typeof t&&hS.has(t.toLowerCase())}function mS(t){if(null==t||dS(t))return t;const e=hS.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function gS(t,e,n=vS){if(null==t)return n(t);if("function"==typeof t.reduceIndex)return t;if("function"==typeof t.reduce&&kM(t))return function(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}(t);if("function"==typeof t)return r=t,{reduceIndex(t,e,n){return r(_M(e,t),n)}};var r;if(/^p\d{2}$/i.test(t))return yS(function(t){const e=+`${t}`.slice(1)/100;return(t,n)=>bc(t,e,n)}(t));switch(`${t}`.toLowerCase()){case"first":return xS;case"last":return kS;case"identity":return wS;case"count":return MS;case"distinct":return SS;case"sum":return null==e?MS:TS;case"proportion":return AS(e,"data");case"proportion-facet":return AS(e,"facet");case"deviation":return yS(Ks);case"min":return yS(hc);case"min-index":return yS(kc);case"max":return yS(lc);case"max-index":return yS(uc);case"mean":return bS(fc);case"median":return bS(xc);case"variance":return yS(Gs);case"mode":return yS(Mc)}return n(t)}function vS(t){throw new Error(`invalid reduce: ${t}`)}function yS(t){return{reduceIndex(e,n){return t(e,(t=>n[t]))}}}function bS(t){return{reduceIndex(e,n){const r=t(e,(t=>n[t]));return IM(n)?new Date(r):r}}}const wS={reduceIndex(t,e){return _M(e,t)}},xS={reduceIndex(t,e){return e[t[0]]}},kS={reduceIndex(t,e){return e[t[t.length-1]]}},MS={label:"Frequency",reduceIndex(t){return t.length}},SS={label:"Distinct",reduceIndex(t,e){const n=new tc;for(const r of t)n.add(e[r]);return n.size}},TS=yS(Ac);function AS(t,e){return null==t?{scope:e,label:"Frequency",reduceIndex:(t,e,n=1)=>t.length/n}:{scope:e,reduceIndex:(t,e,n=1)=>Ac(t,(t=>e[t]))/n}}function ES(t,{scale:e,type:n,value:r,filter:i,hint:o,label:a=CM(r)},s){return void 0===o&&"function"==typeof r?.transform&&(o=r.hint),_S(s,{scale:e,type:n,value:Gk(t,r),label:a,filter:i,hint:o})}function PS(t,e){const n=Object.fromEntries(Object.entries(t).map((([t,{scale:n,value:r}])=>{const i=null==n?null:e[n];return[t,null==i?r:wM(r,i)]})));return n.channels=t,n}function _S(t,e){const{scale:n,value:r}=e;if(!0===n||"auto"===n)switch(t){case"fill":case"stroke":case"color":e.scale=!0!==n&&WM(r,qM)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=!0!==n&&WM(r,YM)?null:"opacity",e.defaultScale="opacity";break;case"symbol":!0!==n&&WM(r,pS)?(e.scale=null,e.value=wM(r,mS)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=lS.has(t)?t:null}else if(!1===n)e.scale=null;else if(null!=n&&!lS.has(n))throw new Error(`unknown scale: ${n}`);return e}function $S(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function CS(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let o=0;o<n.length;++o){const e=r[n[o][0]];for(const n of t[o])i[n]=e}return e}function LS(t,e,n){const r=DS(t,e);return wM(DS(t,n),((t,e)=>Math.abs(t-r[e])),Float64Array)}function DS(t,e,n){let r=t[e];if(r||void 0===n||(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function RS(t){if(null==t||"function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"ascending":return NS;case"descending":return VS}throw new Error(`invalid order: ${t}`)}function NS([t,e],[n,r]){return fk(e,r)||fk(t,n)}function VS([t,e],[n,r]){return hk(e,r)||fk(t,n)}function FS(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return null===n.source?null:n}}const jS=new Map([["accent",Wb],["category10",zb],["dark2",Hb],["observable10",qb],["paired",Yb],["pastel1",Xb],["pastel2",Zb],["set1",Gb],["set2",Kb],["set3",Qb],["tableau10",Jb]]);const OS=new Map([...jS,["brbg",IS(ew,nw)],["prgn",IS(rw,iw)],["piyg",IS(ow,aw)],["puor",IS(sw,cw)],["rdbu",IS(lw,uw)],["rdgy",IS(fw,hw)],["rdylbu",IS(dw,pw)],["rdylgn",IS(mw,gw)],["spectral",IS(vw,yw)],["burd",US(lw,uw)],["buylrd",US(dw,pw)],["blues",BS(zw,Ww)],["greens",BS(Hw,qw)],["greys",BS(Yw,Xw)],["oranges",BS(Jw,tx)],["purples",BS(Zw,Gw)],["reds",BS(Kw,Qw)],["turbo",zS(Mx)],["viridis",zS(Tx)],["magma",zS(Ax)],["inferno",zS(Ex)],["plasma",zS(Px)],["cividis",zS(ex)],["cubehelix",zS(px)],["warm",zS(mx)],["cool",zS(gx)],["bugn",BS(bw,ww)],["bupu",BS(xw,kw)],["gnbu",BS(Mw,Sw)],["orrd",BS(Tw,Aw)],["pubu",BS(_w,$w)],["pubugn",BS(Ew,Pw)],["purd",BS(Cw,Lw)],["rdpu",BS(Dw,Rw)],["ylgn",BS(Fw,jw)],["ylgnbu",BS(Nw,Vw)],["ylorbr",BS(Ow,Bw)],["ylorrd",BS(Iw,Uw)],["rainbow",WS(yx)],["sinebow",WS(kx)]]);function BS(t,e){return({length:n})=>1===n?[t[3][1]]:2===n?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)))>9?Mg(e,n):t[n]}function IS(t,e){return({length:n})=>2===n?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)))>11?Mg(e,n):t[n]}function US(t,e){return({length:n})=>2===n?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)))>11?Mg((t=>e(1-t)),n):t[n].slice().reverse()}function zS(t){return({length:e})=>Mg(t,Math.max(2,Math.floor(e)))}function WS(t){return({length:e})=>Mg(t,Math.floor(e)+1).slice(0,-1)}function HS(t){const e=`${t}`.toLowerCase();if(!OS.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return OS.get(e)}function qS(t,e){const n=HS(t),r="function"==typeof n?n({length:e}):n;return r.length!==e?r.slice(0,e):r}const YS=new Map([["brbg",nw],["prgn",iw],["piyg",aw],["puor",cw],["rdbu",uw],["rdgy",hw],["rdylbu",pw],["rdylgn",gw],["spectral",yw],["burd",t=>uw(1-t)],["buylrd",t=>pw(1-t)],["blues",Ww],["greens",qw],["greys",Xw],["purples",Gw],["reds",Qw],["oranges",tx],["turbo",Mx],["viridis",Tx],["magma",Ax],["inferno",Ex],["plasma",Px],["cividis",ex],["cubehelix",px],["warm",mx],["cool",gx],["bugn",ww],["bupu",kw],["gnbu",Sw],["orrd",Aw],["pubugn",Pw],["pubu",$w],["purd",Lw],["rdpu",Rw],["ylgnbu",Vw],["ylgn",jw],["ylorbr",Bw],["ylorrd",Uw],["rainbow",yx],["sinebow",kx]]);function XS(t){const e=`${t}`.toLowerCase();if(!YS.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return YS.get(e)}const ZS=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);const GS=t=>e=>t(1-e),KS=[0,1],QS=new Map([["number",Wu],["rgb",Wf],["hsl",Xm],["hcl",gg],["lab",function(t,e){var n=zf((t=og(t)).l,(e=og(e)).l),r=zf(t.a,e.a),i=zf(t.b,e.b),o=zf(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}]]);function JS(t){const e=`${t}`.toLowerCase();if(!QS.has(e))throw new Error(`unknown interpolator: ${e}`);return QS.get(e)}function tT(t,e,n,{type:r,nice:i,clamp:o,zero:a,domain:s=sT(t,n),unknown:c,round:l,scheme:u,interval:f,range:h=(lS.get(t)===iS?lT(n,s):lS.get(t)===oS?uT(n,s):lS.get(t)===aS?KS:void 0),interpolate:d=(lS.get(t)===rS?null==u&&void 0!==h?Wf:XS(void 0!==u?u:"cyclical"===r?"rainbow":"turbo"):l?qm:Wu),reverse:p}){if(f=RM(f,r),"cyclical"!==r&&"sequential"!==r||(r="linear"),"function"!=typeof d&&(d=JS(d)),p=!!p,void 0!==h){if((s=bM(s)).length!==(h=bM(h)).length){if(1===d.length)throw new Error("invalid piecewise interpolator");d=kg(d,h),h=void 0}}if(1===d.length?(p&&(d=GS(d),p=!1),void 0===h&&2===(h=Float64Array.from(s,((t,e)=>e/(s.length-1)))).length&&(h=KS),e.interpolate((h===KS?lM:dT)(d))):e.interpolate(d),a){const[t,e]=Qs(s);if(t>0||e<0){(bk(s=xM(s))||1)===Math.sign(t)?s[0]=0:s[s.length-1]=0}}return p&&(s=Rc(s)),e.domain(s).unknown(c),i&&(e.nice(function(t,e){return!0===t?void 0:"number"==typeof t?t:function(t,e){if((t=RM(t,e))&&"function"!=typeof t.ceil)throw new Error("invalid interval: missing ceil method");return t}(t,e)}(i,r)),s=e.domain()),void 0!==h&&e.range(h),o&&e.clamp(o),{type:r,domain:s,range:h,scale:e,interpolate:d,interval:f}}function eT(t,e,{exponent:n=1,...r}){return tT(t,vv().exponent(n),e,{...r,type:"pow"})}function nT(t,e,{base:n=10,domain:r=fT(e),...i}){return tT(t,cv().base(n),e,{...i,domain:r})}function rT(t,e,{constant:n=1,...r}){return tT(t,hv().constant(n),e,r)}function iT(t,e,{range:n,quantiles:r=(void 0===n?5:(n=[...n]).length),n:i=r,scheme:o="rdylbu",domain:a=hT(e),unknown:s,interpolate:c,reverse:l}){return void 0===n&&(n=void 0!==c?Mg(c,i):lS.get(t)===rS?qS(o,i):void 0),a.length>0&&(a=yv(a,void 0===n?{length:i}:n).quantiles()),oT(t,e,{domain:a,range:n,reverse:l,unknown:s})}function oT(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=(void 0!==o?Mg(o,n.length+1):lS.get(t)===rS?qS(i,n.length+1):void 0),reverse:s}){const c=bk(n=bM(n));if(!isNaN(c)&&!function(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const r=Ws(i,i=t[n]);if(0!==r&&r!==e)return!1}return!0}(n,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return s&&(a=Rc(a)),{type:"threshold",scale:bv(c<0?Rc(n):n,void 0===a?[]:a).unknown(r),domain:n,range:a}}function aT(t,e=pk){return t.length?[hc(t,(({value:t})=>void 0===t?t:hc(t,e))),lc(t,(({value:t})=>void 0===t?t:lc(t,e)))]:[0,1]}function sT(t,e){const n=lS.get(t);return(n===iS||n===aS||n===oS?cT:aT)(e)}function cT(t){return[0,t.length?lc(t,(({value:t})=>void 0===t?t:lc(t,pk))):1]}function lT(t,e){const n=t.find((({radius:t})=>void 0!==t));if(void 0!==n)return[0,n.radius];const r=bc(t,.5,(({value:t})=>void 0===t?NaN:bc(t,.25,mk))),i=e.map((t=>3*Math.sqrt(t/r))),o=30/lc(i);return o<1?i.map((t=>t*o)):i}function uT(t,e){const n=xc(t,(({value:t})=>void 0===t?NaN:xc(t,Math.abs))),r=e.map((t=>12*t/n)),i=60/lc(r);return i<1?r.map((t=>t*i)):r}function fT(t){for(const{value:e}of t)if(void 0!==e)for(let n of e){if(n>0)return aT(t,mk);if(n<0)return aT(t,gk)}return[1,10]}function hT(t){const e=[];for(const{value:n}of t)if(void 0!==n)for(const t of n)e.push(t);return e}function dT(t){return(e,n)=>r=>t(e+r*(n-e))}let pT,mT=0;function gT(t){t!==pT&&(pT=t,console.warn(t),++mT)}function vT(t,e,n,r,{type:i,nice:o,clamp:a,domain:s=aT(r),unknown:c,pivot:l=0,scheme:u,range:f,symmetric:h=!0,interpolate:d=(lS.get(t)===rS?null==u&&void 0!==f?Wf:XS(void 0!==u?u:"rdbu"):Wu),reverse:p}){l=+l,s=bM(s);let[m,g]=s;if(s.length>2&&gT(`Warning: the diverging ${t} scale domain contains extra elements.`),Ws(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,l),g=Math.max(g,l),"function"!=typeof d&&(d=JS(d)),void 0!==f&&(d=1===d.length?dT(d)(...f):kg(d,f)),p&&(d=GS(d)),h){const t=n.apply(l),e=t-n.apply(m),r=n.apply(g)-t;e<r?m=n.invert(t-r):e>r&&(g=n.invert(t+e))}return e.domain([m,l,g]).unknown(c).interpolator(d),a&&e.clamp(a),o&&e.nice(o),{type:i,domain:[m,g],pivot:l,interpolate:d,scale:e}}function yT(t,e,n){return vT(t,jb(),kT,e,n)}function bT(t,e,{exponent:n=1,...r}){return vT(t,Ib().exponent(n=+n),function(t){return.5===t?ST:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}(n),e,{...r,type:"diverging-pow"})}function wT(t,e,{base:n=10,pivot:r=1,domain:i=aT(e,r<0?gk:mk),...o}){return vT(t,Ob().base(n=+n),MT,e,{domain:i,pivot:r,...o})}function xT(t,e,{constant:n=1,...r}){return vT(t,Bb().constant(n=+n),function(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}(n),e,r)}const kT={apply(t){return t},invert(t){return t}},MT={apply:Math.log,invert:Math.exp},ST={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function TT(t,e,n,r){return tT(t,e,n,r)}function AT(t,e,n){return TT(t,function(){return Cg.apply(Nb(cy,ly,ry,ey,Bv,Vv,Rv,Lv,Cv,py).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}(),e,n)}function ET(t,e,n){return TT(t,function(){return Cg.apply(Nb(ay,sy,iy,ny,Xv,Fv,Nv,Dv,Cv,my).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}(),e,n)}const PT=Symbol("ordinal");function _T(t,e,n,{type:r,interval:i,domain:o,range:a,reverse:s,hint:c}){return i=RM(i,r),void 0===o&&(o=LT(n,i,t)),"categorical"!==r&&r!==PT||(r="ordinal"),s&&(o=Rc(o)),o=e.domain(o).domain(),void 0!==a&&("function"==typeof a&&(a=a(o)),e.range(a)),{type:r,domain:o,range:a,scale:e,hint:c,interval:i}}function $T(t,e,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:s,...c}){let l;if(r=RM(r,n),void 0===i&&(i=LT(e,r,t)),lS.get(t)===sS)l=function(t){return{fill:DT(t,"fill"),stroke:DT(t,"stroke")}}(e),o=void 0===o?function(t){return XM(t.fill)?ck:sk}(l):wM(o,mS);else if(lS.get(t)===rS&&(void 0!==o||"ordinal"!==n&&n!==PT||(o=function(t,e="greys"){const n=new Set,[r,i]=qS(e,2);for(const o of t)if(null!=o)if(!0===o)n.add(i);else{if(!1!==o)return;n.add(r)}return[...n]}(i,a),void 0!==o&&(a=void 0)),void 0===a&&void 0===o&&(a="ordinal"===n?"turbo":"observable10"),void 0!==a))if(void 0!==o){const t=XS(a),e=o[0],n=o[1]-o[0];o=({length:r})=>Mg((r=>t(e+n*r)),r)}else o=HS(a);if(s===Dg)throw new Error(`implicit unknown on ${t} scale is not supported`);return _T(t,Rg().unknown(s),e,{...c,type:n,domain:i,range:o,hint:l})}function CT(t,e,n,r){let{round:i}=n;return void 0!==i&&t.round(i=!!i),(t=_T(r,t,e,n)).round=i,t}function LT(t,e,n){const r=new tc;for(const{value:i,domain:o}of t){if(void 0!==o)return o();if(void 0!==i)for(const t of i)r.add(t)}if(void 0!==e){const[t,n]=Qs(r).map(e.floor,e);return e.range(t,e.offset(n))}if(r.size>1e4&&lS.get(n)===nS)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return dc(r,fk)}function DT(t,e){let n;for(const{hint:r}of t){const t=r?.[e];if(void 0!==t)if(void 0===n)n=t;else if(n!==t)return}return n}function RT(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:s,nice:c,clamp:l,zero:u,align:f,padding:h,projection:d,facet:{label:p=e}={},...m}={}){const g={};for(const[v,y]of t){const t=m[v],n=zT(v,y,{round:lS.get(v)===nS?s:void 0,nice:c,clamp:l,zero:u,align:f,padding:h,projection:d,...t});if(n){let{label:s=("fx"===v||"fy"===v?p:e),percent:c,transform:l,inset:u,insetTop:f=(void 0!==u?u:"y"===v?r:0),insetRight:h=(void 0!==u?u:"x"===v?i:0),insetBottom:d=(void 0!==u?u:"y"===v?o:0),insetLeft:m=(void 0!==u?u:"x"===v?a:0)}=t||{};if(null==l)l=void 0;else if("function"!=typeof l)throw new Error("invalid scale transform; not a function");n.percent=!!c,n.label=void 0===s?VT(y,n):s,n.transform=l,"x"===v||"fx"===v?(n.insetLeft=+m,n.insetRight=+h):"y"!==v&&"fy"!==v||(n.insetTop=+f,n.insetBottom=+d),g[v]=n}}return g}function NT(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:t,type:o,interval:a,label:s}=i;e[r]=JT(i),n[r]=t,t.type=o,null!=a&&(t.interval=a),null!=s&&(t.label=s)}return n}function VT(t=[],e){let n;for(const{label:r}of t)if(void 0!==r)if(void 0===n)n=r;else if(n!==r)return;if(void 0!==n)return!XT(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function FT(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:c,marginBottom:l,marginLeft:u}}=t;return{marginTop:Math.max(e,s),marginRight:Math.max(n,c),marginBottom:Math.max(r,l),marginLeft:Math.max(i,u),width:o,height:a}}function jT({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:c}=FT(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:s,height:e?e.scale.bandwidth()+r+o:c,facet:{width:s,height:c}}}function OT(t,e){if(void 0===t.range){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=e,s=o+n,c=i-a-r;t.range=[s,Math.max(s,c)],XT(t)||(t.range=UT(t)),t.scale.range(t.range)}IT(t)}function BT(t,e){if(void 0===t.range){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=e,s=o+n,c=i-a-r;t.range=[Math.max(s,c),s],XT(t)?t.range.reverse():t.range=UT(t),t.scale.range(t.range)}IT(t)}function IT(t){void 0===t.round&&function({type:t}){return"point"===t||"band"===t}(t)&&function({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,s=Math.abs(r-n)/Math.max(1,a+2*o);return(s-Math.floor(s))*a}(t)<=30&&t.scale.round(!0)}function UT(t){const e=t.scale.domain().length+ZT(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},((t,i)=>n+i/(e-1)*(r-n)))}function zT(t,e=[],n={}){const r=function(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:s}){if(n=HT(n),"fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==s||(n=qT);for(const l of e){const t=HT(l.type);if(void 0!==t)if(void 0===n)n=t;else if(n!==t)throw new Error(`scale incompatible with channel: ${n} !== ${t}`)}if(n===qT)return;if(void 0!==n)return n;if(void 0===r&&!e.some((({value:t})=>void 0!==t)))return;const c=lS.get(t);if(c===iS)return"sqrt";if(c===aS||c===oS)return"linear";if(c===sS)return"ordinal";if((r||i||[]).length>2)return YT(c);if(void 0!==r){if(BM(r))return YT(c);if(IM(r))return"utc"}else{const t=e.map((({value:t})=>t)).filter((t=>void 0!==t));if(t.some(BM))return YT(c);if(t.some(IM))return"utc"}if(c===rS){if(null!=a||function(t){return null!=t&&ZS.has(`${t}`.toLowerCase())}(o))return"diverging";if(function(t){return null!=t&&jS.has(`${t}`.toLowerCase())}(o))return"categorical"}return"linear"}(t,e,n);if(void 0===n.type&&void 0===n.domain&&void 0===n.range&&null==n.interval&&"fx"!==t&&"fy"!==t&&XT({type:r})){const n=e.map((({value:t})=>t)).filter((t=>void 0!==t));n.some(IM)?gT(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${WT(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${WT(r)}".`):n.some(UM)?gT(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${WT(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${WT(r)}".`):n.some(zM)&&gT(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${WT(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${WT(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=KT(e,n,uM);break;case"identity":switch(lS.get(t)){case nS:n=KT(e,n,uM);break;case sS:n=KT(e,n,QT)}break;case"utc":case"time":n=KT(e,n,hM)}switch(r){case"diverging":return yT(t,e,n);case"diverging-sqrt":return function(t,e,n){return bT(t,e,{...n,exponent:.5})}(t,e,n);case"diverging-pow":return bT(t,e,n);case"diverging-log":return wT(t,e,n);case"diverging-symlog":return xT(t,e,n);case"categorical":case"ordinal":case PT:return $T(t,e,n);case"cyclical":case"sequential":case"linear":return function(t,e,n){return tT(t,Qg(),e,n)}(t,e,n);case"sqrt":return function(t,e,n){return eT(t,e,{...n,exponent:.5})}(t,e,n);case"threshold":return oT(t,0,n);case"quantile":return iT(t,e,n);case"quantize":return function(t,e,{range:n,n:r=(void 0===n?5:(n=[...n]).length),scheme:i="rdylbu",domain:o=sT(t,e),unknown:a,interpolate:s,reverse:c}){const[l,u]=Qs(o);let f;return void 0===n?(f=Cc(l,u,r),f[0]<=l&&f.splice(0,1),f[f.length-1]>=u&&f.pop(),r=f.length+1,n=void 0!==s?Mg(s,r):lS.get(t)===rS?qS(i,r):void 0):(f=Mg(Wu(l,u),r+1).slice(1,-1),l instanceof Date&&(f=f.map((t=>new Date(t))))),bk(bM(o))<0&&f.reverse(),oT(t,0,{domain:f,range:n,reverse:c,unknown:a})}(t,e,n);case"pow":return eT(t,e,n);case"log":return nT(t,e,n);case"symlog":return rT(t,e,n);case"utc":return ET(t,e,n);case"time":return AT(t,e,n);case"point":return function(t,e,{align:n=.5,padding:r=.5,...i}){return CT(Fg().align(n).padding(r),e,i,t)}(t,e,n);case"band":return function(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=("fx"===t||"fy"===t?0:r),...a}){return CT(Ng().align(n).paddingInner(i).paddingOuter(o),e,a,t)}(t,e,n);case"identity":return function(t){return{type:"identity",scale:(e=lS.get(t),e===nS||e===iS||e===oS||e===aS?Jg():t=>t)};var e}(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function WT(t){return"symbol"==typeof t?t.description:t}function HT(t){return"string"==typeof t?`${t}`.toLowerCase():t}const qT={toString:()=>"projection"};function YT(t){switch(t){case nS:return"point";case rS:return PT;default:return"ordinal"}}function XT({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===PT}function ZT({type:t}){return"threshold"===t}function GT(t){if(void 0===t)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function KT(t,{domain:e,...n},r){for(const i of t)void 0!==i.value&&(void 0===e&&(e=i.value?.domain),i.value=r(i.value));return{domain:void 0===e?e:r(e),...n}}function QT(t){return wM(t,mS)}function JT({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:c}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const l=t.unknown?t.unknown():void 0;return{type:e,domain:xM(n),...void 0!==r&&{range:xM(r)},...void 0!==a&&{transform:a},...s&&{percent:s},...void 0!==l&&{unknown:l},...void 0!==o&&{interval:o},...void 0!==i&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...void 0!==c&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}function tA(t,e){const{fx:n,fy:r}=RT(t,e),i=n?.scale.domain(),o=r?.scale.domain();return i&&o?function(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(Zs)).map(Ys),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(Xs))return o;for(;;){o.push(i.map(((e,n)=>t[n][e])));let a=r;for(;++i[a]===n[a];){if(0===a)return e?o.map(e):o;i[a--]=0}}}(i,o).map((([t,e],n)=>({x:t,y:e,i:n}))):i?i.map(((t,e)=>({x:t,i:e}))):o?o.map(((t,e)=>({y:t,i:e}))):void 0}function eA(t,{fx:e,fy:n}){const r=PM(t),i=e?.value,o=n?.value;return e&&n?ac(r,(t=>(t.fx=i[t[0]],t.fy=o[t[0]],t)),(t=>i[t]),(t=>o[t])):e?ac(r,(t=>(t.fx=i[t[0]],t)),(t=>i[t])):ac(r,(t=>(t.fy=o[t[0]],t)),(t=>o[t]))}function nA(t){const e=[],n=new Uint32Array(Ac(t,(t=>t.length)));for(const r of t){let i=0;for(const e of t)r!==e&&(n.set(e,i),i+=e.length);e.push(n.slice(0,i))}return e}const rA=new Map([["top",cA],["right",fA],["bottom",lA],["left",uA],["top-left",hA(cA,uA)],["top-right",hA(cA,fA)],["bottom-left",hA(lA,uA)],["bottom-right",hA(lA,fA)],["top-empty",function(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=aA(e,r);if(o>0)return sA(t,n,e[o-1])}],["right-empty",function(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=aA(e,n);if(o<e.length-1)return sA(t,e[o+1],r)}],["bottom-empty",function(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=aA(e,r);if(o<e.length-1)return sA(t,n,e[o+1])}],["left-empty",function(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=aA(e,n);if(o>0)return sA(t,e[o-1],r)}],["empty",function(t,e,{empty:n}){return n}]]);const iA=new WeakMap;function oA(t){let e=iA.get(t);return e||iA.set(t,e=new Js(wM(t,((t,e)=>[t,e])))),e}function aA(t,e){return oA(t).get(e)}function sA(t,e,n){return function(t,e,n){return e=$M(e),n=$M(n),t.find((t=>Object.is($M(t.x),e)&&Object.is($M(t.y),n)))}(t,e,n)?.empty}function cA(t,{y:e},{y:n}){return!e||0===aA(e,n)}function lA(t,{y:e},{y:n}){return!e||aA(e,n)===e.length-1}function uA(t,{x:e},{x:n}){return!e||0===aA(e,n)}function fA(t,{x:e},{x:n}){return!e||aA(e,n)===e.length-1}function hA(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function dA(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map((({x:t,y:e})=>r.get(t)?.get(e)??[])):e?t.map((({x:t})=>r.get(t)??[])):t.map((({y:t})=>r.get(t)??[]))}const pA=Math.PI,mA=2*pA,gA=.618;function vA({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={},a){if(null==t)return;if("function"==typeof t.stream)return t;let s,c,l="frame";if(kM(t)){let e;if(({type:t,domain:c,inset:e,insetTop:n=(void 0!==e?e:n),insetRight:r=(void 0!==e?e:r),insetBottom:i=(void 0!==e?e:i),insetLeft:o=(void 0!==e?e:o),clip:l=l,...s}=t),null==t)return}"function"!=typeof t&&({type:t}=yA(t));const{width:u,height:f,marginLeft:h,marginRight:d,marginTop:p,marginBottom:m}=a,g=u-h-d-o-r,v=f-p-m-n-i;if(t=t?.({width:g,height:v,clip:l,...s}),null==t)return;l=function(t,e,n,r,i){if(!1===t||null==t||"number"==typeof t)return t=>t;!0===t&&(t="frame");if("frame"===`${t}`.toLowerCase())return pd(e,n,r,i);throw new Error(`unknown projection clip type: ${t}`)}(l,h,p,u-d,f-m);let y,b=h+o,w=p+n;if(null!=c){const[[e,n],[r,i]]=Pp(t).bounds(c),o=Math.min(g/(r-e),v/(i-n));o>0?(b-=(o*(e+r)-g)/2,w-=(o*(n+i)-v)/2,y=Zp({point(t,e){this.stream.point(t*o+b,e*o+w)}})):gT("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??=0===b&&0===w?xA():Zp({point(t,e){this.stream.point(t+b,e+w)}}),{stream:e=>t.stream(y.stream(l(e)))}}function yA(t){switch(`${t}`.toLowerCase()){case"albers-usa":return bA(pm,.7463,.4673);case"albers":return wA(dm,.7463,.4673);case"azimuthal-equal-area":return bA(ym,4,4);case"azimuthal-equidistant":return bA(wm,mA,mA);case"conic-conformal":return wA(Am,mA,mA);case"conic-equal-area":return wA(hm,6.1702,2.9781);case"conic-equidistant":return wA($m,7.312,3.6282);case"equal-earth":return bA(Fm,5.4133,2.6347);case"equirectangular":return bA(Pm,mA,pA);case"gnomonic":return bA(Om,3.4641,3.4641);case"identity":return{type:xA};case"reflect-y":return{type:kA};case"mercator":return bA(km,mA,mA);case"orthographic":return bA(Im,2,2);case"stereographic":return bA(zm,2,2);case"transverse-mercator":return bA(Hm,mA,mA);default:throw new Error(`unknown projection type: ${t}`)}}function bA(t,e,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{const c=t();return null!=a&&c.precision?.(a),null!=o&&c.rotate?.(o),"number"==typeof s&&c.clipAngle?.(s),null!=r&&(c.scale(Math.min(r/e,i/n)),c.translate([r/2,i/2])),c},aspectRatio:n/e}}function wA(t,e,n){const{type:r,aspectRatio:i}=bA(t,e,n);return{type:t=>{const{parallels:e,domain:n,width:i,height:o}=t,a=r(t);return null!=e&&(a.parallels(e),void 0===n&&null!=i&&a.fitSize([i,o],{type:"Sphere"})),a},aspectRatio:i}}const xA=lM({stream:t=>t}),kA=lM(Zp({point(t,e){this.stream.point(t,-e)}}));function MA(t,e,n,r){const i=n[t],o=n[e],a=i.length,s=n[t]=new Float64Array(a).fill(NaN),c=n[e]=new Float64Array(a).fill(NaN);let l;const u=r.stream({point(t,e){s[l]=t,c[l]=e}});for(l=0;l<a;++l)u.point(i[l],o[l])}function SA({projection:t}={}){return null!=t&&("function"==typeof t.stream||(kM(t)&&(t=t.type),null!=t))}function TA(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},o={point(t,r){e.push(t),n.push(r)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)xd(a,o);return[r,i]}function AA(t={}){const{document:e=("undefined"!=typeof window?window.document:void 0),clip:n}=t;return{document:e,clip:JM(n)}}function EA(t,{document:e}){return _x(ql(t).call(e.documentElement))}function PA(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return"function"==typeof e?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${a=t.getUTCFullYear(),a<0?`-${_A(-a,6)}`:a>9999?`+${_A(a,6)}`:_A(a,4)}-${_A(t.getUTCMonth()+1,2)}-${_A(t.getUTCDate(),2)}${n||r||i||o?`T${_A(n,2)}:${_A(r,2)}${i||o?`:${_A(i,2)}${o?`.${_A(o,3)}`:""}`:""}Z`:""}`;var a}function _A(t,e){return`${t}`.padStart(e,"0")}const $A=Symbol("unset");function CA(t){return(1===t.length?LA:DA)(t)}function LA(t){let e,n=$A;return r=>(Object.is(n,r)||(n=r,e=t(r)),e)}function DA(t){let e,n;return(...r)=>((n?.length!==r.length||n.some(((t,e)=>!Object.is(t,r[e]))))&&(n=r,e=t(...r)),e)}const RA=CA((t=>new Intl.NumberFormat(t)));CA(((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}}))),CA(((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}})));function NA(t){return PA(t,"Invalid Date")}const VA=function(t="en-US"){const e=function(t="en-US"){const e=RA(t);return t=>null==t||isNaN(t)?void 0:e.format(t)}(t);return t=>(t instanceof Date?NA:"number"==typeof t?e:oM)(t)}(),FA=("undefined"!=typeof window?window.devicePixelRatio>1:"undefined"==typeof it)?0:.5;let jA=0;function OA(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:c,stroke:l,strokeWidth:u,strokeOpacity:f,strokeLinejoin:h,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:v,mixBlendMode:y,imageFilter:b,paintOrder:w,pointerEvents:x,shapeRendering:k,channels:M},{ariaLabel:S,fill:T="currentColor",fillOpacity:A,stroke:E="none",strokeOpacity:P,strokeWidth:_,strokeLinecap:$,strokeLinejoin:C,strokeMiterlimit:L,paintOrder:D}){null===T&&(s=null,c=null),null===E&&(l=null,f=null),XM(T)?XM(E)||XM(s)&&!M?.fill||(E="none"):!XM(E)||XM(l)&&!M?.stroke||(T="none");const[R,N]=pM(s,T),[V,F]=mM(c,A),[j,O]=pM(l,E),[B,I]=mM(f,P),[U,z]=mM(v);ZM(O)||(void 0===u&&(u=_),void 0===d&&(d=$),void 0===h&&(h=C),void 0!==p||function(t){return/^\s*round\s*$/i.test(t)}(h)||(p=L),ZM(N)||void 0!==w||(w=D));const[W,H]=mM(u);return null!==T&&(t.fill=GA(N,"currentColor"),t.fillOpacity=KA(F,1)),null!==E&&(t.stroke=GA(O,"none"),t.strokeWidth=KA(H,1),t.strokeOpacity=KA(I,1),t.strokeLinejoin=GA(h,"miter"),t.strokeLinecap=GA(d,"butt"),t.strokeMiterlimit=KA(p,4),t.strokeDasharray=GA(m,"none"),t.strokeDashoffset=GA(g,"0")),t.target=oM(a),t.ariaLabel=oM(S),t.ariaDescription=oM(i),t.ariaHidden=oM(o),t.opacity=KA(z,1),t.mixBlendMode=GA(y,"normal"),t.imageFilter=GA(b,"none"),t.paintOrder=GA(w,"normal"),t.pointerEvents=GA(x,"auto"),t.shapeRendering=GA(k,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:R,scale:"auto",optional:!0},fillOpacity:{value:V,scale:"auto",optional:!0},stroke:{value:j,scale:"auto",optional:!0},strokeOpacity:{value:B,scale:"auto",optional:!0},strokeWidth:{value:W,optional:!0},opacity:{value:U,scale:"auto",optional:!0}}}function BA(t,e){e&&t.text((t=>VA(e[t])))}function IA(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:c,strokeWidth:l,opacity:u,href:f}){r&&XA(t,"aria-label",(t=>r[t])),o&&XA(t,"fill",(t=>o[t])),a&&XA(t,"fill-opacity",(t=>a[t])),s&&XA(t,"stroke",(t=>s[t])),c&&XA(t,"stroke-opacity",(t=>c[t])),l&&XA(t,"stroke-width",(t=>l[t])),u&&XA(t,"opacity",(t=>u[t])),f&&YA(t,(t=>f[t]),e),n||function(t,e){e&&t.filter((t=>dk(e[t]))).append("title").call(BA,e)}(t,i)}function UA(t){const e=new WeakMap;return(n,r)=>{let i=e.get(n);if(!i){const o="plot-clip-"+ ++jA;_x(n.ownerSVGElement).append("clipPath").attr("id",o).call(t,n,r),e.set(n,i=`url(#${o})`)}return i}}const zA=UA(((t,e,n)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:s,marginBottom:c}=n;t.append("rect").attr("x",o).attr("y",s).attr("width",r-a-o).attr("height",i-s-c)})),WA=UA(((t,e)=>{const{projection:n}=e;if(!n)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",Pp(n)({type:"Sphere"}))}));function HA(t,e,n,r){!function(t,e,n,r){let i;const{clip:o=r.clip}=e;switch(o){case"frame":t=EA("svg:g",r).each((function(){this.appendChild(t.node()),t.node=()=>this})),i=zA(r,n);break;case"sphere":i=WA(r)}XA(t,"aria-label",e.ariaLabel),XA(t,"aria-description",e.ariaDescription),XA(t,"aria-hidden",e.ariaHidden),XA(t,"clip-path",i)}(t,e,n,r),XA(t,"class",e.className),XA(t,"fill",e.fill),XA(t,"fill-opacity",e.fillOpacity),XA(t,"stroke",e.stroke),XA(t,"stroke-width",e.strokeWidth),XA(t,"stroke-opacity",e.strokeOpacity),XA(t,"stroke-linejoin",e.strokeLinejoin),XA(t,"stroke-linecap",e.strokeLinecap),XA(t,"stroke-miterlimit",e.strokeMiterlimit),XA(t,"stroke-dasharray",e.strokeDasharray),XA(t,"stroke-dashoffset",e.strokeDashoffset),XA(t,"shape-rendering",e.shapeRendering),XA(t,"filter",e.imageFilter),XA(t,"paint-order",e.paintOrder);const{pointerEvents:i=(!1===r.pointerSticky?"none":void 0)}=e;XA(t,"pointer-events",i)}function qA(t,e){!function(t,e,n){null!=n&&t.style(e,n)}(t,"mix-blend-mode",e.mixBlendMode),XA(t,"opacity",e.opacity)}function YA(t,e,n){t.each((function(t){const r=e(t);if(null!=r){const t=this.ownerDocument.createElementNS(hl.svg,"a");t.setAttribute("fill","inherit"),t.setAttributeNS(hl.xlink,"href",r),null!=n&&t.setAttribute("target",n),this.parentNode.insertBefore(t,this).appendChild(this)}}))}function XA(t,e,n){null!=n&&t.attr(e,n)}function ZA(t,e,{x:n,y:r},i=FA,o=FA){i+=e.dx,o+=e.dy,n?.bandwidth&&(i+=n.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function GA(t,e){if((t=oM(t))!==e)return t}function KA(t,e){if((t=aM(t))!==e)return t}const QA=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function JA(t){if(void 0===t)return"plot-d6a7b5";if(t=`${t}`,!QA.test(t))throw new Error(`invalid class name: ${t}`);return t}function tE(t,e){if("string"==typeof e)t.property("style",e);else if(null!=e)for(const n of t)Object.assign(n.style,e)}function eE({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-o:(r+n-o)/2]}function nE({filter:t,sort:e,reverse:n,transform:r,initializer:i,...o}={},a){if(void 0===r&&(null!=t&&(r=sE(t)),null==e||TM(e)||(r=iE(r,lE(e))),n&&(r=iE(r,cE))),null!=a&&null!=i)throw new Error("transforms cannot be applied after initializers");return{...o,...(null===e||TM(e))&&{sort:e},transform:iE(r,a)}}function rE({filter:t,sort:e,reverse:n,initializer:r,...i}={},o){return void 0===r&&(null!=t&&(r=sE(t)),null==e||TM(e)||(r=oE(r,lE(e))),n&&(r=oE(r,cE))),{...i,...(null===e||TM(e))&&{sort:e},initializer:oE(r,o)}}function iE(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(n,r,i){return({data:n,facets:r}=t.call(this,n,r,i)),e.call(this,yM(n),r,i)}}function oE(t,e){return null==t?null===e?void 0:e:null==e?null===t?void 0:t:function(n,r,i,...o){let a,s,c,l,u,f;return({data:s=n,facets:c=r,channels:a}=t.call(this,n,r,i,...o)),({data:u=s,facets:f=c,channels:l}=e.call(this,s,c,{...i,...a},...o)),{data:u,facets:f,channels:{...a,...l}}}}function aE(t,e){return(null!=t.initializer?rE:nE)(t,e)}function sE(t){return(e,n)=>{const r=Gk(e,t);return{data:e,facets:n.map((t=>t.filter((t=>r[t]))))}}}function cE(t,e){return{data:t,facets:e.map((t=>t.slice().reverse()))}}function lE(t){return("function"==typeof t&&1!==t.length?uE:fE)(t)}function uE(t){return(e,n)=>{const r=qk(e)?(n,r)=>t(e[n],e[r]):(n,r)=>t(e.get(n),e.get(r));return{data:e,facets:n.map((t=>t.slice().sort(r)))}}}function fE(t){let e,n;({channel:e,value:t,order:n}={...VM(t)});const r=e?.startsWith("-");if(r&&(e=e.slice(1)),void 0===n&&(n=r?hk:fk),"function"!=typeof n)switch(`${n}`.toLowerCase()){case"ascending":n=fk;break;case"descending":n=hk;break;default:throw new Error(`invalid order: ${n}`)}return(r,i,o)=>{let a;if(void 0===e)a=Gk(r,t);else{if(void 0===o)throw new Error("channel sort requires an initializer");if(a=o[e],!a)return{};a=a.value}const s=(t,e)=>n(a[t],a[e]);return{data:r,facets:i.map((t=>t.slice().sort(s)))}}}class hE{constructor(t,e={},n={},r){const{facet:i="auto",facetAnchor:o,fx:a,fy:s,sort:c,dx:l=0,dy:u=0,margin:f=0,marginTop:h=f,marginRight:d=f,marginBottom:p=f,marginLeft:m=f,className:g,clip:v=r?.clip,channels:y,tip:b,render:w}=n;if(this.data=t,this.sort=TM(c)?c:null,this.initializer=rE(n).initializer,this.transform=this.initializer?n.transform:nE(n).transform,null===i||!1===i?this.facet=null:(this.facet=vM(!0===i?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===tM&&"string"==typeof a?[a]:a,this.fy=t===tM&&"string"==typeof s?[s]:s),this.facetAnchor=function(t){if(null==t)return null;const e=rA.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}(o),e=QM(e),void 0!==y&&(e={...mE(y),...e}),void 0!==r&&(e={...OA(this,n,r),...e}),this.channels=Object.fromEntries(Object.entries(e).map((([e,n])=>{if(SM(n.value)){const{value:t,label:e=n.label,scale:r=n.scale}=n.value;n={...n,label:e,scale:r,value:t}}if(t===tM&&"string"==typeof n.value){const{value:t}=n;n={...n,value:[t]}}return[e,n]})).filter((([t,{value:e,optional:n}])=>{if(null!=e)return!0;if(n)return!1;throw new Error(`missing channel value: ${t}`)}))),this.dx=+l,this.dy=+u,this.marginTop=+h,this.marginRight=+d,this.marginBottom=+p,this.marginLeft=+m,this.clip=JM(v),this.tip=function(t){return!0===t?"xy":!1===t||null==t?null:"string"==typeof t?vM(t,"tip",["x","y","xy"]):t}(b),this.className=g?JA(g):null,"super"===this.facet){if(a||s)throw new Error("super-faceting cannot use fx or fy");for(const t in this.channels){const{scale:n}=e[t];if("x"===n||"y"===n)throw new Error("super-faceting cannot use x or y")}}null!=w&&(this.render=pE(w,this.render))}initialize(t,e,n){let r=yM(this.data);void 0===t&&null!=r&&(t=[PM(r)]);const i=t;null!=this.transform&&(({facets:t,data:r}=this.transform(r,t,n)),r=yM(r)),void 0!==t&&(t.original=i);const o=function(t,e){return Object.fromEntries(Object.entries(t).map((([t,n])=>[t,ES(e,n,t)])))}(this.channels,r);return null!=this.sort&&function(t,e,n,r,i){const{order:o,reverse:a,reduce:s=!0,limit:c}=i;for(const l in i){if(!lS.has(l))continue;let{value:u,order:f=o,reverse:h=a,reduce:d=s,limit:p=c}=VM(i[l]);const m=u?.startsWith("-");if(m&&(u=u.slice(1)),f=void 0===f?m!==("width"===u||"height"===u)?VS:NS:RS(f),null==d||!1===d)continue;const g="fx"===l||"fy"===l?CS(e,r[l]):$S(n,l);if(!g)throw new Error(`missing channel for scale: ${l}`);const v=g.value,[y=0,b=1/0]=jM(p)?p:p<0?[p]:[0,p];if(null==u)g.domain=()=>{let t=Array.from(new tc(v));return h&&(t=t.reverse()),0===y&&b===1/0||(t=t.slice(y,b)),t};else{const e="data"===u?t:"height"===u?LS(n,"y1","y2"):"width"===u?LS(n,"x1","x2"):DS(n,u,"y"===u?"y2":"x"===u?"x2":void 0),r=gS(!0===d?"max":d,e);g.domain=()=>{let t=sc(PM(v),(t=>r.reduceIndex(t,e)),(t=>v[t]));return f&&t.sort(f),h&&t.reverse(),0===y&&b===1/0||(t=t.slice(y,b)),t.map(sM)}}}}(r,t,o,e,this.sort),{data:r,facets:t,channels:o}}filter(t,e,n){for(const r in e){const{filter:i=uk}=e[r];if(null!==i){const e=n[r];t=t.filter((t=>i(e[t])))}}return t}project(t,e,n){for(const r in t)if("x"===t[r].scale&&/^x|x$/.test(r)){const i=r.replace(/^x|x$/,"y");i in t&&"y"===t[i].scale&&MA(r,i,e,n.projection)}}scale(t,e,n){const r=PS(t,e);return n.projection&&this.project(t,r,n),r}}function dE(...t){return t.plot=hE.prototype.plot,t}function pE(t,e){if(null==t)return null===e?void 0:e;if(null==e)return null===t?void 0:t;if("function"!=typeof t)throw new TypeError(`invalid render transform: ${t}`);if("function"!=typeof e)throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,o,a,s){return t.call(this,n,r,i,o,a,((t,n,r,i,o)=>e.call(this,t,n,r,i,o,s)))}}function mE(t){return Object.fromEntries(Object.entries(QM(t)).map((([t,e])=>(void 0===(e="string"==typeof e?{value:e,label:t}:VM(e)).filter&&null==e.scale&&(e={...e,filter:null}),[t,e]))))}function gE(t,e){return!0===t?.tip?{...t,tip:e}:kM(t?.tip)&&void 0===t.tip.pointer?{...t,tip:{...t.tip,pointer:e}}:t}function vE({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:s,marginRightDefault:c,marginBottomDefault:l,marginLeftDefault:u}){const f=n&&n.scale.domain().length||1,h=function(t){if("function"==typeof t?.stream)return gA;if(kM(t)){let e,n;if(({domain:e,type:t,...n}=t),null!=e&&null!=t){const r="string"==typeof t?yA(t).type:t,[[i,o],[a,s]]=Pp(r({...n,width:100,height:100})).bounds(e),c=(s-o)/(a-i);return c&&isFinite(c)?c<.2?.2:c>5?5:c:gA}}if(null!=t){if("function"!=typeof t){const{aspectRatio:e}=yA(t);if(e)return e}return gA}}(i);if(h){const t=(1.1*f-.1)/(1.1*(r?r.scale.domain().length:1)-.1)*h,e=Math.max(.1,Math.min(10,t));return Math.round((a-u-c)*e+s+l)}const d=e?XT(e)?e.scale.domain().length||1:Math.max(7,17/f):1;if(null!=o){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const i=yE("y",e)/(yE("x",t)*o),f=r?r.scale.bandwidth():1,h=n?n.scale.bandwidth():1;return(i*(f*(a-u-c)-t.insetLeft-t.insetRight)+e.insetTop+e.insetBottom)/h+s+l}return!(!e&&!n)*Math.max(1,Math.min(60,d*f))*20+30*!!r+60}function yE(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const t=e.scale.exponent();i=e=>Math.pow(e,t);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[o,a]=Qs(r);return Math.abs(i(a)-i(o))}const bE=new WeakMap;function wE(t,e,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:s,render:c,...l}={}){return a=+a,null!=i&&(n??=null,s={...s,px:{value:i,scale:"x"}}),null!=o&&(r??=null,s={...s,py:{value:o,scale:"y"}}),{x:n,y:r,channels:s,...l,render:pE((function(n,r,i,o,s,c){const l=(s={...s,pointerSticky:!1}).ownerSVGElement,{data:u}=s.getMarkState(this);let f=bE.get(l);f||bE.set(l,f={sticky:!1,roots:[],renders:[]});let h=f.renders.push(L)-1;const{x:d,y:p,fx:m,fy:g}=r;let v=m?m(n.fx)-o.marginLeft:0,y=g?g(n.fy)-o.marginTop:0;d?.bandwidth&&(v+=d.bandwidth()/2),p?.bandwidth&&(y+=p.bandwidth()/2);const b=null!=n.fi;let w;if(b){let t=f.facetStates;t||(f.facetStates=t=new Map),w=t.get(this),w||t.set(this,w=new Map)}const[x,k]=eE(this,o),{px:M,py:S}=i,T=M?t=>M[t]:SE(i,x),A=S?t=>S[t]:TE(i,k);let E,P,_,$;function C(t,e){if(b){if($&&($=cancelAnimationFrame($)),null!=t)return w.set(n.fi,e),void($=requestAnimationFrame((()=>{$=null;for(const[r,i]of w)if(i<e||i===e&&r<n.fi){t=null;break}L(t)})));w.delete(n.fi)}L(t)}function L(t){if(E===t&&_===f.sticky)return;E=t,_=s.pointerSticky=f.sticky;const e=null==E?[]:[E];b&&(e.fx=n.fx,e.fy=n.fy,e.fi=n.fi);const a=c(e,r,i,o,s);if(P){if(b){const t=P.parentNode,e=P.getAttribute("transform"),n=a.getAttribute("transform");e?a.setAttribute("transform",e):a.removeAttribute("transform"),n?t.setAttribute("transform",n):t.removeAttribute("transform"),a.removeAttribute("aria-label"),a.removeAttribute("aria-description"),a.removeAttribute("aria-hidden")}P.replaceWith(a)}if(f.roots[h]=P=a,!(null==E&&w?.size>1)){const t=null==E?null:qk(u)?u[E]:u.get(E);s.dispatchValue(t)}return a}function D(r){if(f.sticky||"mouse"===r.pointerType&&1===r.buttons)return;let[i,s]=function(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}(r);i-=v,s-=y;const c=i<o.marginLeft||i>o.width-o.marginRight?1:t,l=s<o.marginTop||s>o.height-o.marginBottom?1:e;let u=null,h=a*a;for(const t of n){const e=c*(T(t)-i),n=l*(A(t)-s),r=e*e+n*n;r<=h&&(u=t,h=r)}if(null!=u&&(1!==t||1!==e)){const t=T(u)-i,e=A(u)-s;h=t*t+e*e}C(u,h)}return l.addEventListener("pointerenter",D),l.addEventListener("pointermove",D),l.addEventListener("pointerdown",(function(t){"mouse"===t.pointerType&&null!=E&&(f.sticky&&f.roots.some((e=>e?.contains(t.target)))||(f.sticky?(f.sticky=!1,f.renders.forEach((t=>t(null)))):(f.sticky=!0,L(E)),t.stopImmediatePropagation()))})),l.addEventListener("pointerleave",(function(t){"mouse"===t.pointerType&&(f.sticky||C(null))})),L(null)}),c)}}function xE(t){return wE(1,1,t)}function kE(t){return wE(1,.01,t)}function ME(t){return wE(.01,1,t)}function SE({x1:t,x2:e,x:n=t},r){return t&&e?n=>(t[n]+e[n])/2:n?t=>n[t]:()=>r}function TE({y1:t,y2:e,y:n=t},r){return t&&e?n=>(t[n]+e[n])/2:n?t=>n[t]:()=>r}function AE(t){return XT(t)&&void 0===t.interval?void 0:"tabular-nums"}function EE(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:c=16+r,marginLeft:l=0,style:u,ticks:f=(i-l-s)/64,tickFormat:h,fontVariant:d=AE(t),round:p=!0,opacity:m,className:g}=e;const v=AA(e);g=JA(g),m=mM(m)[1],null===h&&(h=()=>null);const y=EA("svg",v).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call((t=>t.append("style").text(`:where(.${g}-ramp) {\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n:where(.${g}-ramp text) {\n  white-space: pre;\n}`))).call(tE,u);let b,w=t=>t.selectAll(".tick line").attr("y1",a+c-o);const x=p?(t,e)=>t.rangeRound(e):(t,e)=>t.range(e),{type:k,domain:M,range:S,interpolate:T,scale:A,pivot:E}=t;if(T){const t=void 0===S?T:kg(1===T.length?dT(T):T,S);b=x(A.copy(),Mg(Wu(l,i-s),Math.min(M.length+(void 0!==E),void 0===S?1/0:S.length)));const e=256,n=v.document.createElement("canvas");n.width=e,n.height=1;const r=n.getContext("2d");for(let i=0,o=e-1;i<e;++i)r.fillStyle=t(i/o),r.fillRect(i,0,1,1);y.append("image").attr("opacity",m).attr("x",l).attr("y",a).attr("width",i-l-s).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",n.toDataURL())}else if("threshold"===k){const t=M,e=void 0===h?t=>t:"string"==typeof h?Dh(h):h;b=x(Qg().domain([-1,S.length-1]),[l,i-s]),y.append("g").attr("fill-opacity",m).selectAll().data(S).enter().append("rect").attr("x",((t,e)=>b(e-1))).attr("y",a).attr("width",((t,e)=>b(e)-b(e-1))).attr("height",o-a-c).attr("fill",(t=>t)),f=wM(t,((t,e)=>e)),h=n=>e(t[n],n)}else b=x(Ng().domain(M),[l,i-s]),y.append("g").attr("fill-opacity",m).selectAll().data(M).enter().append("rect").attr("x",b).attr("y",a).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",o-a-c).attr("fill",A),w=()=>{};return y.append("g").attr("transform",`translate(0,${o-c})`).call(function(t){return qc(jc,t)}(b).ticks(Array.isArray(f)?null:f,"string"==typeof h?h:void 0).tickFormat("function"==typeof h?h:void 0).tickSize(r).tickValues(Array.isArray(f)?f:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",GA(d,"normal")).call(w).call((t=>t.select(".domain").remove())),void 0!==n&&y.append("text").attr("x",l).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),y.node()}const PE=Math.PI/180;function _E(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=$E(n),t.markerMid=$E(r),t.markerEnd=$E(i)}function $E(t){if(null==t||!1===t)return null;if(!0===t)return DE;if("function"==typeof t)return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return CE("auto");case"arrow-reverse":return CE("auto-start-reverse");case"dot":return LE;case"circle":case"circle-fill":return DE;case"circle-stroke":return RE;case"tick":return NE("auto");case"tick-x":return NE(90);case"tick-y":return NE(0)}throw new Error(`invalid marker: ${t}`)}function CE(t){return(e,n)=>EA("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call((t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3"))).node()}function LE(t,e){return EA("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call((t=>t.append("circle").attr("r",2.5))).node()}function DE(t,e){return EA("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function RE(t,e){return EA("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call((t=>t.append("circle").attr("r",3))).node()}function NE(t){return(e,n)=>EA("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call((t=>t.append("path").attr("d","M0,-3v6"))).node()}let VE=0;function FE(t,e,{stroke:n},r){return BE(t,e,n&&(t=>n[t]),null,r)}const jE=1,OE=2;function BE(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},o=(()=>i),a,s){if(!e&&!n&&!r)return;const c=new Map,l=a&&function(t,e){const n=new Uint8Array(e.length),r=t.data().filter((t=>t.length>1)),i=r.length;for(let o=0,a=$A;o<i;++o){const t=r[o];if(t.length>1){const r=t[0];a!==(a=$M(e[r]))&&(n[r]|=jE)}}for(let o=i-1,a=$A;o>=0;--o){const t=r[o];if(t.length>1){const r=t[0];a!==(a=$M(e[r]))&&(n[r]|=OE)}}return([t])=>n[t]}(t,a);function u(t,e,n){return function(r){if(n&&!n(r))return;const i=o(r);let a=c.get(e);a||c.set(e,a=new Map);let l=a.get(i);if(!l){const t=this.parentNode.insertBefore(e(i,s),this),n="plot-marker-"+ ++VE;t.setAttribute("id",n),a.set(i,l=`url(#${n})`)}this.setAttribute(t,l)}}e&&t.each(u("marker-start",e,l&&(t=>l(t)&jE))),n&&l&&t.each(u("marker-start",n,(t=>!(l(t)&jE)))),n&&t.each(u("marker-mid",n)),r&&t.each(u("marker-end",r,l&&(t=>l(t)&OE)))}function IE({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=zE(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function UE({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=zE(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function zE(t,e,n){return void 0===t&&void 0===e&&void 0===n?FA?[1,0]:[.5,.5]:[e,n]}function WE(t,{interval:e}){return(t={...VM(t)}).interval=DM(void 0===t.interval?e:t.interval),t}function HE(t,e,n,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=n,{value:s,interval:c}=WE(i,n);if(null==s||null==c&&!r)return n;const l=CM(i);if(null==c){let e;const i={transform:t=>e||(e=Gk(t,s)),label:l};return{...n,[t]:void 0,[`${t}1`]:void 0===o?i:o,[`${t}2`]:void 0!==a||o===a&&r?a:i}}let u,f;function h(t){return void 0!==f&&t===u?f:f=wM(Gk(u=t,s),(t=>c.floor(t)))}return e({...n,[t]:void 0,[`${t}1`]:void 0===o?{transform:h,label:l}:o,[`${t}2`]:void 0===a?{transform:t=>h(t).map((t=>c.offset(t))),label:l}:a})}function qE(t,e,n){const{[t]:r}=n,{value:i,interval:o}=WE(r,n);return null==i||null==o?n:e({...n,[t]:{label:CM(r),transform:t=>{const e=wM(Gk(t,i),(t=>o.floor(t))),n=e.map((t=>o.offset(t)));return e.map(IM(e)?(t,e)=>null==t||isNaN(t=+t)||null==(e=n[e])||isNaN(e=+e)?void 0:new Date((t+e)/2):(t,e)=>null==t||null==(e=n[e])?NaN:(+t+ +e)/2)}}})}function YE(t={}){return qE("x",IE,t)}function XE(t={}){return qE("y",UE,t)}const ZE={ariaLabel:"rule",fill:null,stroke:"currentColor"};class GE extends hE{constructor(t,e={}){const{x:n,y1:r,y2:i,inset:o=0,insetTop:a=o,insetBottom:s=o}=e;super(t,{x:{value:n,scale:"x",optional:!0},y1:{value:r,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},gE(e,"x"),ZE),this.insetTop=aM(a),this.insetBottom=aM(s),_E(this,e)}render(t,e,n,r,i){const{x:o,y:a}=e,{x:s,y1:c,y2:l}=n,{width:u,height:f,marginTop:h,marginRight:d,marginLeft:p,marginBottom:m}=r,{insetTop:g,insetBottom:v}=this;return EA("svg:g",i).call(HA,this,r,i).call(ZA,this,{x:s&&o},FA,0).call((e=>e.selectAll().data(t).enter().append("line").call(qA,this).attr("x1",s?t=>s[t]:(p+u-d)/2).attr("x2",s?t=>s[t]:(p+u-d)/2).attr("y1",c&&!GT(a)?t=>c[t]+g:h+g).attr("y2",l&&!GT(a)?a.bandwidth?t=>l[t]+a.bandwidth()-v:t=>l[t]-v:f-m-v).call(IA,this,n).call(FE,this,n,i))).node()}}class KE extends hE{constructor(t,e={}){const{x1:n,x2:r,y:i,inset:o=0,insetRight:a=o,insetLeft:s=o}=e;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:!0},x2:{value:r,scale:"x",optional:!0}},gE(e,"y"),ZE),this.insetRight=aM(a),this.insetLeft=aM(s),_E(this,e)}render(t,e,n,r,i){const{x:o,y:a}=e,{y:s,x1:c,x2:l}=n,{width:u,height:f,marginTop:h,marginRight:d,marginLeft:p,marginBottom:m}=r,{insetLeft:g,insetRight:v}=this;return EA("svg:g",i).call(HA,this,r,i).call(ZA,this,{y:s&&a},0,FA).call((e=>e.selectAll().data(t).enter().append("line").call(qA,this).attr("x1",c&&!GT(o)?t=>c[t]+g:p+g).attr("x2",l&&!GT(o)?o.bandwidth?t=>l[t]+o.bandwidth()-v:t=>l[t]-v:u-d-v).attr("y1",s?t=>s[t]:(h+f-m)/2).attr("y2",s?t=>s[t]:(h+f-m)/2).call(IA,this,n).call(FE,this,n,i))).node()}}function QE(t,e){let{x:n=rM,y:r,y1:i,y2:o,...a}=function(t={}){return HE("y",UE,t)}(e);return[i,o]=tP(r,i,o),new GE(t,{...a,x:n,y1:i,y2:o})}function JE(t,e){let{y:n=rM,x:r,x1:i,x2:o,...a}=function(t={}){return HE("x",IE,t)}(e);return[i,o]=tP(r,i,o),new KE(t,{...a,y:n,x1:i,x2:o})}function tP(t,e,n){if(null==t){if(void 0===e){if(void 0!==n)return[0,n]}else if(void 0===n)return[0,e]}else{if(void 0===e)return void 0===n?[0,t]:[t,n];if(void 0===n)return[t,e]}return[e,n]}function eP(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)"function"!=typeof e[r]&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let o=0;o<n;++o)i+=e[o](r)+t[o+1];return i}}const nP={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},rP="";class iP extends hE{constructor(t,e={}){const{x:n,y:r,text:i=(jM(t)&&OM(t)?rM:nM),frameAnchor:o,textAnchor:a=(/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle"),lineAnchor:s=(/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle"),lineHeight:c=1,lineWidth:l=1/0,textOverflow:u,monospace:f,fontFamily:h=(f?"ui-monospace, monospace":void 0),fontSize:d,fontStyle:p,fontVariant:m,fontWeight:g,rotate:v}=e,[y,b]=mM(v,0),[w,x]=function(t){return null==t||"number"==typeof t?[void 0,t]:"string"!=typeof t?[t,void 0]:(t=t.trim().toLowerCase(),fP.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}(d);if(super(t,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:FM(y),optional:!0},text:{value:i,filter:dk,optional:!0}},e,nP),this.rotate=b,this.textAnchor=GA(a,"middle"),this.lineAnchor=vM(s,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+l,this.textOverflow=oP(u),this.monospace=!!f,this.fontFamily=oM(h),this.fontSize=x,this.fontStyle=oM(p),this.fontVariant=oM(m),this.fontWeight=oM(g),this.frameAnchor=KM(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=gP(this),this.clipLine=vP(this)}render(t,e,n,r,i){const{x:o,y:a}=e,{x:s,y:c,rotate:l,text:u,title:f,fontSize:h}=n,{rotate:d}=this,[p,m]=eE(this,r);return EA("svg:g",i).call(HA,this,r,i).call(uP,this,u,r).call(ZA,this,{x:s&&o,y:c&&a}).call((e=>e.selectAll().data(t).enter().append("text").call(qA,this).call(aP,this,u,f).attr("transform",eP`translate(${s?t=>s[t]:p},${c?t=>c[t]:m})${l?t=>` rotate(${l[t]})`:d?` rotate(${d})`:""}`).call(XA,"font-size",h&&(t=>h[t])).call(IA,this,n))).node()}}function oP(t){return null==t?null:vM(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function aP(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:c}=e;t.each((function(t){const e=s(VA(n[t])??"").map(c),l=e.length,u="top"===i?.71:"bottom"===i?1-l:(164-100*l)/200;if(l>1){let t=0;for(let n=0;n<l;++n){if(++t,!e[n])continue;const r=this.ownerDocument.createElementNS(hl.svg,"tspan");r.setAttribute("x",0),n===t-1?r.setAttribute("y",(u+n)*o+"em"):r.setAttribute("dy",t*o+"em"),r.textContent=e[n],this.appendChild(r),t=0}}else u&&this.setAttribute("y",u*o+"em"),this.textContent=e[0];if(a&&!r&&e[0]!==n[t]){const e=this.ownerDocument.createElementNS(hl.svg,"title");e.textContent=n[t],this.appendChild(e)}}))}function sP(t,{x:e,y:n,...r}={}){return void 0===r.frameAnchor&&([e,n]=AM(e,n)),new iP(t,{...r,x:e,y:n})}function cP(t,{x:e=rM,...n}={}){return new iP(t,XE({...n,x:e}))}function lP(t,{y:e=rM,...n}={}){return new iP(t,YE({...n,y:e}))}function uP(t,e,n){XA(t,"text-anchor",e.textAnchor),XA(t,"font-family",e.fontFamily),XA(t,"font-size",e.fontSize),XA(t,"font-style",e.fontStyle),XA(t,"font-variant",void 0===e.fontVariant?function(t){return t&&(function(t){for(const e of t)if(null!=e)return"number"==typeof e}(t)||IM(t))?"tabular-nums":void 0}(n):e.fontVariant),XA(t,"font-weight",e.fontWeight)}const fP=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function hP(t,e,n){const r=[];let i,o=0;for(const[a,s,c]of function*(t){let e=0,n=0;const r=t.length;for(;n<r;){let r=1;switch(t[n]){case rP:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];" "===t[++n];);e=n;break;case"\r":"\n"===t[n+1]&&++r;case"\n":yield[e,n,!0],n+=r,e=n;break;default:++n}}yield[e,n,!0]}(t))void 0===i&&(i=a),o>i&&n(t,i,s)>e&&(r.push(t.slice(i,o)+(t[o-1]===rP?"-":"")),i=a),c?(r.push(t.slice(i,s)),i=void 0):o=s;return r}const dP={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function pP(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=SP(t,i))r+=dP[t[i]]??(AP(t,i)?120:dP.e);return r}function mP(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=SP(t,i))r+=AP(t,i)?126:63;return r}function gP({monospace:t,lineWidth:e,textOverflow:n}){if(null!=n||e==1/0)return t=>t.split(/\r\n?|\n/g);const r=t?mP:pP,i=100*e;return t=>hP(t,i,r)}function vP({monospace:t,lineWidth:e,textOverflow:n}){if(null==n||e==1/0)return t=>t;const r=t?mP:pP,i=100*e;switch(n){case"clip-start":return t=>xP(t,i,r,"");case"clip-end":return t=>wP(t,i,r,"");case"ellipsis-start":return t=>xP(t,i,r,yP);case"ellipsis-middle":return t=>function(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r)/2,[a,s]=bP(t,e/2,n,o),[c]=bP(t,i-e/2-s+o,n,-o);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(SP(t,c)).trimStart()}(t,i,r,yP);case"ellipsis-end":return t=>wP(t,i,r,yP)}}const yP="";function bP(t,e,n,r){const i=[];let o=0;for(let a=0,s=0,c=t.length;a<c;a=s){s=SP(t,a);const c=n(t,a,s);if(o+c>e){for(o+=r;o>e&&a>0;)s=a,a=i.pop(),o-=n(t,a,s);return[a,e-o]}o+=c,i.push(a)}return[-1,0]}function wP(t,e,n,r){t=t.trim();const i=n(r),[o]=bP(t,e,n,i);return o<0?t:t.slice(0,o).trimEnd()+r}function xP(t,e,n,r){const i=n(t=t.trim());if(i<=e)return t;const o=n(r),[a]=bP(t,i-e+o,n,-o);return a<0?r:r+t.slice(SP(t,a)).trimStart()}const kP=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,MP=/\p{Extended_Pictographic}/uy;function SP(t,e){return e+=function(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const n=t.charCodeAt(e+1);return n>=56320&&n<57344}return!1}(t,e)?2:1,function(t,e){return!TP(t,e)&&(kP.lastIndex=e,kP.test(t))}(t,e)&&(e=kP.lastIndex),function(t,e){return 8205===t.charCodeAt(e)}(t,e)?SP(t,e+1):e}function TP(t,e){return t.charCodeAt(e)<128}function AP(t,e){return!TP(t,e)&&(MP.lastIndex=e,MP.test(t))}const EP={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},PP=3.5,_P=5*PP,$P={draw(t,e,n){const r=e*n/_P;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},CP={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},LP=new Map([["arrow",$P],["spike",CP]]);class DP extends hE{constructor(t,e={}){const{x:n,y:r,r:i=PP,length:o,rotate:a,shape:s=$P,anchor:c="middle",frameAnchor:l}=e,[u,f]=mM(o,12),[h,d]=mM(a,0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},length:{value:u,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,EP),this.r=+i,this.length=f,this.rotate=d,this.shape=function(t){if(function(t){return t&&"function"==typeof t.draw}(t))return t;const e=LP.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}(s),this.anchor=vM(c,"anchor",["start","middle","end"]),this.frameAnchor=KM(l)}render(t,e,n,r,i){const{x:o,y:a}=e,{x:s,y:c,length:l,rotate:u}=n,{length:f,rotate:h,anchor:d,shape:p,r:m}=this,[g,v]=eE(this,r);return EA("svg:g",i).call(HA,this,r,i).call(ZA,this,{x:s&&o,y:c&&a}).call((e=>e.selectAll().data(t).enter().append("path").call(qA,this).attr("transform",eP`translate(${s?t=>s[t]:g},${c?t=>c[t]:v})${u?t=>` rotate(${u[t]})`:h?` rotate(${h})`:""}${"start"===d?"":"end"===d?l?t=>` translate(0,${l[t]})`:` translate(0,${f})`:l?t=>` translate(0,${l[t]/2})`:` translate(0,${f/2})`}`).attr("d",l?t=>{const e=$g();return p.draw(e,l[t],m),e}:(()=>{const t=$g();return p.draw(t,f,m),t})()).call(IA,this,n))).node()}}function RP(t,e={}){const{x:n=rM,...r}=e;return new DP(t,{...r,x:n})}function NP(t,e={}){const{y:n=rM,...r}=e;return new DP(t,{...r,y:n})}function VP(t,e){return arguments.length<2&&!jM(t)&&(e=t,t=null),void 0===e&&(e={}),[t,e]}function FP({anchor:t}={},e){return void 0===t?e[0]:vM(t,"anchor",e)}function jP(t){return FP(t,["left","right"])}function OP(t){return FP(t,["right","left"])}function BP(t){return FP(t,["bottom","top"])}function IP(t){return FP(t,["top","bottom"])}function UP(){const[t,e]=VP(...arguments);return qP("y",jP(e),t,e)}function zP(){const[t,e]=VP(...arguments);return qP("fy",OP(e),t,e)}function WP(){const[t,e]=VP(...arguments);return YP("x",BP(e),t,e)}function HP(){const[t,e]=VP(...arguments);return YP("fx",IP(e),t,e)}function qP(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:c=r,fillOpacity:l=i,textAnchor:u,textStroke:f,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("y"===t?6:0),tickPadding:m,tickRotate:g,x:v,margin:y,marginTop:b=(void 0===y?20:y),marginRight:w=(void 0===y?"right"===e?40:0:y),marginBottom:x=(void 0===y?20:y),marginLeft:k=(void 0===y?"left"===e?40:0:y),label:M,labelAnchor:S,labelArrow:T,labelOffset:A,...E}){return p=aM(p),m=aM(m),g=aM(g),void 0!==S&&(S=vM(S,"labelAnchor",["center","top","bottom"])),T=h_(T),dE(p&&!XM(o)?function(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+("y"===t?"-empty":""),frameAnchor:s=e,tickSize:c,inset:l=0,insetLeft:u=l,insetRight:f=l,dx:h=0,y:d=("y"===t?void 0:null),...p}){return n_(NP,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:d,...p,dx:"left"===e?+h-FA+ +u:+h+FA-f,anchor:"start",length:c,shape:"left"===e?c_:l_})}(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:m,tickRotate:g,x:v,...E}):null,XM(c)?null:function(t,e,n,{facetAnchor:r=e+("y"===t?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*PE):0),text:c,textAnchor:l=(Math.abs(a)>60?"middle":"left"===e?"end":"start"),lineAnchor:u=(a>60?"top":a<-60?"bottom":"middle"),fontVariant:f,inset:h=0,insetLeft:d=h,insetRight:p=h,dx:m=0,y:g=("y"===t?void 0:null),...v}){return n_(lP,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:l,lineAnchor:u,fontVariant:f,rotate:a,y:g,...v,dx:"left"===e?+m-o-s+ +d:+m+ +o+ +s-p},(function(t,n,r,i,o){void 0===f&&(this.fontVariant=u_(t)),void 0===c&&(o.text=r_(t,n,r,i,e))}))}(t,e,n,{fill:c,fillOpacity:l,stroke:f,strokeOpacity:h,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:m,tickRotate:g,x:v,marginTop:b,marginRight:w,marginBottom:x,marginLeft:k,...E}),XM(c)||null===M?null:sP([],e_({fill:c,fillOpacity:l,...E},(function(n,r,i,o,a){const s=o[t],{marginTop:c,marginRight:l,marginBottom:u,marginLeft:f}="y"===t&&a.inset||a,h=S??(s.bandwidth?"center":"top"),d=A??("right"===e?l:f)-3;return"center"===h?(this.textAnchor=void 0,this.lineAnchor="right"===e?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor="right"===e?"end":"start",this.lineAnchor=h,this.frameAnchor=`${h}-${e}`,this.rotate=0),this.dy="top"===h?3-c:"bottom"===h?u-3:0,this.dx="right"===e?d:-d,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[f_(t,s,{anchor:e,label:M,labelAnchor:h,labelArrow:T})]}}}}))))}function YP(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:c=r,fillOpacity:l=i,textAnchor:u,textStroke:f,textStrokeOpacity:h,textStrokeWidth:d,tickSize:p=("x"===t?6:0),tickPadding:m,tickRotate:g,y:v,margin:y,marginTop:b=(void 0===y?"top"===e?30:0:y),marginRight:w=(void 0===y?20:y),marginBottom:x=(void 0===y?"bottom"===e?30:0:y),marginLeft:k=(void 0===y?20:y),label:M,labelAnchor:S,labelArrow:T,labelOffset:A,...E}){return p=aM(p),m=aM(m),g=aM(g),void 0!==S&&(S=vM(S,"labelAnchor",["center","left","right"])),T=h_(T),dE(p&&!XM(o)?function(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+("x"===t?"-empty":""),frameAnchor:s=e,tickSize:c,inset:l=0,insetTop:u=l,insetBottom:f=l,dy:h=0,x:d=("x"===t?void 0:null),...p}){return n_(RP,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:d,...p,dy:"bottom"===e?+h-FA-f:+h+FA+ +u,anchor:"start",length:c,shape:"bottom"===e?a_:s_})}(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:m,tickRotate:g,y:v,...E}):null,XM(c)?null:function(t,e,n,{facetAnchor:r=e+("x"===t?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*PE):0),text:c,textAnchor:l=(Math.abs(a)>=10?a<0^"bottom"===e?"start":"end":"middle"),lineAnchor:u=(Math.abs(a)>=10?"middle":"bottom"===e?"top":"bottom"),fontVariant:f,inset:h=0,insetTop:d=h,insetBottom:p=h,dy:m=0,x:g=("x"===t?void 0:null),...v}){return n_(cP,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:void 0===c?null:c,textAnchor:l,lineAnchor:u,fontVariant:f,rotate:a,x:g,...v,dy:"bottom"===e?+m+ +o+ +s-p:+m-o-s+ +d},(function(t,n,r,i,o){void 0===f&&(this.fontVariant=u_(t)),void 0===c&&(o.text=r_(t,n,r,i,e))}))}(t,e,n,{fill:c,fillOpacity:l,stroke:f,strokeOpacity:h,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:m,tickRotate:g,y:v,marginTop:b,marginRight:w,marginBottom:x,marginLeft:k,...E}),XM(c)||null===M?null:sP([],e_({fill:c,fillOpacity:l,...E},(function(n,r,i,o,a){const s=o[t],{marginTop:c,marginRight:l,marginBottom:u,marginLeft:f}="x"===t&&a.inset||a,h=S??(s.bandwidth?"center":"right"),d=A??("top"===e?c:u)-3;return"center"===h?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${h}`,this.textAnchor="right"===h?"end":"start"),this.lineAnchor=e,this.dy="top"===e?-d:d,this.dx="right"===h?l-3:"left"===h?3-f:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[f_(t,s,{anchor:e,label:M,labelAnchor:h,labelArrow:T})]}}}}))))}function XP(){const[t,e]=VP(...arguments);return QP("y",jP(e),t,e)}function ZP(){const[t,e]=VP(...arguments);return QP("fy",OP(e),t,e)}function GP(){const[t,e]=VP(...arguments);return JP("x",BP(e),t,e)}function KP(){const[t,e]=VP(...arguments);return JP("fx",IP(e),t,e)}function QP(t,e,n,{y:r=("y"===t?void 0:null),x:i=null,x1:o=("left"===e?i:null),x2:a=("right"===e?i:null),...s}){return n_(JE,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...t_(s)})}function JP(t,e,n,{x:r=("x"===t?void 0:null),y:i=null,y1:o=("top"===e?i:null),y2:a=("bottom"===e?i:null),...s}){return n_(QE,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...t_(s)})}function t_({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function e_({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:c,shapeRendering:l,clip:u=!1},f){return[,t]=pM(t),[,e]=mM(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:s,pointerEvents:c,shapeRendering:l,clip:u,initializer:f}}function n_(t,e,n,r,i,o){let a;const s=rE(i).initializer,c=t(n,rE({...i,initializer:function(t,n,r,s,c,l){const u=null==t&&("fx"===e||"fy"===e),{[e]:f}=s;if(!f)throw new Error(`missing scale: ${e}`);const h=f.domain();let{interval:d,ticks:p,tickFormat:m,tickSpacing:g=("x"===e?80:35)}=i;if("string"==typeof p&&d_(f)&&(d=p,p=void 0),void 0===p&&(p=RM(d,f.type)??function(t,e){const[n,r]=Qs(t.range());return(r-n)/e}(f,g)),null==t){if(jM(p))t=bM(p);else if(NM(p))t=o_(p,...Qs(h));else if(f.interval){let e=f.interval;if(f.ticks){const[n,r]=Qs(h);e=Bk(e,(r-n)/e[Ck]/p)??e,t=o_(e,n,r)}else{e=Bk(e,(t=h).length/p)??e,e!==f.interval&&(t=o_(e,...Qs(t)))}if(e===f.interval){const e=Math.round(t.length/p);e>1&&(t=t.filter(((t,n)=>n%e==0)))}}else t=f.ticks?f.ticks(p):h;if(!f.ticks&&t.length&&t!==h){const n=new tc(h);(t=t.filter((t=>n.has(t)))).length||gT(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}"y"===e||"x"===e?n=[PM(t)]:a[e]={scale:e,value:rM}}o?.call(this,f,t,p,m,a);const v=Object.fromEntries(Object.entries(a).map((([e,n])=>[e,{...n,value:Gk(t,n.value)}])));return u&&(n=l.filterFacets(t,v)),{data:t,facets:n,channels:v}}},s));return null==n?(a=c.channels,c.channels={}):a={},void 0!==r&&Object.assign(c,r),void 0===c.clip&&(c.clip=!1),c}function r_(t,e,n,r,i){return{value:i_(t,e,n,r,i)}}function i_(t,e,n,r,i){return"function"!=typeof r||"log"===t.type&&t.tickFormat?void 0===r&&e&&IM(e)?Uk(t.type,e,i)??VA:t.tickFormat?t.tickFormat("number"==typeof n?n:null,r):void 0===r?VA:"string"==typeof r?(IM(t.domain())?my:Dh)(r):lM(r):r}function o_(t,e,n){return t.range(e,t.offset(t.floor(n)))}const a_={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},s_={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},c_={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},l_={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function u_(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function f_(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:o}={}){if(!(null==r||r.inferred&&d_(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),"auto"===o&&(o=(!e.bandwidth||e.interval)&&!/[]/.test(r)),!o)return r;if(!0===o){const n=function(t){return Math.sign(bk(t.domain()))*Math.sign(bk(t.range()))}(e);n&&(o=/x$/.test(t)||"center"===i?/x$/.test(t)===n<0?"left":"right":n<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return"right"===n?`${r} `:` ${r}`;case"down":return"right"===n?`${r} `:` ${r}`}return r}}function h_(t="auto"){return!XM(t)&&("boolean"==typeof t?t:vM(t,"labelArrow",["auto","up","right","down","left"]))}function d_(t){return IM(t.domain())}function p_(t,e){if(null==e)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function m_(t,e={},n){let{columns:r,tickFormat:i,fontVariant:o=AE(t),swatchSize:a=15,swatchWidth:s=a,swatchHeight:c=a,marginLeft:l=0,className:u,style:f,width:h}=e;const d=AA(e);u=JA(u),i=i_(t.scale,t.domain,void 0,i);const p=EA("div",d).attr("class",`${u}-swatches ${u}-swatches-${null!=r?"columns":"wrap"}`);let m;return null!=r?(m=`:where(.${u}-swatches-columns .${u}-swatch) {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n:where(.${u}-swatches-columns .${u}-swatch::before) {\n  flex-shrink: 0;\n}\n:where(.${u}-swatches-columns .${u}-swatch-label) {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(n,t,s,c).call((t=>t.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i)))):(m=`:where(.${u}-swatches-wrap) {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n:where(.${u}-swatches-wrap .${u}-swatch) {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(n,t,s,c).append((function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))}))),p.call((t=>t.insert("style","*").text(`:where(.${u}-swatches) {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n:where(.${u}-swatch > svg) {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${m}`))).style("margin-left",l?+l+"px":null).style("width",void 0===h?null:+h+"px").style("font-variant",GA(o,"normal")).call(tE,f).node()}const g_=new Map([["symbol",function(t,{fill:e=(void 0!==t.hint?.fill?t.hint.fill:"none"),fillOpacity:n=1,stroke:r=(void 0!==t.hint?.stroke?t.hint.stroke:XM(e)?"currentColor":"none"),strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},c){const[l,u]=pM(e),[f,h]=pM(r),d=p_(c,l),p=p_(c,f),m=a*a*Math.PI;return n=mM(n)[1],i=mM(i)[1],o=mM(o)[1],m_(t,s,((e,r,a,s)=>e.append("svg").attr("viewBox","-8 -8 16 16").attr("width",a).attr("height",s).attr("fill","color"===l?t=>d.scale(t):u).attr("fill-opacity",n).attr("stroke","color"===f?t=>p.scale(t):h).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",(e=>{const n=$g();return t.scale(e).draw(n,m),n}))))}],["color",y_],["opacity",function({type:t,interpolate:e,...n},{legend:r=!0,color:i=Sf(0,0,0),...o}){if(!e)throw new Error(`${t} opacity scales are not supported`);!0===r&&(r="ramp");if("ramp"!==`${r}`.toLowerCase())throw new Error(`${r} opacity legends are not supported`);return y_({type:t,...n,interpolate:b_(i)},{legend:r,...o})}]]);function v_({className:t,...e},{label:n,ticks:r,tickFormat:i}={},o){return function(t={},...e){let n=t;for(const r of e)for(const e in r)if(void 0===n[e]){const i=r[e];n===t?n={...n,[e]:i}:n[e]=i}return n}(o,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function y_(t,{legend:e=!0,...n}){if(!0===e&&(e="ordinal"===t.type?"swatches":"ramp"),void 0!==t.domain)switch(`${e}`.toLowerCase()){case"swatches":return function(t,{opacity:e,...n}={}){if(!XT(t)&&!ZT(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return m_(t,n,((t,n,r,i)=>t.append("svg").attr("width",r).attr("height",i).attr("fill",n.scale).attr("fill-opacity",mM(e)[1]).append("rect").attr("width","100%").attr("height","100%")))}(t,n);case"ramp":return EE(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function b_(t){const{r:e,g:n,b:r}=Sf(t)||Sf(0,0,0);return t=>`rgba(${e},${n},${r},${t})`}function w_(t,{inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={}){t.insetTop=aM(n),t.insetRight=aM(r),t.insetBottom=aM(i),t.insetLeft=aM(o)}function x_(t,{r:e,rx:n,ry:r,rx1:i=e,ry1:o=e,rx2:a=e,ry2:s=e,rx1y1:c=(void 0!==i?+i:void 0!==o?+o:0),rx1y2:l=(void 0!==i?+i:void 0!==s?+s:0),rx2y1:u=(void 0!==a?+a:void 0!==o?+o:0),rx2y2:f=(void 0!==a?+a:void 0!==s?+s:0)}={}){c||l||u||f?(t.rx1y1=c,t.rx1y2=l,t.rx2y1=u,t.rx2y2=f):(t.rx=GA(n,"auto"),t.ry=GA(r,"auto"))}function k_(t,e,n,r,i,o){const{rx1y1:a,rx1y2:s,rx2y1:c,rx2y2:l}=o;"function"!=typeof e&&(e=lM(e)),"function"!=typeof n&&(n=lM(n)),"function"!=typeof r&&(r=lM(r)),"function"!=typeof i&&(i=lM(i));const u=Math.max(Math.abs(a+c),Math.abs(s+l)),f=Math.max(Math.abs(a+s),Math.abs(c+l));t.attr("d",(t=>{const o=e(t),h=n(t),d=r(t),p=i(t),m=o>d,g=h>p,v=m?d:o,y=m?o:d,b=g?p:h,w=g?h:p,x=Math.min(1,(y-v)/u,(w-b)/f),k=x*(m?g?l:c:g?s:a),M=x*(m?g?s:a:g?l:c),S=x*(m?g?a:s:g?c:l),T=x*(m?g?c:l:g?a:s);return`M${v},${b+S_(k,T)}A${k},${k} 0 0 ${k<0?0:1} ${v+M_(k,T)},${b}H${y-M_(M,S)}A${M},${M} 0 0 ${M<0?0:1} ${y},${b+S_(M,S)}V${w-S_(S,M)}A${S},${S} 0 0 ${S<0?0:1} ${y-M_(S,M)},${w}H${v+M_(T,k)}A${T},${T} 0 0 ${T<0?0:1} ${v},${w-S_(T,k)}Z`}))}function M_(t,e){return e<0?t:Math.abs(t)}function S_(t,e){return e<0?Math.abs(t):t}const T_={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},A_={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class E_ extends hE{constructor(t={}){const{anchor:e=null}=t;super(tM,void 0,t,null==e?T_:A_),this.anchor=gM(e,"anchor",["top","right","bottom","left"]),w_(this,t),e||x_(this,t)}render(t,e,n,r,i){const{marginTop:o,marginRight:a,marginBottom:s,marginLeft:c,width:l,height:u}=r,{anchor:f,insetTop:h,insetRight:d,insetBottom:p,insetLeft:m}=this,{rx:g,ry:v,rx1y1:y,rx1y2:b,rx2y1:w,rx2y2:x}=this,k=c+m,M=l-a-d,S=o+h,T=u-s-p;return EA(f?"svg:line":y||b||w||x?"svg:path":"svg:rect",i).datum(0).call(HA,this,r,i).call(qA,this).call(IA,this,n).call(ZA,this,{}).call("left"===f?t=>t.attr("x1",k).attr("x2",k).attr("y1",S).attr("y2",T):"right"===f?t=>t.attr("x1",M).attr("x2",M).attr("y1",S).attr("y2",T):"top"===f?t=>t.attr("x1",k).attr("x2",M).attr("y1",S).attr("y2",S):"bottom"===f?t=>t.attr("x1",k).attr("x2",M).attr("y1",T).attr("y2",T):y||b||w||x?t=>t.call(k_,k,S,M,T,this):t=>t.attr("x",k).attr("y",S).attr("width",M-k).attr("height",T-S).attr("rx",g).attr("ry",v)).node()}}const P_={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},__=new Set(["geometry","href","src","ariaLabel","scales"]);class $_ extends hE{constructor(t,e={}){e.tip&&(e={...e,tip:!1}),void 0===e.title&&jM(t)&&OM(t)&&(e={...e,title:rM});const{x:n,y:r,x1:i,x2:o,y1:a,y2:s,anchor:c,preferredAnchor:l="bottom",monospace:u,fontFamily:f=(u?"ui-monospace, monospace":void 0),fontSize:h,fontStyle:d,fontVariant:p,fontWeight:m,lineHeight:g=1,lineWidth:v=20,frameAnchor:y,format:b,textAnchor:w="start",textOverflow:x,textPadding:k=8,title:M,pointerSize:S=12,pathFilter:T="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(t,{x:{value:null!=i&&null!=o?null:n,scale:"x",optional:!0},y:{value:null!=a&&null!=s?null:r,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:null==o},y1:{value:a,scale:"y",optional:null==s},x2:{value:o,scale:"x",optional:null==i},y2:{value:s,scale:"y",optional:null==a},title:{value:M,optional:!0}},e,P_),this.anchor=GM(c,"anchor"),this.preferredAnchor=GM(l,"preferredAnchor"),this.frameAnchor=KM(y),this.textAnchor=GA(w,"middle"),this.textPadding=+k,this.pointerSize=+S,this.pathFilter=oM(T),this.lineHeight=+g,this.lineWidth=+v,this.textOverflow=oP(x),this.monospace=!!u,this.fontFamily=oM(f),this.fontSize=aM(h),this.fontStyle=oM(d),this.fontVariant=oM(p),this.fontWeight=oM(m);for(const A in P_)A in this.channels&&(this[A]=P_[A]);this.splitLines=gP(this),this.clipLine=vP(this),this.format="string"==typeof b||"function"==typeof b?{title:b}:{...b}}render(t,e,n,r,i){const o=this,{x:a,y:s,fx:c,fy:l}=e,{ownerSVGElement:u,document:f}=i,{anchor:h,monospace:d,lineHeight:p,lineWidth:m}=this,{textPadding:g,pointerSize:v,pathFilter:y}=this,{marginTop:b,marginLeft:w}=r,{x1:x,y1:k,x2:M,y2:S,x:T=x??M,y:A=k??S}=n,E=c?c(t.fx)-w:0,P=l?l(t.fy)-b:0,[_,$]=eE(this,r),C=SE(n,_),L=TE(n,$),D=d?mP:pP,R=D(yP);let N,V;"title"in n?(N=L_.call(this,{title:n.channels.title},e),V=R_):(N=L_.call(this,n.channels,e),V=N_);const F=EA("svg:g",i).call(HA,this,r,i).call(uP,this).call(ZA,this,{x:T&&a,y:A&&s}).call((r=>r.selectAll().data(t).enter().append("g").attr("transform",(t=>`translate(${Math.round(C(t))},${Math.round(L(t))})`)).call(qA,this).call((t=>t.append("path").attr("filter",y))).call((r=>r.append("text").each((function(r){const i=_x(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const a=V.call(o,r,t,N,e,n);if("string"==typeof a)for(const t of o.splitLines(a))j(i,{value:o.clipLine(t)});else{const t=new Set;for(const e of a){const{label:n=""}=e;n&&t.has(n)||(t.add(n),j(i,e))}}}))))));function j(t,{label:e,value:n,color:r,opacity:i}){e??="",n??="";const o=null!=r||null!=i;let a,s=100*m;const[c]=bP(e,s,D,R);if(c>=0)e=e.slice(0,c).trimEnd()+yP,a=n.trim(),n="";else{(e||!n&&!o)&&(n=" "+n);const[t]=bP(n,s-D(e),D,R);t>=0&&(a=n.trim(),n=n.slice(0,t).trimEnd()+yP)}const l=t.append("tspan").attr("x",0).attr("dy",`${p}em`).text("");e&&l.append("tspan").attr("font-weight","bold").text(e),n&&l.append((()=>f.createTextNode(n))),o&&l.append("tspan").text(" ").attr("fill",r).attr("fill-opacity",i).style("user-select","none"),a&&l.append("title").text(a)}function O(){const{width:t,height:e}=r.facet??r;F.selectChildren().each((function(n){let{x:r,width:i,height:a}=this.getBBox();i=Math.round(i),a=Math.round(a);let s=h;if(void 0===s){const r=C(n)+E,c=L(n)+P,l=r+i+v+2*g<t,u=r-i-v-2*g>0,f=c+a+v+2*g<e,h=c-a-v-2*g>0;s=l&&u?f&&h?o.preferredAnchor:h?"bottom":"top":f&&h?l?"left":"right":(l||u)&&(f||h)?`${h?"bottom":"top"}-${l?"left":"right"}`:o.preferredAnchor}const c=this.firstChild,l=this.lastChild;if(c.setAttribute("d",function(t,e,n,r,i){const o=r+2*n,a=i+2*n;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${e},${e}h${o-e}v${a}h${-o}z`;case"top":return`M0,0l${e/2},${e/2}h${(o-e)/2}v${a}h${-o}v${-a}h${(o-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-o}v${a}h${o}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-o}v${a}h${o}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${o-e}v${-a}h${-o}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(o-e)/2}v${-a}h${-o}v${a}h${(o-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-o}v${-a}h${o}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${o}v${a}h${-o}v${e/2-a/2}z`}}(s,v,g,i,a)),r)for(const t of l.childNodes)t.setAttribute("x",-r);l.setAttribute("y",+function(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}(s,l.childNodes.length,p).toFixed(6)+"em"),l.setAttribute("transform",`translate(${function(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}(s,v,g,i,a)})`)})),F.attr("visibility",null)}return t.length&&(F.attr("visibility","hidden"),u.isConnected?Promise.resolve().then(O):"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(O)),F.node()}}function C_(t,{x:e,y:n,...r}={}){return void 0===r.frameAnchor&&([e,n]=AM(e,n)),new $_(t,{...r,x:e,y:n})}function L_(t,e){const n={};let r=this.format;r=D_(r,t,"x"),r=D_(r,t,"y"),this.format=r;for(const i in r){const e=r[i];if(null!==e&&!1!==e)if("fx"===i||"fy"===i)n[i]=!0;else{const e=FS(t,i);e&&(n[i]=e)}}for(const i in t){if(i in n||i in r||__.has(i))continue;if(("x"===i||"y"===i)&&t.geometry)continue;const e=FS(t,i);if(e){if(null==e.scale&&"color"===e.defaultScale)continue;n[i]=e}}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const i in n){const t=this.format[i];if("string"==typeof t){const r=n[i]?.value??e[i]?.domain()??[];this.format[i]=(IM(r)?my:Dh)(t)}else if(void 0===t||!0===t){const t=e[i];this.format[i]=t?.bandwidth?i_(t,t.domain()):VA}}return n}function D_(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if(!(!(r in t)&&r in e||!(i in t)&&i in e))return t;const o=Object.entries(t),a=t[n];return o.splice(o.findIndex((([t])=>t===n))+1,0,[r,a],[i,a]),Object.fromEntries(o)}function R_(t,e,{title:n}){return this.format.title(n.value[t],t)}function*N_(t,e,n,r,i){for(const o in n){if("fx"===o||"fy"===o){yield{label:j_(r,n,o),value:this.format[o](e[o],t)};continue}if("x1"===o&&"x2"in n)continue;if("y1"===o&&"y2"in n)continue;const a=n[o];if("x2"===o&&"x1"in n)yield{label:F_(r,n,"x"),value:V_(this.format.x2,n.x1,a,t)};else if("y2"===o&&"y1"in n)yield{label:F_(r,n,"y"),value:V_(this.format.y2,n.y1,a,t)};else{const e=a.value[t],s=a.scale;if(!uk(e)&&null==s)continue;yield{label:j_(r,n,o),value:this.format[o](e,t),color:"color"===s?i[o][t]:null,opacity:"opacity"===s?i[o][t]:null}}}}function V_(t,e,n,r){return n.hint?.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}${t(n.value[r],r)}`}function F_(t,e,n){const r=j_(t,e,`${n}1`,n),i=j_(t,e,`${n}2`,n);return r===i?r:`${r}${i}`}function j_(t,e,n,r=n){const i=e[n],o=t[i?.scale??n];return String(o?.label??i?.label??r)}function O_(t={}){const{facet:e,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:s}=t,c=JA(t.className),l=void 0===t.marks?[]:I_(t.marks);l.push(...function(t){const e=[];for(const n of t){let t=n.tip;if(t){!0===t?t={}:"string"==typeof t&&(t={pointer:t});let{pointer:r,preferredAnchor:i}=t;r=/^x$/i.test(r)?kE:/^y$/i.test(r)?ME:xE,t=r(G_(n,t)),t.title=null,void 0===i&&(t.preferredAnchor=r===ME?"left":"bottom");const o=C_(n.data,t);o.facet=n.facet,o.facetAnchor=n.facetAnchor,e.push(o)}}return e}(l));const u=function(t,e){if(null==t)return;const{x:n,y:r}=t;if(null==n&&null==r)return;const i=yM(t.data);if(null==i)throw new Error("missing facet data");const o={};null!=n&&(o.fx=ES(i,{value:n,scale:"fx"}));null!=r&&(o.fy=ES(i,{value:r,scale:"fy"}));W_(o,e);const a=eA(i,o);return{channels:o,groups:a,data:t.data}}(e,t),f=new Map;for(const O of l){const e=Z_(O,u,t);e&&f.set(O,e)}const h=new Map;u&&Y_(h,[u],t),Y_(h,f,t);const d=I_(function(t,e,n){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:c,grid:l,facet:u={},facet:{axis:f=c,grid:h}=u,x:{axis:d=c,grid:p=(null===d?null:l)}=i,y:{axis:m=c,grid:g=(null===m?null:l)}=o,fx:{axis:v=f,grid:y=(null===v?null:h)}=a,fy:{axis:b=f,grid:w=(null===b?null:h)}=s}=n;(r||!MM(i)&&!e$("x",t))&&(d=p=null);(r||!MM(o)&&!e$("y",t))&&(m=g=null);e.has("fx")||(v=y=null);e.has("fy")||(b=w=null);void 0===d&&(d=!t$(t,"x"));void 0===m&&(m=!t$(t,"y"));void 0===v&&(v=!t$(t,"fx"));void 0===b&&(b=!t$(t,"fy"));!0===d&&(d="bottom");!0===m&&(m="left");!0===v&&(v="top"===d||null===d?"bottom":"top");!0===b&&(b="right"===m||null===m?"left":"right");const x=[];return Q_(x,w,ZP,s),K_(x,b,zP,"right","left",u,s),Q_(x,y,KP,a),K_(x,v,HP,"top","bottom",u,a),Q_(x,g,XP,o),K_(x,m,UP,"left","right",n,o),Q_(x,p,GP,i),K_(x,d,WP,"bottom","top",n,i),x}(l,h,t));for(const O of d){const e=Z_(O,u,t);e&&f.set(O,e)}l.unshift(...d);let p=tA(h,t);if(void 0!==p){const t=u?dA(p,u):void 0;for(const n of l){if(null===n.facet||"super"===n.facet)continue;const e=f.get(n);void 0!==e&&(e.facetsIndex=null!=n.fx||null!=n.fy?dA(p,e):t)}const e=new Set;for(const{facetsIndex:n}of f.values())n?.forEach(((t,n)=>{t?.length>0&&e.add(n)}));p.forEach(0<e.size&&e.size<p.length?(t,n)=>t.empty=!e.has(n):t=>t.empty=!1);for(const n of l)if("exclude"===n.facet){const t=f.get(n);void 0!==t&&(t.facetsIndex=nA(t.facetsIndex))}}for(const O of lS.keys())MM(t[O])&&"fx"!==O&&"fy"!==O&&h.set(O,[]);const m=new Map;for(const O of l){if(m.has(O))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:e,channels:n}=f.get(O)??{},{data:r,facets:i,channels:o}=O.initialize(e,n,t);W_(o,t),m.set(O,{data:r,facets:i,channels:o})}const g=RT(Y_(h,m,t),t),v=function(t,e,n={}){let r=.5-FA,i=.5+FA,o=.5+FA,a=.5-FA;for(const{marginTop:m,marginRight:g,marginBottom:v,marginLeft:y}of e)m>r&&(r=m),g>i&&(i=g),v>o&&(o=v),y>a&&(a=y);let{margin:s,marginTop:c=(void 0!==s?s:r),marginRight:l=(void 0!==s?s:i),marginBottom:u=(void 0!==s?s:o),marginLeft:f=(void 0!==s?s:a)}=n;c=+c,l=+l,u=+u,f=+f;let{width:h=640,height:d=vE(t,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+u-o)}=n;h=+h,d=+d;const p={width:h,height:d,marginTop:c,marginRight:l,marginBottom:u,marginLeft:f};if(t.fx||t.fy){let{margin:t,marginTop:e=(void 0!==t?t:c),marginRight:r=(void 0!==t?t:l),marginBottom:i=(void 0!==t?t:u),marginLeft:o=(void 0!==t?t:f)}=n.facet??{};e=+e,r=+r,i=+i,o=+o,p.facet={marginTop:e,marginRight:r,marginBottom:i,marginLeft:o}}return p}(g,l,t);!function(t,e){const{x:n,y:r,fx:i,fy:o}=t,a=i||o?FT(e):e;i&&OT(i,a),o&&BT(o,a);const s=i||o?jT(t,e):e;n&&OT(n,s),r&&BT(r,s)}(g,v);const y=NT(g),{fx:b,fy:w}=y,x=b||w?jT(g,v):v,k=b||w?function({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:c}=FT(n),l=t&&n$(t),u=e&&n$(e);return{marginTop:e?u[0]:r,marginRight:t?s-l[1]:i,marginBottom:e?c-u[1]:o,marginLeft:t?l[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:c}}(y,v):v,M=AA(t),S=M.document,T=ql("svg").call(S.documentElement);let A=T;M.ownerSVGElement=T,M.className=c,M.projection=vA(t,x),M.filterFacets=(t,e)=>dA(p,{channels:e,groups:eA(t,e)}),M.getMarkState=t=>{const e=m.get(t),n=f.get(t);return{...e,channels:{...e.channels,...n?.channels}}},M.dispatchValue=t=>{A.value!==t&&(A.value=t,A.dispatchEvent(new Event("input",{bubbles:!0})))};const E=new Set;for(const[O,B]of m)if(null!=O.initializer){const e="super"===O.facet?k:x,n=O.initializer(B.data,B.facets,B.channels,y,e,M);if(void 0!==n.data&&(B.data=n.data),void 0!==n.facets&&(B.facets=n.facets),void 0!==n.channels){const{fx:e,fy:r,...i}=n.channels;q_(i),Object.assign(B.channels,i);for(const n of Object.values(i)){const{scale:e}=n;null!=e&&((P=lS.get(e))!==nS&&P!==cS)&&(H_(n,t),E.add(e))}null==e&&null==r||f.set(O,!0)}}var P;if(E.size){const e=new Map;Y_(e,m,t,(t=>E.has(t))),Y_(h,m,t,(t=>E.has(t)));const n=function(t,e){for(const n in t){const r=t[n],i=e[n];void 0===r.label&&i&&(r.label=i.label)}return t}(RT(e,t),g),{scales:r,...i}=NT(n);Object.assign(g,n),Object.assign(y,i),Object.assign(y.scales,r)}let _,$;void 0!==p&&(_={x:b?.domain(),y:w?.domain()},p=function(t,{x:e,y:n}){return e&&=oA(e),n&&=oA(n),t.filter(e&&n?t=>e.has(t.x)&&n.has(t.y):e?t=>e.has(t.x):t=>n.has(t.y)).sort(e&&n?(t,r)=>e.get(t.x)-e.get(r.x)||n.get(t.y)-n.get(r.y):e?(t,n)=>e.get(t.x)-e.get(n.x):(t,e)=>n.get(t.y)-n.get(e.y))}(p,_),$=function(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:o})=>`translate(${t(i)-r},${e(o)-n})`:t?({x:e})=>`translate(${t(e)-r},0)`:({y:t})=>`translate(0,${e(t)-n})`}(b,w,v));for(const[O,B]of m)B.values=O.scale(B.channels,y,M);const{width:C,height:L}=v;_x(T).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",C).attr("height",L).attr("viewBox",`0 0 ${C} ${L}`).attr("aria-label",a).attr("aria-description",s).call((t=>t.append("style").text(`:where(.${c}) {\n  --plot-background: white;\n  display: block;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n:where(.${c} text),\n:where(.${c} tspan) {\n  white-space: pre;\n}`))).call(tE,n);for(const O of l){const{channels:t,values:e,facets:n}=m.get(O);if(void 0===p||"super"===O.facet){let r=null;if(n&&(r=n[0],r=O.filter(r,t,e),0===r.length))continue;const i=O.render(r,y,e,k,M);if(null==i)continue;T.appendChild(i)}else{let r;for(const i of p){if(!(O.facetAnchor?.(p,_,i)??!i.empty))continue;let o=null;if(n){const r=f.has(O);if(o=n[r?i.i:0],o=O.filter(o,t,e),0===o.length)continue;r||o!==n[0]||(R=void 0,N=void 0,o=(D=o).subarray?D.subarray(R,N):D.slice(R,N)),o.fx=i.x,o.fy=i.y,o.fi=i.i}const a=O.render(o,y,e,x,M);if(null!=a){(r??=_x(T).append("g")).append((()=>a)).datum(i);for(const t of["aria-label","aria-description","aria-hidden","transform"])a.hasAttribute(t)&&(r.attr(t,a.getAttribute(t)),a.removeAttribute(t))}}r?.selectChildren().attr("transform",$)}}var D,R,N;const V=function(t,e,n){const r=[];for(const[i,o]of g_){const a=n[i];if(a?.legend&&i in t){const n=o(t[i],v_(e,t[i],a),(e=>t[e]));null!=n&&r.push(n)}}return r}(g,M,t),{figure:F=null!=r||null!=i||null!=o||V.length>0}=t;F&&(A=S.createElement("figure"),A.className=`${c}-figure`,A.style.maxWidth="initial",null!=r&&A.append(B_(S,r,"h2")),null!=i&&A.append(B_(S,i,"h3")),A.append(...V,T),null!=o&&A.append(function(t,e){const n=t.createElement("figcaption");return n.append(e),n}(S,o)),"value"in T&&(A.value=T.value,delete T.value)),A.scale=function(t){return e=>{if(!lS.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}(y.scales),A.legend=function(t,e,n={}){return(r,i)=>{if(!g_.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return g_.get(r)(t[r],v_(e,n[r],i),(e=>t[e]))}}(g,M,t);const j=function(){const t=mT;return mT=0,pT=void 0,t}();return j>0&&_x(T).append("text").attr("x",C).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${j.toLocaleString("en-US")} warning${1===j?"":"s"}. Please check the console.`),A}function B_(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function I_(t){return t.flat(1/0).filter((t=>null!=t)).map(U_)}function U_(t){return"function"==typeof t.render?t:new z_(t)}class z_ extends hE{constructor(t){if("function"!=typeof t)throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function W_(t,e){for(const n in t)H_(t[n],e);return t}function H_(t,e){const{scale:n,transform:r=!0}=t;if(null==n||!r)return;const{type:i,percent:o,interval:a,transform:s=(o?t=>null==t?NaN:100*t:LM(a,i))}=e[n]??{};null!=s&&(t.value=wM(t.value,s),t.transform=!1)}function q_(t){for(const e in t)_S(e,t[e])}function Y_(t,e,n,r=iM){for(const{channels:i}of e.values())for(const e in i){const o=i[e],{scale:a}=o;if(null!=a&&r(a))if("projection"===a){if(!SA(n)){const e=void 0===n.x?.domain,r=void 0===n.y?.domain;if(e||r){const[n,i]=TA(o);e&&X_(t,"x",n),r&&X_(t,"y",i)}}}else X_(t,a,o)}return t}function X_(t,e,n){const r=t.get(e);void 0!==r?r.push(n):t.set(e,[n])}function Z_(t,e,n){if(null===t.facet||"super"===t.facet)return;const{fx:r,fy:i}=t;if(null!=r||null!=i){const e=yM(t.data??r??i);if(void 0===e)throw new Error(`missing facet data in ${t.ariaLabel}`);if(null===e)return;const o={};return null!=r&&(o.fx=ES(e,{value:r,scale:"fx"})),null!=i&&(o.fy=ES(e,{value:i,scale:"fy"})),W_(o,n),{channels:o,groups:eA(e,o)}}if(void 0===e)return;const{channels:o,groups:a,data:s}=e;if("auto"!==t.facet||t.data===s)return{channels:o,groups:a};s.length>0&&(a.size>1||1===a.size&&o.fx&&o.fy&&[...a][0][1].size>1)&&EM(yM(t.data))===EM(s)&&gT(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function G_(t,e={}){return rE({...e,x:null,y:null},((e,n,r,i,o,a)=>a.getMarkState(t)))}function K_(t,e,n,r,i,o,a){if(!e)return;const s=function(t){return/^\s*both\s*$/i.test(t)}(e);a=function(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:f,label:h=e.label,labelAnchor:d,labelArrow:p=e.labelArrow,labelOffset:m}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:c,fontVariant:l,ariaLabel:u,ariaDescription:f,label:h,labelAnchor:d,labelArrow:p,labelOffset:m}}(s?r:e,o,a);const{line:c}=a;n!==UP&&n!==WP||!c||ZM(c)||t.push(function(t){return new E_(t)}(function(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:!0===n?void 0:n}}(a))),t.push(n(a)),s&&t.push(n({...a,anchor:i,label:null}))}function Q_(t,e,n,r){e&&!ZM(e)&&t.push(n(function(t,{stroke:e=(qM(t)?t:void 0),ticks:n=(J_(t)?t:void 0),tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}(e,r)))}function J_(t){switch(typeof t){case"number":return!0;case"string":return!qM(t)}return jM(t)||"function"==typeof t?.range}function t$(t,e){const n=`${e}-axis `;return t.some((t=>t.ariaLabel?.startsWith(n)))}function e$(t,e){for(const n of e)for(const e in n.channels){const{scale:r}=n.channels[e];if(r===t||"projection"===r)return!0}return!1}function n$(t){const e=t.domain();if(0===e.length)return[0,t.bandwidth()];let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const r$={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function i$(t){return void 0===t.sort&&void 0===t.reverse?function(t,{sort:e,...n}={}){return{...(SM(t)&&void 0!==t.channel?rE:aE)(n,lE(t)),sort:TM(e)?e:null}}({channel:"-r"},t):t}class o$ extends hE{constructor(t,e={}){const{x:n,y:r,r:i,rotate:o,symbol:a=jx,frameAnchor:s}=e,[c,l]=mM(o,0),[u,f]=function(t){if(null==t||dS(t))return[void 0,t];if("string"==typeof t){const e=hS.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}(a),[h,d]=mM(i,null==u?3:4.5);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},r:{value:h,scale:"r",filter:mk,optional:!0},rotate:{value:c,optional:!0},symbol:{value:u,scale:"auto",optional:!0}},i$(e),r$),this.r=d,this.rotate=l,this.symbol=f,this.frameAnchor=KM(s);const{channels:p}=this,{symbol:m}=p;if(m){const{fill:t,stroke:e}=p;m.hint={fill:t?t.value===m.value?"color":"currentColor":this.fill??"currentColor",stroke:e?e.value===m.value?"color":"currentColor":this.stroke??"none"}}}render(t,e,n,r,i){const{x:o,y:a}=e,{x:s,y:c,r:l,rotate:u,symbol:f}=n,{r:h,rotate:d,symbol:p}=this,[m,g]=eE(this,r),v=p===jx,y=l?void 0:h*h*Math.PI;return gk(h)&&(t=[]),EA("svg:g",i).call(HA,this,r,i).call(ZA,this,{x:s&&o,y:c&&a}).call((e=>e.selectAll().data(t).enter().append(v?"circle":"path").call(qA,this).call(v?t=>{t.attr("cx",s?t=>s[t]:m).attr("cy",c?t=>c[t]:g).attr("r",l?t=>l[t]:h)}:t=>{t.attr("transform",eP`translate(${s?t=>s[t]:m},${c?t=>c[t]:g})${u?t=>` rotate(${u[t]})`:d?` rotate(${d})`:""}`).attr("d",l&&f?t=>{const e=$g();return f[t].draw(e,l[t]*l[t]*Math.PI),e}:l?t=>{const e=$g();return p.draw(e,l[t]*l[t]*Math.PI),e}:f?t=>{const e=$g();return f[t].draw(e,y),e}:(()=>{const t=$g();return p.draw(t,y),t})())}).call(IA,this,n))).node()}}function a$(t,{x:e=rM,...n}={}){return new o$(t,XE({...n,x:e}))}function s$(t,{y:e=rM,...n}={}){return new o$(t,YE({...n,y:e}))}var c$=n(821);const l$=({marginLeft:t})=>[1,t],u$=({width:t,marginRight:e})=>[-1,t-e],f$=({width:t,marginLeft:e,marginRight:n})=>[0,(e+t-n)/2],h$=({marginTop:t})=>[1,t],d$=({height:t,marginBottom:e})=>[-1,t-e],p$=({height:t,marginTop:e,marginBottom:n})=>[0,(e+t-n)/2];function m$(t){return"string"==typeof t?{anchor:t}:t}function g$(t={},e={}){1===arguments.length&&([t,e]=y$(t));let{anchor:n="left",padding:r=1,r:i=e.r}=m$(t);switch(`${n}`.toLowerCase()){case"left":n=l$;break;case"right":n=u$;break;case"middle":n=f$;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return b$("x","y",n,aM(r),i,e)}function v$(t={},e={}){1===arguments.length&&([t,e]=y$(t));let{anchor:n="bottom",padding:r=1,r:i=e.r}=m$(t);switch(`${n}`.toLowerCase()){case"top":n=h$;break;case"bottom":n=d$;break;case"middle":n=p$;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return b$("y","x",n,aM(r),i,e)}function y$(t){const{anchor:e,padding:n,...r}=t,{r:i}=r;return[{anchor:e,padding:n,r:i},r]}function b$(t,e,n,r,i,o){if(null!=i&&"number"!=typeof i){let{channels:t,sort:e,reverse:n}=o;t=QM(t),void 0===t?.r&&(o={...o,channels:{...t,r:{value:i,scale:"r"}}}),void 0===e&&void 0===n&&(o.sort={channel:"-r"})}return rE(o,(function(o,a,s,c,l,u){let{[e]:f,r:h}=s;if(!s[e])throw new Error(`missing channel: ${e}`);({[e]:f}=function(t,e,{projection:n}){const{x:r,y:i}=t;let o={};return r&&(o.x=r),i&&(o.y=i),o=PS(o,e),n&&"x"===r?.scale&&"y"===i?.scale&&MA("x","y",o,n),r&&(o.x=uM(o.x)),i&&(o.y=uM(o.y)),o}(s,c,u));const d=h?void 0:void 0!==i?aM(i):void 0!==this.r?this.r:3;h&&(h=Gk(h.value,c[h.scale]||rM,Float64Array));let[p,m]=n(l);const g=p?x$:w$,v=new Float64Array(f.length),y=h?t=>h[t]:()=>d;for(let t of a){const e=c$();t=t.filter(h?t=>pk(f[t])&&mk(h[t]):t=>pk(f[t]));const n=new Float64Array(2*t.length+2);for(const i of t){const t=y(i),o=p?t+r:0,a=f[i]-t,s=f[i]+t;let c=2;e.queryInterval(a-r,s+r,(([,,t])=>{const e=v[t]-o,a=f[i]-f[t],s=r+(h?h[i]+h[t]:2*d),l=Math.sqrt(s*s-a*a);n[c++]=e-l,n[c++]=e+l}));let l=n.slice(0,c);p&&(l=l.filter((t=>t>=0)));t:for(const e of l.sort(g)){for(let t=0;t<c;t+=2)if(n[t]+1e-6<e&&e<n[t+1]-1e-6)continue t;v[i]=e+o;break}e.insert([a,s,i])}}p||(p=1);for(const t of a)for(const e of t)v[e]=v[e]*p+m;return{data:o,facets:a,channels:{[t]:{value:v,source:null},[e]:{value:f,source:s[e]},...h&&{r:{value:h,source:s.r}}}}}))}function w$(t,e){return Math.abs(t)-Math.abs(e)}function x$(t,e){return t-e}hE.prototype.plot=function({marks:t=[],...e}={}){return O_({...e,marks:[...t,this]})};var k$=t=>{const e=(0,r.useRef)(),{0:n,1:i}=(0,r.useState)(),{0:o,1:a}=(0,r.useState)(!1),{0:s,1:c}=(0,r.useState)("");return(0,r.useEffect)((()=>{const e=[];t.shipwrecks.forEach((t=>{const n=parseInt(t.Year_Sank);!isNaN(n)&&n>1800&&e.push({shipwreck:t,year:n})})),i(e)}),[t.shipwrecks]),(0,r.useEffect)((()=>{o||c(t.hoveredShipID)}),[t.hoveredShipID]),(0,r.useEffect)((()=>{var r;if(void 0===n)return;const i=O_({width:null===(r=e.current)||void 0===r?void 0:r.offsetWidth,height:100,x:{line:!0,tickFormat:t=>t.toString()},marks:[a$(n,v$({x:"year",sort:"year",title:"name",fill:e=>e.shipwreck.id===t.hoveredShipID||e.id===Bs(t.selectedShip)?"red":"currentColor",stroke:e=>e.shipwreck.id===Bs(t.selectedShip)?"white":"none"})),a$(n,xE(v$({x:"year",sort:"year",title:"name",fill:"red"})))]});return i.addEventListener("input",(e=>{var n;void 0!==(null===(n=i.value)||void 0===n?void 0:n.shipwreck)?(a(!0),t.setHoveredShipwreckID(i.value.shipwreck.id)):(a(!1),t.setHoveredShipwreckID(""))})),i.addEventListener("mousedown",(e=>{var n;void 0!==(null===(n=i.value)||void 0===n?void 0:n.shipwreck)?(a(!0),t.setSelectedShipwreck(i.value.shipwreck)):(a(!1),t.setSelectedShipwreck(null))})),e.current.append(i),()=>i.remove()}),[n,s,t.selectedShip]),r.createElement("div",{ref:e,style:{width:"100%"}})};var M$=t=>null===t.shipwreck?r.createElement("div",null,r.createElement("h2",null,"No shipwreck selected")):r.createElement("div",{style:{overflowY:"auto",maxHeight:"100%"}},r.createElement("div",{style:{overflowY:"auto",maxHeight:"100%"}},r.createElement("h5",{style:{color:"red",cursor:"pointer"},onClick:()=>{t.setSelectedShip(null)}}," Clear selection"),r.createElement("h1",null,t.shipwreck.Ship),r.createElement("div",null,r.createElement(i.Link,{to:"/ships/"+t.shipwreck.id},r.createElement("strong",null,"id:")," ",r.createElement("span",null,t.shipwreck.id))),r.createElement("div",null,r.createElement("strong",null,"Depth:")," ",r.createElement("span",null,t.shipwreck.Depth)),r.createElement("div",null,r.createElement("strong",null,"Destination_Port:")," ",r.createElement("span",null,t.shipwreck.Destination_Port)),r.createElement("div",null,r.createElement("strong",null,"Lake:")," ",r.createElement("span",null,t.shipwreck.Lake)),r.createElement("div",null,r.createElement("strong",null,"Length:")," ",r.createElement("span",null,t.shipwreck.Length)),r.createElement("div",null,r.createElement("strong",null,"Site_Description:")," ",r.createElement("span",null,t.shipwreck.Site_Description)),r.createElement("div",null,r.createElement("strong",null,"Vessel_Type:")," ",r.createElement("span",null,t.shipwreck.Vessel_Type)),r.createElement("div",null,r.createElement("strong",null,"Year_Built:")," ",r.createElement("span",null,t.shipwreck.Year_Built)),r.createElement("div",null,r.createElement("strong",null,"Year_Sank:")," ",r.createElement("span",null,t.shipwreck.Year_Sank)),r.createElement("div",null,r.createElement("img",{src:t.shipwreck.imgPath,alt:"shipwreck",style:{width:"100%"}}))));var S$=t=>{const e=(0,r.useRef)(),{0:n,1:i}=(0,r.useState)(),{0:o,1:a}=(0,r.useState)(!1),{0:s,1:c}=(0,r.useState)("");return(0,r.useEffect)((()=>{const e=[];t.shipwrecks.forEach((t=>{const n=t.Depth.replace("ft","").replace("'","").trim(),r=parseInt(n);isNaN(r)||e.push({shipwreck:t,depth:r})})),i(e)}),[t.shipwrecks]),(0,r.useEffect)((()=>{o||c(t.hoveredShipID)}),[t.hoveredShipID]),(0,r.useEffect)((()=>{var r,i;if(void 0===n)return;const o=O_({width:null===(r=e.current)||void 0===r?void 0:r.offsetWidth,height:null===(i=e.current)||void 0===i?void 0:i.clientHeight,y:{reverse:!0,line:!0},marks:[s$(n,g$({y:"depth",sort:"depth",title:"name",fill:e=>e.shipwreck.id===t.hoveredShipID||e.id===Bs(t.selectedShip)?"red":"currentColor",stroke:e=>e.shipwreck.id===Bs(t.selectedShip)?"white":"none"})),s$(n,xE(g$({y:"depth",sort:"depth",title:"name",fill:"red"})))]});return o.addEventListener("input",(e=>{var n;void 0!==(null===(n=o.value)||void 0===n?void 0:n.shipwreck)?(a(!0),t.setHoveredShipwreckID(o.value.shipwreck.id)):(a(!1),t.setHoveredShipwreckID(""))})),o.addEventListener("mousedown",(e=>{var n;void 0!==(null===(n=o.value)||void 0===n?void 0:n.shipwreck)?(a(!0),t.setSelectedShipwreck(o.value.shipwreck)):(a(!1),t.setSelectedShipwreck(null))})),e.current.append(o),()=>o.remove()}),[n,s,t.selectedShip]),r.createElement("div",{ref:e,style:{width:"100%",height:"100%"}})};var T$=()=>{const t=(0,i.useStaticQuery)("3462736082"),{0:e,1:n}=(0,r.useState)(null),{0:o,1:a}=(0,r.useState)("default value");return(0,r.useEffect)((()=>{console.log("hover:"+o)}),[o]),r.createElement("div",{className:"index-module--gridContainer--11004"},r.createElement("div",{className:Us},r.createElement(M$,{shipwreck:e,setSelectedShip:n})),r.createElement("div",{className:Us},r.createElement(S$,{shipwrecks:t.allDataCsv.nodes,setHoveredShipwreckID:a,setSelectedShipwreck:n,hoveredShipID:o,selectedShip:e})),r.createElement("div",{className:Us},r.createElement(Is,{shipwrecks:t.allDataCsv.nodes,setSelectedShip:n,setHoveredShipID:a,hoveredShipID:o,selectedShip:e})),r.createElement("div",{className:Us+" index-module--fullWidth--69163"},r.createElement(k$,{shipwrecks:t.allDataCsv.nodes,setHoveredShipwreckID:a,setSelectedShipwreck:n,hoveredShipID:o,selectedShip:e})))};const A$=()=>r.createElement("title",null,"Shipwrecks")},821:function(t,e,n){var r=n(3076);function i(t,e,n,r,i){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(e?e.count:0)+(n?n.count:0)+r.length}t.exports=function(t){if(!t||0===t.length)return new v(null);return new v(g(t))};var o=i.prototype;function a(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function s(t,e){var n=g(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function c(t,e){var n=t.intervals([]);n.push(e),s(t,n)}function l(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?0:(n.splice(r,1),s(t,n),1)}function u(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var i=n(t[r]);if(i)return i}}function f(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var i=n(t[r]);if(i)return i}}function h(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}function d(t,e){return t-e}function p(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function m(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function g(t){if(0===t.length)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(d);var r=e[e.length>>1],o=[],a=[],s=[];for(n=0;n<t.length;++n){var c=t[n];c[1]<r?o.push(c):r<c[0]?a.push(c):s.push(c)}var l=s,u=s.slice();return l.sort(p),u.sort(m),new i(r,g(o),g(a),l,u)}function v(t){this.root=t}o.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},o.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?c(this,t):this.left.insert(t):this.left=g([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?c(this,t):this.right.insert(t):this.right=g([t]);else{var n=r.ge(this.leftPoints,t,p),i=r.ge(this.rightPoints,t,m);this.leftPoints.splice(n,0,t),this.rightPoints.splice(i,0,t)}},o.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(e-1)?l(this,t):2===(s=this.left.remove(t))?(this.left=null,this.count-=1,1):(1===s&&(this.count-=1),s):0;if(t[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(e-1)?l(this,t):2===(s=this.right.remove(t))?(this.right=null,this.count-=1,1):(1===s&&(this.count-=1),s):0;if(1===this.count)return this.leftPoints[0]===t?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var n=this,i=this.left;i.right;)n=i,i=i.right;if(n===this)i.right=this.right;else{var o=this.left,s=this.right;n.count-=i.count,n.right=i.left,i.left=o,i.right=s}a(this,i),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?a(this,this.left):a(this,this.right);return 1}for(o=r.ge(this.leftPoints,t,p);o<this.leftPoints.length&&this.leftPoints[o][0]===t[0];++o)if(this.leftPoints[o]===t){this.count-=1,this.leftPoints.splice(o,1);for(s=r.ge(this.rightPoints,t,m);s<this.rightPoints.length&&this.rightPoints[s][1]===t[1];++s)if(this.rightPoints[s]===t)return this.rightPoints.splice(s,1),1}return 0},o.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(n=this.left.queryPoint(t,e))return n;return u(this.leftPoints,t,e)}if(t>this.mid){var n;if(this.right)if(n=this.right.queryPoint(t,e))return n;return f(this.rightPoints,t,e)}return h(this.leftPoints,e)},o.queryInterval=function(t,e,n){var r;if(t<this.mid&&this.left&&(r=this.left.queryInterval(t,e,n)))return r;if(e>this.mid&&this.right&&(r=this.right.queryInterval(t,e,n)))return r;return e<this.mid?u(this.leftPoints,e,n):t>this.mid?f(this.rightPoints,t,n):h(this.leftPoints,n)};var y=v.prototype;y.insert=function(t){this.root?this.root.insert(t):this.root=new i(t[0],null,null,[t],[t])},y.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),0!==e}return!1},y.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},y.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)},Object.defineProperty(y,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(y,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})}}]);
//# sourceMappingURL=component---src-pages-index-tsx-51b05e0515a4bd7ffe2d.js.map